{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./jslib/src/misc/analytics.ts","webpack:///./jslib/src/models/request/keysRequest.ts","webpack:///./jslib/src/models/view/loginView.ts","webpack:///./jslib/src/models/view/folderView.ts","webpack:///./jslib/src/enums/deviceType.ts","webpack:///./jslib/src/services/constants.service.ts","webpack:///./jslib/src/enums/secureNoteType.ts","webpack:///./jslib/src/services/state.service.ts","webpack:///./jslib/src/misc/duo.js","webpack:///./jslib/src/enums/kdfType.ts","webpack:///./jslib/src/models/view/cardView.ts","webpack:///./jslib/src/models/view/fieldView.ts","webpack:///./jslib/src/models/view/identityView.ts","webpack:///./jslib/src/models/view/secureNoteView.ts","webpack:///./src/services/browserMessaging.service.ts","webpack:///./jslib/src/services/search.service.ts","webpack:///./src lazy namespace object","webpack:///./jslib/src/enums/uriMatchType.ts","webpack:///./jslib/src/enums/fieldType.ts","webpack:///./src/popup/scss/popup.scss","webpack:///./jslib/src/enums/cipherType.ts","webpack:///./src/popup/app.module.ts","webpack:///./jslib/src/angular/services/broadcaster.service.ts","webpack:///./jslib/src/abstractions/auth.service.ts","webpack:///./jslib/src/abstractions/i18n.service.ts","webpack:///./jslib/src/abstractions/messaging.service.ts","webpack:///./jslib/src/abstractions/state.service.ts","webpack:///./jslib/src/abstractions/storage.service.ts","webpack:///./src/popup/app.component.ts","webpack:///./jslib/src/angular/pipes/i18n.pipe.ts","webpack:///./src/popup/accounts/home.component.ts","webpack:///./src/popup/accounts/home.component.html","webpack:///./jslib/src/abstractions/platformUtils.service.ts","webpack:///./jslib/src/angular/services/validation.service.ts","webpack:///./jslib/src/angular/directives/api-action.directive.ts","webpack:///./jslib/src/angular/directives/blur-click.directive.ts","webpack:///./jslib/src/angular/directives/box-row.directive.ts","webpack:///./jslib/src/angular/directives/input-verbatim.directive.ts","webpack:///./jslib/src/angular/directives/stop-click.directive.ts","webpack:///./jslib/src/abstractions/sync.service.ts","webpack:///./jslib/src/angular/components/login.component.ts","webpack:///./src/popup/accounts/login.component.ts","webpack:///./src/popup/accounts/login.component.html","webpack:///./jslib/src/abstractions/crypto.service.ts","webpack:///./jslib/src/abstractions/user.service.ts","webpack:///./jslib/src/angular/components/lock.component.ts","webpack:///./src/popup/accounts/lock.component.ts","webpack:///./src/popup/accounts/lock.component.html","webpack:///./jslib/src/angular/directives/autofocus.directive.ts","webpack:///./jslib/src/abstractions/api.service.ts","webpack:///./jslib/src/abstractions/environment.service.ts","webpack:///./jslib/src/models/request/passwordVerificationRequest.ts","webpack:///./jslib/src/models/request/twoFactorEmailRequest.ts","webpack:///./jslib/src/misc/u2f.ts","webpack:///./jslib/src/angular/components/two-factor.component.ts","webpack:///./src/popup/accounts/two-factor.component.ts","webpack:///./src/popup/accounts/two-factor.component.html","webpack:///./jslib/src/angular/components/two-factor-options.component.ts","webpack:///./src/popup/accounts/two-factor-options.component.ts","webpack:///./src/popup/accounts/two-factor-options.component.html","webpack:///./jslib/src/models/request/registerRequest.ts","webpack:///./jslib/src/angular/components/register.component.ts","webpack:///./src/popup/accounts/register.component.ts","webpack:///./src/popup/accounts/register.component.html","webpack:///./jslib/src/models/request/passwordHintRequest.ts","webpack:///./jslib/src/angular/components/hint.component.ts","webpack:///./src/popup/accounts/hint.component.ts","webpack:///./src/popup/accounts/hint.component.html","webpack:///./jslib/src/angular/components/environment.component.ts","webpack:///./src/popup/accounts/environment.component.ts","webpack:///./src/popup/accounts/environment.component.html","webpack:///./jslib/src/angular/directives/fallback-src.directive.ts","webpack:///./jslib/src/angular/components/icon.component.ts","webpack:///./jslib/src/angular/components/icon.component.html","webpack:///./jslib/src/angular/directives/stop-prop.directive.ts","webpack:///./src/popup/services/popup-utils.service.ts","webpack:///./src/popup/components/action-buttons.component.ts","webpack:///./src/popup/components/action-buttons.component.html","webpack:///./src/popup/components/ciphers-list.component.ts","webpack:///./src/popup/components/ciphers-list.component.html","webpack:///./jslib/src/abstractions/collection.service.ts","webpack:///./jslib/src/abstractions/folder.service.ts","webpack:///./jslib/src/abstractions/search.service.ts","webpack:///./jslib/src/angular/components/ciphers.component.ts","webpack:///./src/popup/vault/ciphers.component.ts","webpack:///./src/popup/vault/ciphers.component.html","webpack:///./jslib/src/abstractions/audit.service.ts","webpack:///./jslib/src/abstractions/cipher.service.ts","webpack:///./jslib/src/abstractions/token.service.ts","webpack:///./jslib/src/abstractions/totp.service.ts","webpack:///./jslib/src/angular/components/view.component.ts","webpack:///./src/popup/vault/view.component.ts","webpack:///./src/popup/vault/view.component.html","webpack:///./jslib/src/angular/components/password-history.component.ts","webpack:///./src/popup/vault/password-history.component.ts","webpack:///./src/popup/vault/password-history.component.html","webpack:///./jslib/src/angular/directives/true-false-value.directive.ts","webpack:///./jslib/src/angular/components/add-edit.component.ts","webpack:///./src/popup/vault/add-edit.component.ts","webpack:///./src/popup/vault/add-edit.component.html","webpack:///./jslib/src/angular/components/attachments.component.ts","webpack:///./src/popup/vault/attachments.component.ts","webpack:///./src/popup/vault/attachments.component.html","webpack:///./src/popup/components/pop-out.component.ts","webpack:///./src/popup/components/pop-out.component.html","webpack:///./jslib/src/abstractions/passwordGeneration.service.ts","webpack:///./jslib/src/angular/components/password-generator.component.ts","webpack:///./src/popup/generator/password-generator.component.ts","webpack:///./src/popup/generator/password-generator.component.html","webpack:///./jslib/src/angular/components/password-generator-history.component.ts","webpack:///./src/popup/generator/password-generator-history.component.ts","webpack:///./src/popup/generator/password-generator-history.component.html","webpack:///./jslib/src/abstractions/export.service.ts","webpack:///./jslib/src/angular/components/export.component.ts","webpack:///./src/popup/settings/export.component.ts","webpack:///./src/popup/settings/export.component.html","webpack:///./src/popup/settings/folders.component.ts","webpack:///./src/popup/settings/folders.component.html","webpack:///./jslib/src/angular/components/folder-add-edit.component.ts","webpack:///./src/popup/settings/folder-add-edit.component.ts","webpack:///./src/popup/settings/folder-add-edit.component.html","webpack:///./src/popup/settings/sync.component.ts","webpack:///./src/popup/settings/sync.component.html","webpack:///./jslib/src/angular/components/premium.component.ts","webpack:///./src/popup/settings/premium.component.ts","webpack:///./src/popup/settings/premium.component.html","webpack:///./src/popup/settings/options.component.ts","webpack:///./src/popup/settings/options.component.html","webpack:///./src/popup/private-mode.component.ts","webpack:///./src/popup/private-mode.component.html","webpack:///./src/popup/tabs.component.ts","webpack:///./src/popup/tabs.component.html","webpack:///./src/services/abstractions/autofill.service.ts","webpack:///./src/popup/vault/current-tab.component.ts","webpack:///./src/popup/vault/current-tab.component.html","webpack:///./jslib/src/angular/components/groupings.component.ts","webpack:///./src/popup/vault/groupings.component.ts","webpack:///./src/popup/vault/groupings.component.html","webpack:///./jslib/src/abstractions/lock.service.ts","webpack:///./src/popup/settings/settings.component.ts","webpack:///./src/popup/settings/settings.component.html","webpack:///./src/popup/app.component.ts.AppComponent.html","webpack:///./jslib/src/abstractions/appId.service.ts","webpack:///./jslib/src/abstractions/notifications.service.ts","webpack:///./jslib/src/abstractions/settings.service.ts","webpack:///./src/popup/services/popup-search.service.ts","webpack:///./src/popup/services/services.module.ts","webpack:///./jslib/src/angular/services/auth-guard.service.ts","webpack:///./src/popup/services/launch-guard.service.ts","webpack:///./src/popup/app-routing.module.ts","webpack:///./src/popup/main.ts","webpack:///./jslib/src/enums/twoFactorProviderType.ts","webpack:///./src/browser/browserApi.ts","webpack:///./jslib/src/models/view/cipherView.ts","webpack:///./jslib/src/models/domain/authResult.ts","webpack:///./jslib/src/models/request/deviceRequest.ts","webpack:///./jslib/src/models/request/preloginRequest.ts","webpack:///./jslib/src/models/request/tokenRequest.ts","webpack:///./jslib/src/services/auth.service.ts","webpack:///./jslib/src/models/view/loginUriView.ts","webpack:///./jslib/src/misc/utils.ts"],"names":[],"mappings":"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AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,KAAe,EAAE,EAEpB;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,sCAAsC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,+B;;;;;;;;ACzWA;AAAA,IAAY,OAEX;AAFD,WAAY,OAAO;IACf,uDAAiB;AACrB,CAAC,EAFW,OAAO,KAAP,OAAO,QAElB;;;;;;;;;ACED;AAAO;IAUH,gBAAgB;IAEhB,YAAY,CAAQ;QAVpB,aAAQ,GAAW,IAAI,CAAC;QAIxB,iBAAiB;QACT,WAAM,GAAW,IAAI,CAAC;QAM1B,OAAO;IACX,CAAC;IAED,IAAI,UAAU;QACV,OAAO,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;IACnE,CAAC;IAED,IAAI,KAAK;QACL,OAAO,IAAI,CAAC,MAAM,CAAC;IACvB,CAAC;IACD,IAAI,KAAK,CAAC,KAAa;QACnB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IAC1B,CAAC;IAED,IAAI,MAAM;QACN,OAAO,IAAI,CAAC,OAAO,CAAC;IACxB,CAAC;IACD,IAAI,MAAM,CAAC,KAAa;QACpB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACrB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IAC1B,CAAC;IAED,IAAI,QAAQ;QACR,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,EAAE;YACxB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC;YAC5B,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,IAAI,CAAC,EAAE;gBAChD,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,IAAI,IAAI,CAAC,SAAS,KAAK,EAAE,EAAE;oBACjD,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC;iBAC1B;qBAAM;oBACH,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;iBACvB;gBACD,IAAI,CAAC,SAAS,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;aACxE;SACJ;QACD,OAAO,IAAI,CAAC,SAAS,CAAC;IAC1B,CAAC;IAED,IAAI,UAAU;QACV,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACjC,OAAO,IAAI,CAAC;SACf;QAED,IAAI,GAAG,GAAG,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QACzE,GAAG,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;QACjF,OAAO,GAAG,CAAC;IACf,CAAC;IAEO,UAAU,CAAC,IAAY;QAC3B,OAAO,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC;IAClD,CAAC;CACJ;;;;;;;;;AC9DD;AAAO;IAKH,YAAY,CAAS;QACjB,IAAI,CAAC,CAAC,EAAE;YACJ,OAAO;SACV;QAED,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;IACvB,CAAC;IAED,IAAI,WAAW;QACX,OAAO,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC;IAClD,CAAC;CACJ;;;;;;;;;AClBD;AAAO;IAsBH,gBAAgB;IAEhB,YAAY,CAAY;QAvBxB,UAAK,GAAW,IAAI,CAAC;QAwBjB,OAAO;IACX,CAAC;IAED,IAAI,SAAS;QACT,OAAO,IAAI,CAAC,UAAU,CAAC;IAC3B,CAAC;IACD,IAAI,SAAS,CAAC,KAAa;QACvB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IAC1B,CAAC;IAED,IAAI,QAAQ;QACR,OAAO,IAAI,CAAC,SAAS,CAAC;IAC1B,CAAC;IACD,IAAI,QAAQ,CAAC,KAAa;QACtB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IAC1B,CAAC;IAED,IAAI,QAAQ;QACR,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,EAAE;YAC7E,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;YACpB,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,EAAE;gBACxB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;aACnC;YACD,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,EAAE;gBACvB,IAAI,IAAI,CAAC,SAAS,KAAK,EAAE,EAAE;oBACvB,IAAI,CAAC,SAAS,IAAI,GAAG,CAAC;iBACzB;gBACD,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,QAAQ,CAAC;aACnC;SACJ;QAED,OAAO,IAAI,CAAC,SAAS,CAAC;IAC1B,CAAC;IAED,IAAI,QAAQ;QACR,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,EAAE;YAClG,IAAI,IAAI,GAAG,EAAE,CAAC;YACd,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,EAAE;gBACpB,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC;aAC9B;YACD,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,EAAE;gBACxB,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,CAAC;aAClC;YACD,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,EAAE;gBACzB,IAAI,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,CAAC;aACnC;YACD,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,EAAE;gBACvB,IAAI,IAAI,IAAI,CAAC,QAAQ,CAAC;aACzB;YACD,OAAO,IAAI,CAAC,IAAI,EAAE,CAAC;SACtB;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;CACJ;;;;;;;;;AC/ED;AAAO;IAGH,YAAY,CAAc;QACtB,IAAI,CAAC,CAAC,EAAE;YACJ,OAAO;SACV;QAED,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;IACvB,CAAC;IAED,IAAI,QAAQ;QACR,OAAO,IAAI,CAAC;IAChB,CAAC;CACJ;;;;;;;;;ACpBD;AAAA;AAAmD;AAIpC;IACX,IAAI,CAAC,UAAkB,EAAE,MAAW,EAAE;QAClC,MAAM,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,GAAG,CAAC,CAAC;QAEhE,IAAI,sEAAU,CAAC,WAAW,EAAE;YACxB,MAAM,MAAM,GAAG,sEAAU,CAAC,iBAAiB,EAAE,CAAC;YAC9C,MAAM,CAAC,aAAa,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC;YAEzD,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,EAAE;gBACjE,OAAO;aACV;YAED,MAAM,OAAO,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAC7C,MAAM,WAAW,GAAG,OAAO,CAAC,aAAa,CAAC;YAC1C,IAAI,OAAO,CAAC,OAAO,IAAI,WAAW,CAAC,iCAAiC,EAAE;gBAClE,WAAW,CAAC,iCAAiC,CAAC,OAAO,CAAC,CAAC;aAC1D;SACJ;aAAM;YACH,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;SACvC;IACL,CAAC;CACJ;;;;;;;;;;;;;;;;;;;;;;;;ACzB4B;AAQoB;AACA;AACF;AACM;AAE9C;IAKH,YAAoB,aAA4B,EAAE,oBAA0C;QAAxE,kBAAa,GAAb,aAAa,CAAe;QAJxC,aAAQ,GAAG,KAAK,CAAC;QACjB,UAAK,GAAe,IAAI,CAAC;QACzB,mBAAc,GAAG,KAAK,CAAC;QAG3B,IAAI,CAAC,cAAc,GAAG,oBAAoB,IAAI,IAAI;YAC9C,oBAAoB,CAAC,SAAS,EAAE,KAAK,oEAAU,CAAC,aAAa,CAAC;IACtE,CAAC;IAED,UAAU;QACN,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IACtB,CAAC;IAED,YAAY,CAAC,KAAa;QACtB,MAAM,aAAa,GAAG,KAAK,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;YAC3E,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;QACzE,OAAO,CAAC,aAAa,CAAC;IAC1B,CAAC;IAEK,YAAY;;YACd,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,OAAO;aACV;YACD,2BAA2B;YAC3B,OAAO,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;YAChC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAClB,MAAM,OAAO,GAAG,IAAI,4CAAY,EAAE,CAAC;YACnC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YACjB,OAAe,CAAC,KAAK,CAAC,SAAS,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,SAAS,EAAE,CAAC,CAAa,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;YAClG,OAAe,CAAC,KAAK,CAAC,MAAM,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC;YAC7C,OAAe,CAAC,KAAK,CAAC,UAAU,EAAE;gBAC/B,KAAK,EAAE,CAAC;gBACR,SAAS,EAAE,CAAC,CAAa,EAAE,EAAE;oBACzB,IAAI,CAAC,CAAC,QAAQ,IAAI,IAAI,IAAI,CAAC,CAAC,IAAI,KAAK,oEAAU,CAAC,IAAI,EAAE;wBAClD,OAAO,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;qBACxC;oBACD,OAAO,CAAC,CAAC,QAAQ,CAAC;gBACtB,CAAC;aACJ,CAAC,CAAC;YACH,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;YACtB,OAAe,CAAC,KAAK,CAAC,gBAAgB,EAAE;gBACrC,SAAS,EAAE,CAAC,CAAa,EAAE,EAAE,CAAC,CAAC,CAAC,KAAK,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI;aAC1E,CAAC,CAAC;YACF,OAAe,CAAC,KAAK,CAAC,YAAY,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,SAAS,EAAE,CAAC,CAAa,EAAE,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;YACtG,OAAe,CAAC,KAAK,CAAC,QAAQ,EAAE,EAAE,SAAS,EAAE,CAAC,CAAa,EAAE,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,EAAE,KAAK,CAAC,EAAE,CAAC,CAAC;YACjG,OAAe,CAAC,KAAK,CAAC,eAAe,EAAE,EAAE,SAAS,EAAE,CAAC,CAAa,EAAE,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;YACvG,OAAe,CAAC,KAAK,CAAC,aAAa,EAAE,EAAE,SAAS,EAAE,CAAC,CAAa,EAAE,EAAE,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,EAAE,KAAK,CAAC,EAAE,CAAC,CAAC;YAC3G,OAAe,CAAC,KAAK,CAAC,oBAAoB,EACvC,EAAE,SAAS,EAAE,CAAC,CAAa,EAAE,EAAE,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;YACzE,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,eAAe,EAAE,CAAC;YAC3D,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YACvC,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,EAAE,CAAC;YAC7B,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,2BAA2B;YAC3B,OAAO,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;QACvC,CAAC;KAAA;IAEK,aAAa,CAAC,KAAa,EAAE,SAA0C,IAAI,EAAE,UAAwB,IAAI;;YAE3G,MAAM,OAAO,GAAiB,EAAE,CAAC;YACjC,IAAI,KAAK,IAAI,IAAI,EAAE;gBACf,KAAK,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;aACtC;YACD,IAAI,KAAK,KAAK,EAAE,EAAE;gBACd,KAAK,GAAG,IAAI,CAAC;aAChB;YAED,IAAI,OAAO,IAAI,IAAI,EAAE;gBACjB,OAAO,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,eAAe,EAAE,CAAC;aACxD;YACD,IAAI,MAAM,IAAI,IAAI,EAAE;gBAChB,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;aACpC;YAED,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,EAAE;gBAC3B,OAAO,OAAO,CAAC;aAClB;YAED,MAAM,KAAK,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC;YACvC,IAAI,KAAK,IAAI,IAAI,EAAE;gBACf,sDAAsD;gBACtD,OAAO,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;aAClD;YAED,MAAM,UAAU,GAAG,IAAI,GAAG,EAAsB,CAAC;YACjD,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;YAEhD,IAAI,aAAa,GAAwB,IAAI,CAAC;YAC9C,MAAM,aAAa,GAAG,KAAK,IAAI,IAAI,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACpF,IAAI,aAAa,EAAE;gBACf,IAAI;oBACA,aAAa,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;iBACxD;gBAAC,WAAM,GAAG;aACd;iBAAM;gBACH,2BAA2B;gBAC3B,MAAM,MAAM,GAAG,0CAAU,CAAC,QAAQ,CAAC,OAAO,GAAG,0CAAU,CAAC,QAAQ,CAAC,QAAQ,CAAC;gBAC1E,aAAa,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE;oBAC9B,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,MAAM,EAAE,CAAC,MAAM,CAAC,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC,CAAC;oBACtD,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,MAAM,EAAE,CAAC,UAAU,CAAC,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC,CAAC;oBAC1D,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,MAAM,EAAE,CAAC,YAAY,CAAC,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC,CAAC;oBAC5D,8CAAc,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;wBACpC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,EAAE,EAAE,CAAC,CAAC;oBACjC,CAAC,CAAC,CAAC;gBACP,CAAC,CAAC,CAAC;aACN;YAED,IAAI,aAAa,IAAI,IAAI,EAAE;gBACvB,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;oBACxB,IAAI,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE;wBACvB,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;qBACvC;gBACL,CAAC,CAAC,CAAC;aACN;YACD,OAAO,OAAO,CAAC;QACnB,CAAC;KAAA;IAED,kBAAkB,CAAC,OAAqB,EAAE,KAAa;QACnD,KAAK,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;QACnC,OAAO,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE;YACxB,IAAI,CAAC,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE;gBAC5D,OAAO,IAAI,CAAC;aACf;YACD,IAAI,IAAI,CAAC,cAAc,EAAE;gBACrB,OAAO,KAAK,CAAC;aAChB;YACD,IAAI,KAAK,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE;gBAC7C,OAAO,IAAI,CAAC;aACf;YACD,IAAI,CAAC,CAAC,QAAQ,IAAI,IAAI,IAAI,CAAC,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE;gBACpE,OAAO,IAAI,CAAC;aACf;YACD,IAAI,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,KAAK,CAAC,GAAG,IAAI,IAAI,IAAI,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE;gBACjF,OAAO,IAAI,CAAC;aACf;YACD,OAAO,KAAK,CAAC;QACjB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,iBAAiB;QACb,OAAO,IAAI,CAAC,KAAK,CAAC;IACtB,CAAC;IAEO,cAAc,CAAC,CAAa,EAAE,MAAe;QACjD,IAAI,CAAC,CAAC,CAAC,SAAS,EAAE;YACd,OAAO,IAAI,CAAC;SACf;QACD,IAAI,MAAM,GAAa,EAAE,CAAC;QAC1B,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;YACnB,IAAI,CAAC,CAAC,IAAI,IAAI,IAAI,EAAE;gBAChB,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;aACvB;YACD,IAAI,CAAC,CAAC,IAAI,KAAK,kEAAS,CAAC,IAAI,IAAI,CAAC,CAAC,KAAK,IAAI,IAAI,EAAE;gBAC9C,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;aACxB;QACL,CAAC,CAAC,CAAC;QACH,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC;QAC/C,IAAI,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE;YACrB,OAAO,IAAI,CAAC;SACf;QACD,OAAO,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;IAC9C,CAAC;IAEO,mBAAmB,CAAC,CAAa,EAAE,MAAe;QACtD,IAAI,CAAC,CAAC,CAAC,cAAc,EAAE;YACnB,OAAO,IAAI,CAAC;SACf;QACD,IAAI,WAAW,GAAa,EAAE,CAAC;QAC/B,CAAC,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;YACxB,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,QAAQ,IAAI,IAAI,EAAE;gBACjC,IAAI,MAAM,IAAI,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;oBACxC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;iBACvE;qBAAM;oBACH,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;iBAChC;aACJ;QACL,CAAC,CAAC,CAAC;QACH,WAAW,GAAG,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC;QACzD,IAAI,WAAW,CAAC,MAAM,KAAK,CAAC,EAAE;YAC1B,OAAO,IAAI,CAAC;SACf;QACD,OAAO,MAAM,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC;IACxD,CAAC;IAEO,YAAY,CAAC,CAAa;QAC9B,IAAI,CAAC,CAAC,KAAK,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,EAAE;YACrC,OAAO,IAAI,CAAC;SACf;QACD,MAAM,IAAI,GAAa,EAAE,CAAC;QAC1B,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;YACvB,IAAI,CAAC,CAAC,GAAG,IAAI,IAAI,IAAI,CAAC,CAAC,GAAG,KAAK,EAAE,EAAE;gBAC/B,OAAO;aACV;YACD,IAAI,CAAC,CAAC,QAAQ,IAAI,IAAI,EAAE;gBACpB,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;gBACtB,OAAO;aACV;YACD,IAAI,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;YAChB,IAAI,CAAC,CAAC,KAAK,KAAK,wEAAY,CAAC,iBAAiB,EAAE;gBAC5C,MAAM,aAAa,GAAG,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;gBACzC,IAAI,aAAa,GAAG,CAAC,CAAC,EAAE;oBACpB,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,aAAa,GAAG,CAAC,CAAC,CAAC;iBACvC;gBACD,MAAM,UAAU,GAAG,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;gBACxC,IAAI,UAAU,GAAG,CAAC,CAAC,EAAE;oBACjB,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC;iBACtC;aACJ;YACD,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC;QACH,OAAO,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC;IACzC,CAAC;CACJ;;;;;;;;AClOD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,kC;;;;;;;;ACZA;AAAA,IAAY,YAOX;AAPD,WAAY,YAAY;IACpB,mDAAU;IACV,+CAAQ;IACR,2DAAc;IACd,iDAAS;IACT,yEAAqB;IACrB,iDAAS;AACb,CAAC,EAPW,YAAY,KAAZ,YAAY,QAOvB;;;;;;;;;ACPD;AAAA,IAAY,SAIX;AAJD,WAAY,SAAS;IACjB,yCAAQ;IACR,6CAAU;IACV,+CAAW;AACf,CAAC,EAJW,SAAS,KAAT,SAAS,QAIpB;;;;;;;;ACJD,yC;;;;;;;;ACAA;AAAA,IAAY,UAKX;AALD,WAAY,UAAU;IAClB,6CAAS;IACT,uDAAc;IACd,2CAAQ;IACR,mDAAY;AAChB,CAAC,EALW,UAAU,KAAV,UAAU,QAKrB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACLgB;AACU;AAiEF;AACyB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE;AACG;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACA;AAEzD,4CAAkB,CAAC,YAAQ,EAAE,IAAI,CAAC,CAAC;AACnC,4CAAkB,CAAC,YAAQ,EAAE,IAAI,CAAC,CAAC;AACnC,4CAAkB,CAAC,YAAQ,EAAE,IAAI,CAAC,CAAC;AACnC,4CAAkB,CAAC,YAAQ,EAAE,IAAI,CAAC,CAAC;AACnC,4CAAkB,CAAC,YAAQ,EAAE,IAAI,CAAC,CAAC;AACnC,4CAAkB,CAAC,YAAQ,EAAE,IAAI,CAAC,CAAC;AACnC,4CAAkB,CAAC,YAAQ,EAAE,IAAI,CAAC,CAAC;AACnC,4CAAkB,CAAC,YAAQ,EAAE,IAAI,CAAC,CAAC;AACnC,4CAAkB,CAAC,YAAQ,EAAE,IAAI,CAAC,CAAC;AACnC,4CAAkB,CAAC,YAAQ,EAAE,IAAI,CAAC,CAAC;AACnC,4CAAkB,CAAC,YAAQ,EAAE,IAAI,CAAC,CAAC;AACnC,4CAAkB,CAAC,YAAQ,EAAE,IAAI,CAAC,CAAC;AACnC,4CAAkB,CAAC,YAAQ,EAAE,IAAI,CAAC,CAAC;AACnC,4CAAkB,CAAC,YAAQ,EAAE,IAAI,CAAC,CAAC;AACnC,4CAAkB,CAAC,YAAQ,EAAE,IAAI,CAAC,CAAC;AACnC,4CAAkB,CAAC,YAAQ,EAAE,IAAI,CAAC,CAAC;AACnC,4CAAkB,CAAC,YAAQ,EAAE,IAAI,CAAC,CAAC;AACnC,4CAAkB,CAAC,YAAQ,EAAE,IAAI,CAAC,CAAC;AACnC,4CAAkB,CAAC,YAAU,EAAE,OAAO,CAAC,CAAC;AACxC,4CAAkB,CAAC,eAAU,EAAE,OAAO,CAAC,CAAC;AACxC,4CAAkB,CAAC,YAAQ,EAAE,IAAI,CAAC,CAAC;AACnC,4CAAkB,CAAC,YAAQ,EAAE,IAAI,CAAC,CAAC;AACnC,4CAAkB,CAAC,YAAQ,EAAE,IAAI,CAAC,CAAC;AACnC,4CAAkB,CAAC,YAAQ,EAAE,IAAI,CAAC,CAAC;AACnC,4CAAkB,CAAC,YAAQ,EAAE,IAAI,CAAC,CAAC;AACnC,4CAAkB,CAAC,YAAQ,EAAE,IAAI,CAAC,CAAC;AACnC,4CAAkB,CAAC,YAAQ,EAAE,IAAI,CAAC,CAAC;AACnC,4CAAkB,CAAC,YAAQ,EAAE,IAAI,CAAC,CAAC;AACnC,4CAAkB,CAAC,iBAAU,EAAE,OAAO,CAAC,CAAC;AACxC,4CAAkB,CAAC,iBAAU,EAAE,OAAO,CAAC,CAAC;AAmEjC;CAAmB;;;;;;;;;;;;;AC/LnB;IADP;QAEI,gBAAW,GAAuC,IAAI,GAAG,EAAiC,CAAC;IA4B/F,CAAC;IA1BG,IAAI,CAAC,OAAY,EAAE,EAAW;QAC1B,IAAI,EAAE,IAAI,IAAI,EAAE;YACZ,IAAI,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE;gBAC1B,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC;aACrC;YACD,OAAO;SACV;QAED,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;YAC/B,KAAK,CAAC,OAAO,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,SAAS,CAAC,EAAU,EAAE,eAAsC;QACxD,IAAI,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE;YAC1B,OAAO;SACV;QAED,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,EAAE,EAAE,eAAe,CAAC,CAAC;IAC9C,CAAC;IAED,WAAW,CAAC,EAAU;QAClB,IAAI,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE;YAC1B,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;SAC/B;IACL,CAAC;CACJ;;;AC3BM;CAeN;;;ACpBM;CAON;;;ACPM;CAEN;;;ACFM;CAKN;;;ACLM;CAIN;;;;;;;;;;;;;;ACJkD;AAQzB;AACoC;AAChC;AAQP;AACkC;AAKhC;AAEmB;AAEoC;AAElB;AACA;AACU;AACR;AACI;AAEA;AAc7D,MAAM,0BAAY;IAarB,YAAoB,2BAAwD,EAAU,SAAuB,EACjG,cAA8B,EAAU,cAA8B,EACtE,kBAAsC,EAAU,WAAwB,EACxE,WAAwB,EAAU,MAAc,EAChD,YAA0B,EAAU,gBAAkC,EACtE,iBAAoC,EAAU,MAAc,EAC5D,SAAuB;QANf,gCAA2B,GAA3B,2BAA2B,CAA6B;QAAU,cAAS,GAAT,SAAS,CAAc;QACjG,mBAAc,GAAd,cAAc,CAAgB;QAAU,mBAAc,GAAd,cAAc,CAAgB;QACtE,uBAAkB,GAAlB,kBAAkB,CAAoB;QAAU,gBAAW,GAAX,WAAW,CAAa;QACxE,gBAAW,GAAX,WAAW,CAAa;QAAU,WAAM,GAAN,MAAM,CAAQ;QAChD,iBAAY,GAAZ,YAAY,CAAc;QAAU,qBAAgB,GAAhB,gBAAgB,CAAkB;QACtE,sBAAiB,GAAjB,iBAAiB,CAAmB;QAAU,WAAM,GAAN,MAAM,CAAQ;QAC5D,cAAS,GAAT,SAAS,CAAc;QAlBnC,kBAAa,GAAkB,IAAI,yCAAa,CAAC;YAC7C,eAAe,EAAE,KAAK;YACtB,kBAAkB,EAAE,IAAI;YACxB,SAAS,EAAE,SAAS;YACpB,KAAK,EAAE,CAAC;YACR,aAAa,EAAE,yBAAyB;YACxC,WAAW,EAAE,KAAK;SACrB,CAAC,CAAC;QAEK,iBAAY,GAAW,IAAI,CAAC;QAC5B,gBAAW,GAAW,EAAE,CAAC;IAQM,CAAC;IAExC,QAAQ;QACJ,IAAI,gCAAU,CAAC,iBAAiB,EAAE,IAAI,IAAI,EAAE;YACxC,OAAO;SACV;QAED,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,GAAG,EAAE;YAC/B,MAAM,CAAC,WAAW,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;YACjD,MAAM,CAAC,WAAW,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;YACjD,MAAM,CAAC,YAAY,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;YAClD,MAAM,CAAC,OAAO,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;YAC7C,MAAM,CAAC,QAAQ,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;YAC9C,MAAM,CAAC,UAAU,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;QACpD,CAAC,CAAC,CAAC;QAEF,MAAc,CAAC,iCAAiC,GAAG,CAAO,GAAQ,EAAE,MAAW,EAAE,YAAiB,EAAE,EAAE;YACnG,IAAI,GAAG,CAAC,OAAO,KAAK,gBAAgB,EAAE;gBAClC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAS,EAAE;oBACvB,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,GAAG,EAAE;wBACzB,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,YAAY,EAAE,CAAC,CAAC;wBACzD,IAAI,GAAG,CAAC,OAAO,EAAE;4BACb,IAAI,CAAC,SAAS,CAAC;gCACX,IAAI,EAAE,SAAS;gCACf,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,WAAW,CAAC;gCACtC,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,cAAc,CAAC;6BAC3C,CAAC,CAAC;yBACN;wBACD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;wBAC/B,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;oBAC9B,CAAC,CAAC,CAAC;oBACH,IAAI,CAAC,iBAAiB,CAAC,aAAa,EAAE,CAAC;gBAC3C,CAAC,EAAC,CAAC;aACN;iBAAM,IAAI,GAAG,CAAC,OAAO,KAAK,QAAQ,EAAE;gBACjC,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;aAC7B;iBAAM,IAAI,GAAG,CAAC,OAAO,KAAK,YAAY,EAAE;gBACrC,MAAM,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;aAC9B;iBAAM,IAAI,GAAG,CAAC,OAAO,KAAK,WAAW,EAAE;gBACpC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE;oBACjB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;gBACxB,CAAC,CAAC,CAAC;aACN;iBAAM,IAAI,GAAG,CAAC,OAAO,KAAK,qBAAqB,EAAE;gBAC9C,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC;oBAC3B,MAAM,EAAE,GAAG,CAAC,MAAM;oBAClB,UAAU,EAAE,EAAE,KAAK,EAAE,GAAG,CAAC,KAAK,EAAE;iBACnC,CAAC,CAAC;aACN;iBAAM;gBACH,GAAG,CAAC,YAAY,GAAG,MAAM,CAAC;gBAC1B,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aACrC;QACL,CAAC,EAAC;QAEF,gCAAU,CAAC,eAAe,CAAE,MAAc,CAAC,iCAAiC,CAAC,CAAC;QAE9E,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,EAAE;YACnC,IAAI,KAAK,YAAY,qCAAa,EAAE;gBAChC,MAAM,GAAG,GAAG,KAAK,CAAC,iBAAiB,IAAI,KAAK,CAAC,GAAG,IAAI,EAAE,CAAC;gBACvD,IAAI,GAAG,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE;oBACnE,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC;oBAC/C,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;iBAChD;gBACD,IAAI,GAAG,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE;oBAC1B,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;iBAC7C;gBACD,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC;aAC1B;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAED,QAAQ,CAAC,MAAoB;QACzB,OAAO,gCAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,kBAAkB,CAAC,KAAK,CAAC;IACxE,CAAC;IAEa,cAAc;;YACxB,MAAM,GAAG,GAAG,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC;YACnC,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,IAAI,GAAG,GAAG,IAAI,CAAC,YAAY,GAAG,GAAG,EAAE;gBAC5D,OAAO;aACV;YAED,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC;YACxB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,6CAAgB,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC;QAClE,CAAC;KAAA;IAEO,SAAS,CAAC,GAAQ;QACtB,MAAM,KAAK,GAAU;YACjB,IAAI,EAAE,GAAG,CAAC,IAAI;YACd,KAAK,EAAE,GAAG,CAAC,KAAK;SACnB,CAAC;QACF,IAAI,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,QAAQ,EAAE;YAChC,KAAK,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;SACzB;aAAM,IAAI,GAAG,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;YAC9B,KAAK,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;SAC5B;aAAM;YACH,IAAI,OAAO,GAAG,EAAE,CAAC;YACjB,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAS,EAAE,EAAE,CAC3B,OAAO,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,+BAAe,CAAC,IAAI,EAAE,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;YACpF,KAAK,CAAC,IAAI,GAAG,OAAO,CAAC;YACrB,KAAK,CAAC,cAAc,GAAG,0CAAc,CAAC,WAAW,CAAC;SACrD;QACD,IAAI,GAAG,CAAC,OAAO,IAAI,IAAI,EAAE;YACrB,IAAI,GAAG,CAAC,OAAO,CAAC,WAAW,KAAK,IAAI,EAAE;gBAClC,KAAK,CAAC,cAAc,GAAG,0CAAc,CAAC,WAAW,CAAC;aACrD;YACD,IAAI,GAAG,CAAC,OAAO,CAAC,OAAO,IAAI,IAAI,IAAI,GAAG,CAAC,OAAO,CAAC,OAAO,GAAG,CAAC,EAAE;gBACxD,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC;aACvC;SACJ;QACD,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IACxC,CAAC;IAEa,UAAU,CAAC,GAAQ;;YAC7B,MAAM,OAAO,GAAG,CAAC,GAAG,CAAC,WAAW,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;YACvF,IAAI,GAAG,CAAC,UAAU,IAAI,IAAI,EAAE;gBACxB,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;aACnC;YAED,MAAM,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACjD,IAAI,GAAG,CAAC,IAAI,IAAI,IAAI,EAAE;gBAClB,MAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;gBACzC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;gBACvC,QAAQ,GAAG,CAAC,IAAI,EAAE;oBACd,KAAK,SAAS;wBACV,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,EAAE,UAAU,EAAE,cAAc,CAAC,CAAC;wBACrD,MAAM;oBACV,KAAK,SAAS;wBACV,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,EAAE,YAAY,EAAE,cAAc,CAAC,CAAC;wBACvD,MAAM;oBACV,KAAK,OAAO;wBACR,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,EAAE,SAAS,EAAE,aAAa,CAAC,CAAC;wBACnD,MAAM;oBACV,KAAK,MAAM;wBACP,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,EAAE,gBAAgB,EAAE,WAAW,CAAC,CAAC;wBACxD,MAAM;oBACV;wBACI,MAAM;iBACb;gBACD,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;oBAC/B,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;iBAChC;aACJ;YAED,IAAI,GAAG,CAAC,KAAK,IAAI,IAAI,EAAE;gBACnB,MAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBAC/C,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;gBACrC,QAAQ,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;gBACzD,UAAU,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;aACpC;YAED,IAAI,GAAG,CAAC,IAAI,IAAI,IAAI,EAAE;gBAClB,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBAC9C,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;gBACnC,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;gBACvD,UAAU,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;aACnC;YAED,MAAM,SAAS,GAAG,MAAM,wBAAI,CAAC;gBACzB,OAAO,EAAE,EAAE,OAAO,EAAE,UAAU,EAAE;gBAChC,OAAO,EAAE,OAAO;gBAChB,KAAK,EAAE,MAAM;aAChB,CAAC,CAAC;YAEH,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,mBAAmB,EAAE;gBAC5C,QAAQ,EAAE,GAAG,CAAC,QAAQ;gBACtB,SAAS,EAAE,SAAS;aACvB,CAAC,CAAC;QACP,CAAC;KAAA;CACJ;;;;;;ACxOsB;AAEuC;AAKvD;IACH,YAAoB,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;IAAI,CAAC;IAEjD,SAAS,CAAC,EAAU,EAAE,EAAW,EAAE,EAAW,EAAE,EAAW;QACvD,OAAO,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;IAC9C,CAAC;CACJ;;;ACVM;CAAuB;;;;;;;;;;;;;;;;;;yHCN9B,sHAA4B,sDACxB,qHAAqB,0DACjB,uHAAwB,KAAM,qDAC9B,2HAA4B,kFAAoC,IAAI,qDACpE;;;8QAAiD,6FAAG,oFAAkB,IAAQ,qDAC9E;;;8QAA4C,mFAA0B,IAAI,iDAC9E,MAAM,6CACV,MAAM,6CACN;;;8QAAmD,qDAC/C,2HAA2B,KAAI,4FAAM,0FAA2B,IAAO,6CAC3E,MAAI,6CACJ,2BAPqC,wBAAmB,EAAhD,aAAiD,EAApB,SAAmB,GAC3B,2BAAsB,EAA3C,aAA4C,EAAvB,SAAsB,GAGhD,+BAAyB,EAA5B,aAAmD,EAAhD,UAAyB,2BALQ,gJAAoC,GAChE,6IAAiD,GAAG,iIAAkB,GACtE,6IAA4C,4IAA0B,GAG9E,+IAAmD,GACV,sIAA2B;;;;;;;;;ACP7D;CA6BN;;;AC7B6D;AACkB;AAGzE;IACH,YAAoB,WAAwB,EAAU,oBAA0C;QAA5E,gBAAW,GAAX,WAAW,CAAa;QAAU,yBAAoB,GAApB,oBAAoB,CAAsB;IAAI,CAAC;IAErG,SAAS,CAAC,IAAS;QACf,MAAM,mBAAmB,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC;QAClE,MAAM,MAAM,GAAa,EAAE,CAAC;QAE5B,IAAI,IAAI,IAAI,IAAI,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;YAC1C,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACrB;aAAM,IAAI,IAAI,IAAI,IAAI,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;YACjD,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;SACpC;aAAM,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,EAAE;YACtC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,mBAAmB,CAAC,CAAC;SAClE;aAAM;YACH,KAAK,MAAM,GAAG,IAAI,IAAI,CAAC,gBAAgB,EAAE;gBACrC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;oBAC5C,SAAS;iBACZ;gBAED,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,IAAY,EAAE,EAAE;oBAChD,IAAI,MAAM,GAAG,EAAE,CAAC;oBAChB,IAAI,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;wBAChD,MAAM,OAAO,GAAG,GAAG,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;wBACrC,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC;qBACtE;oBACD,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC;gBAC/B,CAAC,CAAC,CAAC;aACN;SACJ;QAED,IAAI,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE;YACrB,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;SAChG;aAAM,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1B,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,EAAE,MAAM,EAAE;gBACtF,OAAO,EAAE,IAAI,GAAG,MAAM,CAAC,MAAM;aAChC,CAAC,CAAC;SACN;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;CACJ;;;ACzCsB;AAE4C;AAK5D;IAGH,YAAoB,EAAc,EAAU,iBAAoC;QAA5D,OAAE,GAAF,EAAE,CAAY;QAAU,sBAAiB,GAAjB,iBAAiB,CAAmB;IAAI,CAAC;IAErF,WAAW,CAAC,OAAY;QACpB,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,IAAI,IAAI,CAAC,YAAY,CAAC,IAAI,IAAI,IAAI,EAAE;YAC7D,OAAO;SACV;QAED,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC;QAErC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,QAAa,EAAE,EAAE;YACrC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,OAAO,GAAG,KAAK,CAAC;QAC1C,CAAC,EAAE,CAAC,CAAM,EAAE,EAAE;YACV,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,OAAO,GAAG,KAAK,CAAC;YACtC,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QACxC,CAAC,CAAC,CAAC;IACP,CAAC;CACJ;;;AC3BsB;AAKhB;IACH,YAAoB,EAAc;QAAd,OAAE,GAAF,EAAE,CAAY;IAClC,CAAC;IAEsB,OAAO;QAC1B,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;IACjC,CAAC;CACJ;;;ACXsB;AAKhB;IAIH,YAAoB,KAAiB;QAAjB,UAAK,GAAL,KAAK,CAAY;QAHrC,OAAE,GAAgB,IAAI,CAAC;QAInB,IAAI,CAAC,EAAE,GAAG,KAAK,CAAC,aAAa,CAAC;IAClC,CAAC;IAED,QAAQ;QACJ,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,gBAAgB,CAAC,8CAA8C,CAAC,CAAC,CAAC;QACpG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;YAC5B,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,KAAY,EAAE,EAAE;gBAC9C,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACpC,CAAC,EAAE,KAAK,CAAC,CAAC;YAEV,MAAM,CAAC,gBAAgB,CAAC,MAAM,EAAE,CAAC,KAAY,EAAE,EAAE;gBAC7C,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YACvC,CAAC,EAAE,KAAK,CAAC,CAAC;QACd,CAAC,CAAC,CAAC;IACP,CAAC;IAEkC,OAAO,CAAC,KAAY;QACnD,IAAI,KAAK,CAAC,MAAM,KAAK,IAAI,CAAC,EAAE,EAAE;YAC1B,OAAO;SACV;QAED,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACzB,MAAM,MAAM,GAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAiB,CAAC;YAChD,IAAI,MAAM,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,OAAO,EAAE;gBAC1C,MAAM,OAAO,GAAI,MAA2B,CAAC;gBAC7C,IAAI,OAAO,CAAC,IAAI,IAAI,IAAI,IAAI,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,UAAU,EAAE;oBACnE,OAAO,CAAC,KAAK,EAAE,CAAC;oBAChB,OAAO;iBACV;aACJ;YACD,MAAM,CAAC,KAAK,EAAE,CAAC;SAClB;IACL,CAAC;CACJ;;;AC3CsB;AAKhB;IAOH,YAAoB,EAAc,EAAU,QAAmB;QAA3C,OAAE,GAAF,EAAE,CAAY;QAAU,aAAQ,GAAR,QAAQ,CAAW;IAAI,CAAC;IANpE,IAAa,gBAAgB,CAAC,SAA2B;QACrD,IAAI,CAAC,eAAe,GAAG,SAAS,KAAK,EAAE,IAAI,SAAS,KAAK,IAAI,CAAC;IAClE,CAAC;IAMD,QAAQ;QACJ,IAAI,IAAI,CAAC,eAAe,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,YAAY,CAAC,cAAc,CAAC,EAAE;YAC7E,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,cAAc,EAAE,KAAK,CAAC,CAAC;SAC5E;QACD,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,YAAY,CAAC,gBAAgB,CAAC,EAAE;YACvD,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,gBAAgB,EAAE,MAAM,CAAC,CAAC;SAC/E;QACD,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,YAAY,CAAC,aAAa,CAAC,EAAE;YACpD,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,aAAa,EAAE,MAAM,CAAC,CAAC;SAC5E;QACD,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,YAAY,CAAC,YAAY,CAAC,EAAE;YACnD,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,YAAY,EAAE,OAAO,CAAC,CAAC;SAC5E;QACD,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,YAAY,CAAC,WAAW,CAAC,EAAE;YAClD,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,WAAW,EAAE,UAAU,CAAC,CAAC;SAC9E;IACL,CAAC;CACJ;;;AC5BM;IACgC,OAAO,CAAC,MAAkB;QACzD,MAAM,CAAC,cAAc,EAAE,CAAC;IAC5B,CAAC;CACJ;;;ACPM;CAUN;;;;;;;;;;;;;;ACZsB;AAUkB;AAEzC,MAAM,IAAI,GAAG;IACT,eAAe,EAAE,iBAAiB;IAClC,aAAa,EAAE,eAAe;CACjC,CAAC;AAEK,MAAM,8BAAc;IAavB,YAAsB,WAAwB,EAAY,MAAc,EAC1D,oBAA0C,EAAY,WAAwB,EAChF,cAA8B;QAFpB,gBAAW,GAAX,WAAW,CAAa;QAAY,WAAM,GAAN,MAAM,CAAQ;QAC1D,yBAAoB,GAApB,oBAAoB,CAAsB;QAAY,gBAAW,GAAX,WAAW,CAAa;QAChF,mBAAc,GAAd,cAAc,CAAgB;QAdjC,UAAK,GAAW,EAAE,CAAC;QACnB,kBAAa,GAAG,IAAI,CAAC;QAE9B,mBAAc,GAAW,EAAE,CAAC;QAC5B,iBAAY,GAAY,KAAK,CAAC;QAKpB,mBAAc,GAAG,KAAK,CAAC;QACvB,iBAAY,GAAG,OAAO,CAAC;IAIa,CAAC;IAEzC,QAAQ;;YACV,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,KAAK,EAAE,EAAE;gBACzC,IAAI,CAAC,KAAK,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,GAAG,CAAS,IAAI,CAAC,eAAe,CAAC,CAAC;gBACzE,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,EAAE;oBACpB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;iBACnB;aACJ;YACD,IAAI,CAAC,aAAa,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,GAAG,CAAU,IAAI,CAAC,aAAa,CAAC,CAAC;YAChF,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,EAAE;gBAC5B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;aAC7B;YACD,IAAI,sBAAK,CAAC,SAAS,EAAE;gBACjB,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,KAAK,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,KAAK,EAAE,CAAC;aACzG;QACL,CAAC;KAAA;IAEK,MAAM;;YACR,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,KAAK,EAAE,EAAE;gBACzC,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,EAC5E,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;gBACzC,OAAO;aACV;YACD,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;gBAChC,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,EAC5E,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;gBACxC,OAAO;aACV;YACD,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,IAAI,IAAI,CAAC,cAAc,KAAK,EAAE,EAAE;gBAC3D,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,EAC5E,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC;gBAC9C,OAAO;aACV;YAED,IAAI;gBACA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;gBAC3E,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC;gBACxC,MAAM,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;gBACvE,IAAI,IAAI,CAAC,aAAa,EAAE;oBACpB,MAAM,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;iBACpE;qBAAM;oBACH,MAAM,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;iBAC1D;gBACD,IAAI,QAAQ,CAAC,SAAS,EAAE;oBACpB,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,uBAAuB,CAAC,CAAC;oBAC9D,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;iBAC/C;qBAAM;oBACH,IAAI,IAAI,CAAC,iBAAiB,IAAI,IAAI,EAAE;wBAChC,IAAI,CAAC,iBAAiB,EAAE,CAAC;qBAC5B;oBACD,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC;oBAClD,IAAI,IAAI,CAAC,yBAAyB,IAAI,IAAI,EAAE;wBACxC,IAAI,CAAC,yBAAyB,EAAE,CAAC;qBACpC;yBAAM;wBACH,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;qBAC7C;iBACJ;aACJ;YAAC,WAAM,GAAG;QACf,CAAC;KAAA;IAED,cAAc;QACV,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,kCAAkC,CAAC,CAAC;QACzE,IAAI,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC;QACvC,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,KAAK,EAAE,CAAC;IACtD,CAAC;CACJ;;;ACpGwC;AAEqB;AACA;AACkB;AACZ;AACN;AAEkC;AAMzF,MAAM,uCAAe,SAAQ,8BAAkB;IAClD,YAAY,WAAwB,EAAE,MAAc,EAChD,oBAA0C,EAAE,WAAwB,EACpE,WAAwB,EAAE,cAA8B;QACxD,KAAK,CAAC,WAAW,EAAE,MAAM,EAAE,oBAAoB,EAAE,WAAW,EAAE,cAAc,CAAC,CAAC;QAC9E,KAAK,CAAC,iBAAiB,GAAG,GAAG,EAAE;YAC3B,OAAO,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACtC,CAAC,CAAC;QACF,KAAK,CAAC,YAAY,GAAG,aAAa,CAAC;IACvC,CAAC;IAED,QAAQ;QACJ,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;IAC1C,CAAC;CACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0HC7BD;;;;;wBAA+D;MAAnD;;wBAAqB;MAAjC,krBAA+D,qDAC3D,oGAAQ,0DACJ,kHAAkB,8DACd;;;8QAAsB,mFAAmB,IAAI,qDACjD,MAAM,qDACN,oHAAoB,8DAChB,oHAAoB,oFAAoB,IAAO,qDACnD,MAAM,qDACN,oHAAmB,8DACf;;;wIAA6D,iEACzD,gHAA8B,oFAAkB,IAAO,6DACvD,qJAAgE,KAAI,yDACxE,MAAS,qDACb,MAAM,iDACV,MAAS,iDACT,sGAAS,0DACL,kHAAiB,8DACb,0HAAyB,kEACrB;;;qIAAuC,qEACnC,mHAAmB,oFAAyB,IAAQ,iEACpD;;;;;;;;;;;wBACkD;MADP;;wBAAmB;MAA9D,k3CACkD,iEACtD,MAAM,6DACN;;;qIAA4D,qEACxD,uHAAsB,0EAClB,4HAA4B,oFAAuB,IAAQ,qEAC3D;;;;;;;;;;;wBACiF;MAAvD;;wBAA4B;MADtD,k3CACiF,qEACrF,MAAM,iEACN,6HAA4B,0EACxB;;;;;wBACoE;MAA3B;;wBAA0B;MADnE,iNACoE,GAAjE,2BAAqC,IAA4B,yEAChE,+WACuE,GAApE,0DAAmE,MAAK,qEAC/E,MAAI,iEACR,MAAM,6DACV,MAAM,yDACV,MAAM,qDACV,MAAM,qDACN,uHAAuB,8DACnB;;;+QAAsB,qFAAkC,IAAI,qDAChE,MAAI,iDACR,MAAU,6CACd,MAAO,6CACP,mDA5CkC,mBAA4B,cAA9D,YAA+D,EAA7B,SAA4B,GAG/C,wBAAkB,EAArB,aAAsB,EAAnB,UAAkB,GAejB,aAAuC,GAE4B,mBAAQ,EAAvE,aACkD,EADa,UAAQ,GAAzC,wBAAY,EAAC,oBAAmB,QAA9D,aACkD,EADpB,UAAY,EAAC,UAAmB,GACrC,wBAAwB,EADjD,aACkD,EAAzB,UAAwB,GAErD,aAA4D,GAIG,mBAAQ,EAD/D,aACiF,EAA1B,UAAQ,GADU,iCAAqB,EACpE,oBAA4B,iBADtD,aACiF,EADR,UAAqB,EACpE,UAA4B,GAAU,mBAAgB,EADhF,aACiF,EAAjB,UAAgB,GAKzE,2BAAgB,EAChB,sDAAmE,gBADtE,aACuE,EADpE,UAAgB,EAChB,UAAmE,GAOnF,wBAAkB,EAArB,cAAsB,EAAnB,UAAkB,mDAxCjC,mgBAA+D,GAGnD,6IAAsB,uIAAmB,GAGrB,qIAAoB,GAGL,4CAAyB,WAA5D,aAA6D,EAA1B,UAAyB,GAClD,4CAAuB,WAA7B,aAA8B,EAAxB,UAAuB,GAAC,mIAAkB,GACT,6CAAwB,WAA/D,aAAgE,EAAzB,UAAwB,GAQxC,0IAAyB,GAC5C,4mBACkD,GAIlB,wIAAuB,GACxB,wGAA6C,GAAxE,4gBACiF,EADtD,UAA6C,EAAxE,8FACiF,GAI9E,kKAAqC,GADxC,aACoE,EAAjE,UAAqC,GASpD,oJAAsB,yJAAkC;;;;;;ACjC7D;CAmCN;;;ACrCM;CAeN;;;;;;;;;;;ACZM,MAAM,4BAAa;IAMtB,YAAsB,MAAc,EAAY,WAAwB,EAC1D,oBAA0C,EAAY,gBAAkC,EACxF,WAAwB,EAAY,aAA4B;QAFxD,WAAM,GAAN,MAAM,CAAQ;QAAY,gBAAW,GAAX,WAAW,CAAa;QAC1D,yBAAoB,GAApB,oBAAoB,CAAsB;QAAY,qBAAgB,GAAhB,gBAAgB,CAAkB;QACxF,gBAAW,GAAX,WAAW,CAAa;QAAY,kBAAa,GAAb,aAAa,CAAe;QAP9E,mBAAc,GAAW,EAAE,CAAC;QAC5B,iBAAY,GAAY,KAAK,CAAC;QAEpB,iBAAY,GAAW,OAAO,CAAC;IAIyC,CAAC;IAE7E,MAAM;;YACR,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,IAAI,IAAI,CAAC,cAAc,KAAK,EAAE,EAAE;gBAC3D,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,EAC5E,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC;gBAC9C,OAAO;aACV;YAED,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;YAChD,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;YAC5C,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC;YAChE,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,EAAE,KAAK,EAAE,GAAG,EAAE,aAAa,CAAC,CAAC;YAC7F,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;YAChF,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC;YAE5D,IAAI,aAAa,IAAI,IAAI,IAAI,OAAO,IAAI,IAAI,IAAI,aAAa,KAAK,OAAO,EAAE;gBACvE,MAAM,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBACrC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;gBACvC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;aAC7C;iBAAM;gBACH,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,EAC5E,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,uBAAuB,CAAC,CAAC,CAAC;aACpD;QACL,CAAC;KAAA;IAEK,MAAM;;YACR,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,oBAAoB,CAAC,EACjG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC9F,IAAI,SAAS,EAAE;gBACX,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACxC;QACL,CAAC;KAAA;IAED,cAAc;QACV,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,mCAAmC,CAAC,CAAC;QAC1E,IAAI,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC;QACvC,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,KAAK,EAAE,CAAC;IACtD,CAAC;CACJ;;;ACpDsB;AACkB;AAEyB;AACJ;AACU;AACQ;AAClB;AAE+B;AAMtF,MAAM,qCAAc,SAAQ,4BAAiB;IAChD,YAAY,MAAc,EAAE,WAAwB,EAChD,oBAA0C,EAAE,gBAAkC,EAC9E,WAAwB,EAAE,aAA4B;QACtD,KAAK,CAAC,MAAM,EAAE,WAAW,EAAE,oBAAoB,EAAE,gBAAgB,EAAE,WAAW,EAAE,aAAa,CAAC,CAAC;QAC/F,IAAI,CAAC,YAAY,GAAG,eAAe,CAAC;IACxC,CAAC;IAED,QAAQ;QACJ,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE;YACnB,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,KAAK,EAAE,CAAC;QACtD,CAAC,EAAE,GAAG,CAAC,CAAC;IACZ,CAAC;CACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;yHC/BD;;;;;wBAA4B;MAAtB;;wBAAqB;MAA3B,qhBAA4B,qDACxB,oGAAQ,0DACJ,iHAAkB,KAAM,qDACxB,oHAAoB,8DAChB,oHAAoB,oFAAiC,IAAO,qDAChE,MAAM,qDACN,mHAAmB,8DACf;;;wIAAmC,mFAAmB,IAAS,qDACnE,MAAM,iDACV,MAAS,iDACT,sGAAS,0DACL,kHAAiB,8DACb,0HAAyB,kEACrB;;;qIAA4D,qEACxD,uHAAsB,0EAClB,4HAA4B,oFAAuB,IAAQ,qEAC3D;;;;;;;;;;;wBACiF;MAAvD;;wBAA4B;MADtD,k3CACiF,qEACrF,MAAM,iEACN,6HAA4B,0EACxB;;;;;wBACoE;MAA3B;;wBAA0B;MADnE,iNACoE,GAAjE,2BAAqC,IAA4B,yEAChE,+WACuE,GAApE,0DAAmE,MAAK,qEAC/E,MAAI,iEACR,MAAM,6DACV,MAAM,yDACV,MAAM,qDACV,MAAM,qDACN,uHAAuB,8DACnB;;wBAA4C;MAAnB;;wBAAkB;MAA3C,wGAA4C,mFAAmB,IAAI,qDACvE,MAAI,iDACR,MAAU,6CACd,MAAO,6CACP,mDArBgB,aAA4D,GAIG,mBAAQ,EAD/D,aACiF,EAA1B,UAAQ,GADU,iCAAqB,EACpE,oBAA4B,iBADtD,aACiF,EADR,UAAqB,EACpE,UAA4B,GAAU,mBAAgB,EADhF,aACiF,EAAjB,UAAgB,GAKzE,2BAAgB,EAChB,sDAAmE,gBADtE,aACuE,EADpE,UAAgB,EAChB,UAAmE,mDAvBlG,mgBAA4B,GAII,gJAAiC,GAGlB,kIAAmB,GAQd,sIAAuB,GACxB,wGAA6C,GAAxE,4gBACiF,EADtD,UAA6C,EAAxE,8FACiF,GAI9E,kKAAqC,GADxC,aACoE,EAAjE,UAAqC,GASR,oIAAmB;;;;;;AC1BpD;AAEkB;AAKlC,MAAM,sCAAkB;IAO3B,YAAoB,EAAc;QAAd,OAAE,GAAF,EAAE,CAAY;IAAI,CAAC;IANvC,IAAa,YAAY,CAAC,SAA2B;QACjD,IAAI,CAAC,SAAS,GAAG,SAAS,KAAK,EAAE,IAAI,SAAS,KAAK,IAAI,CAAC;IAC5D,CAAC;IAMD,QAAQ;QACJ,IAAI,CAAC,sBAAK,CAAC,eAAe,IAAI,IAAI,CAAC,SAAS,EAAE;YAC1C,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;SACjC;IACL,CAAC;CACJ;;;;;;ACiEM;CA4JN;;;ACtPM;CAWN;;;;;;ACXM;CAEN;;;ACF2E;AAErE,MAAM,2CAAsB,SAAQ,2BAA2B;IAGlE,YAAY,KAAa,EAAE,kBAA0B;QACjD,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;QAC7C,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACvB,CAAC;CACJ;;;;;;;;;ACVM;IAKH,YAAoB,GAAW,EAAU,WAAmB,EAAU,eAAyB,EACnF,aAAuB,EAAU,YAAsB;QAD/C,QAAG,GAAH,GAAG,CAAQ;QAAU,gBAAW,GAAX,WAAW,CAAQ;QAAU,oBAAe,GAAf,eAAe,CAAU;QACnF,kBAAa,GAAb,aAAa,CAAU;QAAU,iBAAY,GAAZ,YAAY,CAAU;QAL3D,WAAM,GAAsB,IAAI,CAAC;QAEjC,kBAAa,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAIjD,IAAI,CAAC,aAAa,GAAG,GAAG,CAAC,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QACrD,IAAI,CAAC,WAAW,GAAG,WAAW,IAAI,IAAI,IAAI,WAAW,KAAK,EAAE,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,6BAA6B,CAAC;IAC/G,CAAC;IAED,IAAI,CAAC,IAAS;QACV,IAAI,CAAC,aAAa,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,GAAG,qBAAqB;YAC9D,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YAClD,UAAU,GAAG,kBAAkB,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC;YAChE,MAAM,CAAC;QAEX,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,cAAc,CAAC,YAAY,CAAsB,CAAC;QAClF,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC;QAE1C,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;IACpE,CAAC;IAED,IAAI;QACA,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;IAC7B,CAAC;IAED,KAAK;QACD,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;IAC9B,CAAC;IAED,WAAW,CAAC,OAAY;QACpB,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE;YAChE,OAAO;SACV;QAED,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IACpE,CAAC;IAED,YAAY,CAAC,GAAW;QACpB,OAAO,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC,KAAK,EAAE,EAAE,EAAE,EAAE;YACzE,OAAO,MAAM,CAAC,YAAY,CAAC,CAAC,IAAI,GAAG,EAAE,CAAQ,CAAC,CAAC;QACnD,CAAC,CAAC,CAAC,CAAC;IACR,CAAC;IAED,OAAO;QACH,IAAI,CAAC,GAAG,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;IACvE,CAAC;IAEO,YAAY,CAAC,KAAmB;QACpC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,EAAE;YAC3B,OAAO;SACV;QAED,MAAM,KAAK,GAAa,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAC9C,IAAI,KAAK,CAAC,CAAC,CAAC,KAAK,SAAS,IAAI,IAAI,CAAC,eAAe,EAAE;YAChD,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;SAClC;aAAM,IAAI,KAAK,CAAC,CAAC,CAAC,KAAK,OAAO,IAAI,IAAI,CAAC,aAAa,EAAE;YACnD,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;SAChC;aAAM,IAAI,KAAK,CAAC,CAAC,CAAC,KAAK,MAAM,IAAI,IAAI,CAAC,YAAY,EAAE;YACjD,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;SAC/B;IACL,CAAC;IAEO,YAAY,CAAC,KAAmB;QACpC,IAAI,KAAK,CAAC,MAAM,IAAI,IAAI,IAAI,KAAK,CAAC,MAAM,KAAK,EAAE,IAAI,KAAK,CAAC,MAAM,KAAM,IAAI,CAAC,aAAqB,CAAC,MAAM;YAClG,KAAK,CAAC,IAAI,IAAI,IAAI,IAAI,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,QAAQ,EAAE;YACxD,OAAO,KAAK,CAAC;SAChB;QAED,OAAO,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC;YAC7E,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IAC1C,CAAC;CACJ;;;;;;;;;;;ACnEmD;AACsB;AAES;AAQlB;AAErB;AACP;AAE9B,MAAM,uCAAkB;IAmB3B,YAAsB,WAAwB,EAAY,MAAc,EAC1D,WAAwB,EAAY,UAAsB,EAC1D,oBAA0C,EAAY,GAAW,EACjE,kBAAsC;QAH9B,gBAAW,GAAX,WAAW,CAAa;QAAY,WAAM,GAAN,MAAM,CAAQ;QAC1D,gBAAW,GAAX,WAAW,CAAa;QAAY,eAAU,GAAV,UAAU,CAAY;QAC1D,yBAAoB,GAApB,oBAAoB,CAAsB;QAAY,QAAG,GAAH,GAAG,CAAQ;QACjE,uBAAkB,GAAlB,kBAAkB,CAAoB;QArBpD,UAAK,GAAW,EAAE,CAAC;QACnB,aAAQ,GAAY,KAAK,CAAC;QAC1B,aAAQ,GAAY,KAAK,CAAC;QAC1B,cAAS,GAAG,0CAAkB,CAAC;QAC/B,iBAAY,GAAG,sDAAqB,CAAC;QACrC,yBAAoB,GAA0B,sDAAqB,CAAC,aAAa,CAAC;QAClF,iBAAY,GAAY,KAAK,CAAC;QAC9B,QAAG,GAAQ,IAAI,CAAC;QAChB,UAAK,GAAW,EAAE,CAAC;QACnB,mBAAc,GAAW,IAAI,CAAC;QAMpB,eAAU,GAAG,OAAO,CAAC;QACrB,iBAAY,GAAG,OAAO,CAAC;QAM7B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,oBAAoB,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;IACnE,CAAC;IAEK,QAAQ;;YACV,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK,IAAI,IAAI,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,IAAI,IAAI;gBAC7E,IAAI,CAAC,WAAW,CAAC,kBAAkB,IAAI,IAAI,EAAE;gBAC7C,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;gBACxC,OAAO;aACV;YAED,IAAI,IAAI,CAAC,GAAG,IAAI,IAAI,IAAI,IAAI,CAAC,YAAY,EAAE;gBACvC,IAAI,iBAAiB,GAAW,IAAI,CAAC;gBACrC,IAAI,IAAI,CAAC,kBAAkB,CAAC,OAAO,IAAI,IAAI,EAAE;oBACzC,iBAAiB,GAAG,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC;iBACvD;qBAAM,IAAI,IAAI,CAAC,kBAAkB,CAAC,WAAW,IAAI,IAAI,EAAE;oBACpD,iBAAiB,GAAG,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC;iBAC3D;gBAED,IAAI,CAAC,GAAG,GAAG,IAAI,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,iBAAiB,EAAE,CAAC,KAAa,EAAE,EAAE;oBAC9D,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;oBACnB,IAAI,CAAC,MAAM,EAAE,CAAC;gBAClB,CAAC,EAAE,CAAC,KAAa,EAAE,EAAE;oBACjB,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC7F,CAAC,EAAE,CAAC,IAAY,EAAE,EAAE;oBAChB,IAAI,IAAI,KAAK,OAAO,EAAE;wBAClB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;qBACxB;gBACL,CAAC,CAAC,CAAC;aACN;YAED,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,WAAW,CAAC,2BAA2B,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YAC5F,MAAM,IAAI,CAAC,IAAI,EAAE,CAAC;QACtB,CAAC;KAAA;IAED,WAAW;QACP,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC;IACpB,CAAC;IAEK,IAAI;;YACN,IAAI,IAAI,CAAC,oBAAoB,IAAI,IAAI,EAAE;gBACnC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC;gBACpD,OAAO;aACV;YAED,IAAI,CAAC,UAAU,EAAE,CAAC;YAClB,IAAI,CAAC,KAAK,GAAI,0CAA0B,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,IAAI,CAAC;YACzE,MAAM,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;YAClF,QAAQ,IAAI,CAAC,oBAAoB,EAAE;gBAC/B,KAAK,sDAAqB,CAAC,GAAG;oBAC1B,IAAI,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE;wBACxC,MAAM;qBACT;oBAED,IAAI,MAAM,CAAC,SAAS,IAAI,IAAI,EAAE;wBAC1B,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC;qBAC/C;yBAAM;wBACH,8CAA8C;wBAC9C,MAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;wBACjD,IAAI,UAAU,IAAI,IAAI,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;4BAC7C,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC;gCACV,KAAK,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC,KAAK;gCAC1B,SAAS,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC,SAAS;gCAClC,IAAI,EAAE,UAAU,CAAC,GAAG,CAAC,CAAC,CAAM,EAAE,EAAE;oCAC5B,OAAO;wCACH,OAAO,EAAE,CAAC,CAAC,OAAO;wCAClB,SAAS,EAAE,CAAC,CAAC,SAAS;qCACzB,CAAC;gCACN,CAAC,CAAC;6BACL,CAAC,CAAC;yBACN;qBACJ;oBACD,MAAM;gBACV,KAAK,sDAAqB,CAAC,GAAG,CAAC;gBAC/B,KAAK,sDAAqB,CAAC,eAAe;oBACtC,IAAI,IAAI,CAAC,oBAAoB,CAAC,SAAS,EAAE,KAAK,gCAAU,CAAC,eAAe,EAAE;wBACtE,MAAM;qBACT;oBAED,UAAU,CAAC,GAAG,EAAE;wBACZ,WAAc,CAAC;4BACX,MAAM,EAAE,SAAS;4BACjB,IAAI,EAAE,MAAM,CAAC,IAAI;4BACjB,WAAW,EAAE,MAAM,CAAC,SAAS;4BAC7B,eAAe,EAAE,CAAO,CAAkB,EAAE,EAAE,CAAC;gCAC3C,MAAM,GAAG,GAAG,CAAC,CAAC,aAAa,CAAC,4BAA4B,CAAqB,CAAC;gCAC9E,IAAI,GAAG,IAAI,IAAI,EAAE;oCACb,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC;oCACvB,MAAM,IAAI,CAAC,MAAM,EAAE,CAAC;iCACvB;4BACL,CAAC;yBACJ,CAAC,CAAC;oBACP,CAAC,EAAE,CAAC,CAAC,CAAC;oBACN,MAAM;gBACV,KAAK,sDAAqB,CAAC,KAAK;oBAC5B,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC,KAAK,CAAC;oBACnC,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,GAAG,CAAC,EAAE;wBAC9C,MAAM,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;qBAC/B;oBACD,MAAM;gBACV;oBACI,MAAM;aACb;QACL,CAAC;KAAA;IAEK,MAAM;;YACR,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,KAAK,EAAE,EAAE;gBACzC,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,EAC5E,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,0BAA0B,CAAC,CAAC,CAAC;gBACpD,OAAO;aACV;YAED,IAAI,IAAI,CAAC,oBAAoB,KAAK,sDAAqB,CAAC,GAAG,EAAE;gBACzD,IAAI,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE;oBAClB,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;iBACnB;qBAAM;oBACH,OAAO;iBACV;aACJ;iBAAM,IAAI,IAAI,CAAC,oBAAoB,KAAK,sDAAqB,CAAC,KAAK;gBAChE,IAAI,CAAC,oBAAoB,KAAK,sDAAqB,CAAC,aAAa,EAAE;gBACnE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;aACnD;YAED,IAAI;gBACA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;gBACzG,MAAM,IAAI,CAAC,WAAW,CAAC;gBACvB,IAAI,IAAI,CAAC,iBAAiB,IAAI,IAAI,EAAE;oBAChC,IAAI,CAAC,iBAAiB,EAAE,CAAC;iBAC5B;gBACD,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,yBAAyB,CAAC,CAAC;gBAChE,IAAI,IAAI,CAAC,yBAAyB,IAAI,IAAI,EAAE;oBACxC,IAAI,CAAC,yBAAyB,EAAE,CAAC;iBACpC;qBAAM;oBACH,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;iBAC7C;aACJ;YAAC,WAAM;gBACJ,IAAI,IAAI,CAAC,oBAAoB,KAAK,sDAAqB,CAAC,GAAG,IAAI,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE;oBAC7E,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC;iBACpB;aACJ;QACL,CAAC;KAAA;IAEK,SAAS,CAAC,OAAgB;;YAC5B,IAAI,IAAI,CAAC,oBAAoB,KAAK,sDAAqB,CAAC,KAAK,EAAE;gBAC3D,OAAO;aACV;YAED,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,EAAE;gBAC3B,OAAO;aACV;YAED,IAAI;gBACA,MAAM,OAAO,GAAG,IAAI,2CAAqB,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;gBACvG,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC;gBAChE,MAAM,IAAI,CAAC,YAAY,CAAC;gBACxB,IAAI,OAAO,EAAE;oBACT,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,EAC/C,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,2BAA2B,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;iBAC7E;aACJ;YAAC,WAAM,GAAG;YAEX,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QAC7B,CAAC;KAAA;IAEO,UAAU;QACd,IAAI,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE;YAClB,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;YAChB,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC;SACtB;IACL,CAAC;CACJ;;;;;;;;;;;ACnNsB;AAEkB;AAEa;AAEoB;AAEd;AACE;AACc;AACd;AACkB;AAClB;AAEkB;AAE6B;AAE7G,MAAM,yBAAyB,GAAG,oBAAoB,CAAC;AAMhD,MAAM,gDAAmB,SAAQ,uCAAsB;IAG1D,YAAY,WAAwB,EAAE,MAAc,EAChD,WAAwB,EAAE,UAAsB,EAChD,oBAA0C,EAAE,WAAwB,EACpE,kBAAsC,EAAU,MAAc,EACtD,kBAAsC,EAAU,iBAAoC;QAC5F,KAAK,CAAC,WAAW,EAAE,MAAM,EAAE,WAAW,EAAE,UAAU,EAAE,oBAAoB,EAAE,MAAM,EAAE,kBAAkB,CAAC,CAAC;QAFtD,WAAM,GAAN,MAAM,CAAQ;QACtD,uBAAkB,GAAlB,kBAAkB,CAAoB;QAAU,sBAAiB,GAAjB,iBAAiB,CAAmB;QANhG,yBAAoB,GAAG,KAAK,CAAC;QAQzB,KAAK,CAAC,iBAAiB,GAAG,GAAG,EAAE;YAC3B,OAAO,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACtC,CAAC,CAAC;QACF,KAAK,CAAC,YAAY,GAAG,aAAa,CAAC;IACvC,CAAC;IAEK,QAAQ;;;YACV,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,yBAAyB,EAAE,CAAC,OAAY,EAAE,EAAE;gBAC1E,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAS,EAAE,CAAC;oBACxB,QAAQ,OAAO,CAAC,OAAO,EAAE;wBACrB,KAAK,iBAAiB;4BAClB,IAAI,OAAO,CAAC,IAAI,KAAK,KAAK,EAAE;gCACxB,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC;gCACnC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;6BAChD;wBACL;4BACI,MAAM;qBACb;oBAED,IAAI,CAAC,iBAAiB,CAAC,aAAa,EAAE,CAAC;gBAC3C,CAAC,EAAC,CAAC;YACP,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,oBAAoB,CAAC,QAAQ,EAAE,CAAC;YACjE,MAAM,kBAAc,WAAE,CAAC;YAEvB,IAAI,IAAI,CAAC,oBAAoB,IAAI,IAAI,EAAE;gBACnC,OAAO;aACV;YAED,MAAM,KAAK,GAAG,IAAI,CAAC,oBAAoB,KAAK,sDAAqB,CAAC,GAAG;gBACjE,IAAI,CAAC,oBAAoB,KAAK,sDAAqB,CAAC,eAAe,CAAC;YACxE,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,EAAE;gBACjD,OAAO;aACV;YAED,MAAM,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;YAClF,MAAM,GAAG,GAAG,gCAAU,CAAC,YAAY,CAAC,gCAAU,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,CAAC;YAC9E,MAAM,SAAS,GAAG,gCAAU,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YAChD,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE;gBACnB,gCAAU,CAAC,cAAc,CAAC,SAAS,EAAE;oBACjC,OAAO,EAAE,aAAa;oBACtB,IAAI,EAAE;wBACF,IAAI,EAAE,KAAK;wBACX,IAAI,EAAE,MAAM,CAAC,IAAI;wBACjB,SAAS,EAAE,MAAM,CAAC,SAAS;qBAC9B;iBACJ,CAAC,CAAC;YACP,CAAC,EAAE,GAAG,CAAC,CAAC;QACZ,CAAC;KAAA;IAED,WAAW;QACP,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,yBAAyB,CAAC,CAAC;QAC/D,KAAK,CAAC,WAAW,EAAE,CAAC;IACxB,CAAC;IAED,aAAa;QACT,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;IAC1C,CAAC;IAEK,aAAa,CAAC,gBAAqB;;;YACrC,MAAM,gBAAY,WAAE,CAAC;YACrB,IAAI,gBAAgB,IAAI,IAAI,EAAE;gBAC1B,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE;oBACnB,gCAAU,CAAC,cAAc,CAAC,gBAAgB,EAAE;wBACxC,OAAO,EAAE,aAAa;wBACtB,IAAI,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE;qBAC5B,CAAC,CAAC;gBACP,CAAC,EAAE,IAAI,CAAC,CAAC;aACZ;QACL,CAAC;KAAA;CACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2ECpGW;;;uIAGyE,iEACrE,+GAA8B,kFAAqB,IAAO,6DAC1D,oJAAgE,KAAI,yDACxE,iCANmC,kDAAyB,WAA5D,YAGyE,EAHtC,SAAyB,GAIlD,kDAAuB,WAA7B,YAA8B,EAAxB,SAAuB,GAAC,wIAAqB,GACZ,mDAAwB,WAA/D,YAAgE,EAAzB,SAAwB;2EAQ/D,2FAAkE,wTAElE;2EACA,2FAA0D,sWAE1D;2EARR,4FACuD,8DACnD,gIAAiC,kEAC7B,8PAAkE,IAE3D,6DACP,8PAA0D,IAEnD,yDACX,MAAM,yDACN,wHAAuB,kEACnB,0HAAyB,sEACrB;;;qIAAuC,yEACnC,kHAAkB,oFAA6B,IAAQ,qEACvD;;;;;;;;;;;wBACwC;MADC;;wBAAmB;MAA5D,ghDACwC,qEAC5C,MAAM,iEACN;;;qIAAgE,yEAC5D,sHAAsB,oFAAuB,IAAQ,qEACrD;;;;;wBAA4E;MAAvB;;wBAAsB;MAA3E,q2BAA4E,qEAChF,MAAM,6DACV,MAAM,yDACV,MAAM,qDACV,mDApBc,iDAA2D,8BAAjE,YAAkE,EAA5D,SAA2D,GAG3D,iDAAmD,sBAAzD,YAA0D,EAApD,SAAmD,GAMrD,aAAuC,GAE0B,mBAAQ,EAArE,aACwC,EADqB,UAAQ,GAAxC,uBAAW,EAAC,oBAAmB,QAA5D,aACwC,EADX,UAAW,EAAC,UAAmB,GAAU,mBAAY,EAAlF,aACwC,EAD8B,UAAY,GAC3D,mBAAgB,EADvC,aACwC,EAAjB,UAAgB,GAE3C,aAAgE,GAEvB,2BAAe,EAAC,oBAAsB,WAA3E,aAA4E,EAAvC,UAAe,EAAC,UAAsB,2BANzD,mJAA6B,GAC/C,8lBACwC,GAGlB,+IAAuB,GAC7C,yhBAA4E;2EAK5F,4FAAoE,8DAChE,gIAAiC,kEAC7B,sHAAuB,kFAA0B,IAAI,6DACrD,qLAA0E,8DAC9E,MAAM,yDACN,wHAAuB,kEACnB,0HAAyB,sEACrB;;;qIAAuC,yEACnC,wIAAkC,oFAA6B,IAAQ,qEACvE;;;;;;;;;;;wBACwB;MADqB;;wBAAmB;MAAhE,ghDACwB,qEAC5B,MAAM,iEACN;;;qIAAgE,yEAC5D,sHAAsB,oFAAuB,IAAQ,qEACrD;;;;;wBAA4E;MAAvB;;wBAAsB;MAA3E,q2BAA4E,qEAChF,MAAM,6DACV,MAAM,yDACV,MAAM,qDACV,mDAXY,aAAuC,GAE8B,mBAAQ,EAAzE,aACwB,EADyC,UAAQ,GAAxC,uBAAW,EAAC,oBAAmB,QAAhE,aACwB,EADS,UAAW,EAAC,UAAmB,GAAU,mBAAY,EAAtF,aACwB,EADkD,UAAY,GAC/E,mBAAgB,EADvB,aACwB,EAAjB,UAAgB,GAE3B,aAAgE,GAEvB,2BAAe,EAAC,oBAAsB,WAA3E,aAA4E,EAAvC,UAAe,EAAC,UAAsB,2BAZ5D,6IAA0B,GAMP,mJAA6B,GAC/D,4lBACwB,GAGF,+IAAuB,GAC7C,yhBAA4E;2EAOpF,mHAA4C,+HAAiC;2EAC7E,0FAAsB,sEAClB,8FAAG,kFAAsB,IAAI,iEAC7B,oLAA2E,kEAC/E,iCAFO,gJAAsB;2EAJrC,4FAAgE,8DAC5D,gIAAiC,kEAC7B,8PAA4C,IAA4C,6DACxF,8PAAsB,IAGhB,yDACV,MAAM,yDACN,wHAAuB,kEACnB,0HAAyB,sEACrB;;;qIAAgE,yEAC5D,sHAAsB,oFAAuB,IAAQ,qEACrD;;;;;wBAA4E;MAAvB;;wBAAsB;MAA3E,q2BAA4E,qEAChF,MAAM,6DACV,MAAM,yDACV,MAAM,qDACV,mDAdc,oBAAiB,WAAvB,YAA4C,EAAtC,SAAiB,GAClB,mBAAgB,WAArB,YAAsB,EAAjB,SAAgB,GAOjB,aAAgE,GAEvB,2BAAe,EAAC,oBAAsB,WAA3E,aAA4E,EAAvC,UAAe,EAAC,UAAsB,2BADrD,6IAAuB,GAC7C,2gBAA4E;4EAOxF,6GAAkD,sHAAwB;4EAC1E,0HAA8D,+QAAoC;2EAHtG,4FACuE,8DACnE,+PAAkD,IAAuC,yDACzF,+PAA8D,IAA0C,yDACxG,iHAAiB,kEACb,0HAAyB,sEACrB;;;qIAAgE,yEAC5D,sHAAsB,oFAAuB,IAAQ,qEACrD;;;;;wBAA4E;MAAvB;;wBAAsB;MAA3E,q2BAA4E,qEAChF,MAAM,6DACV,MAAM,yDACV,MAAM,qDACV,mDAVwB,oBAA6B,uBAAjD,YAAkD,EAA9B,SAA6B,GAC5C,mBAA4B,uBAAjC,YAA8D,EAAzD,SAA4B,GAGzB,aAAgE,GAEvB,2BAAe,EAAC,oBAAsB,WAA3E,aAA4E,EAAvC,UAAe,EAAC,UAAsB,2BADrD,6IAAuB,GAC7C,2gBAA4E;4EAK5F,8GAA0D,8DACtD,sHAAuB,kFAA+B,IAAI,yDAC1D,sHAAuB,kFAAgC,IAAI,qDAC/D,iCAF2B,kJAA+B,GAC/B,mJAAgC;4EAMvD,gHAA2E,kEACvE;;wBAAiF;MAAxD;;wBAAyB;MAAlD,oQAAiF,yHAEjF,IAAI,yDACR,mDAHuD,mBAA6B,eAAhF,YAAiF,EAA9B,SAA6B,2BAAC,qKAEjF;4EAPR,uHAAkE,8DAC9D,sHAAuB,kEACnB;;wBAAmD;MAA1B;;wBAAyB;MAAlD,uGAAmD,iFAAoC,IAAI,yDAC/F,MAAI,yDACJ,gQAA2E,IAIvE,qDACR,mDALO,iDAAmD,sBAAtD,aAA2E,EAAxE,SAAmD,2BAFC,uJAAoC;8HAlGvG;;;;;wBAAoF;MAAnD;;wBAAqB;MAAtD,krBAAoF,qDAChF,oGAAQ,0DACJ,kHAAkB,8DACd;;;8QAAuB,mFAAiB,IAAI,qDAChD,MAAM,qDACN,oHAAoB,8DAChB,oHAAoB,oDAAS,MAAO,qDACxC,MAAM,qDACN,mHAAmB,8DACf,+PAGyE,IAGhE,qDACb,MAAM,iDACV,MAAS,iDACT,sGAAS,0DACL,+PACuD,IAsBxC,qDACf,+PAAoE,IAkBrD,qDACf,+PAAgE,IAgBjD,qDACf,+PACuE,IAWxD,qDACf,gQAA0D,IAGpD,qDACN,gQAAkE,IAS5D,iDACV,MAAU,6CACd,MAAO,6CACP,wIAA+B,KAAS,6CACxC,mDA7GuD,mBAA4B,cAAnF,YAAoF,EAA7B,SAA4B,GAGpE,yBAAmB,EAAtB,aAAuB,EAApB,UAAmB,GAOd,yQAEgE,aAHxE,aAGyE,EAFjE,UAEgE,GAO9D,oHACwC,uBADtD,aACuD,EADzC,UACwC,GAuBxC,kDAAqD,wBAAnE,aAAoE,EAAtD,UAAqD,GAmBrD,kDAAiD,oBAA/D,aAAgE,EAAlD,UAAiD,GAiBjD,0GACwD,iCADtE,aACuE,EADzD,UACwD,GAYjD,kDAAoC,GAAzD,aAA0D,EAArC,UAAoC,GAI5B,kDAAoC,GAAjE,aAAkE,EAArC,UAAoC,mDAhGzE,mgBAAoF,GAGxE,6IAAuB,qIAAiB,GAGpB,qDAAS;;;;;;ACDlB;AAShB,MAAM,sDAAyB;IAMlC,YAAsB,WAAwB,EAAY,MAAc,EAC1D,WAAwB,EAAY,oBAA0C,EAC9E,GAAW;QAFH,gBAAW,GAAX,WAAW,CAAa;QAAY,WAAM,GAAN,MAAM,CAAQ;QAC1D,gBAAW,GAAX,WAAW,CAAa;QAAY,yBAAoB,GAApB,oBAAoB,CAAsB;QAC9E,QAAG,GAAH,GAAG,CAAQ;QAPf,uBAAkB,GAAG,IAAI,4BAAY,EAAyB,CAAC;QAC/D,sBAAiB,GAAG,IAAI,4BAAY,EAAE,CAAC;QAEjD,cAAS,GAAU,EAAE,CAAC;IAIO,CAAC;IAE9B,QAAQ;QACJ,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,8BAA8B,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC/E,CAAC;IAED,MAAM,CAAC,CAAM;QACT,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;IAED,OAAO;QACH,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,kBAAkB,CAAC,CAAC;QACzD,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,0DAA0D,CAAC,CAAC;QAChG,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,CAAC;IAClC,CAAC;CACJ;;;ACpCwC;AAEqB;AACA;AACkB;AAIjB;AAMxD,MAAM,+DAA0B,SAAQ,sDAA6B;IACxE,YAAY,WAAwB,EAAE,MAAc,EAChD,WAAwB,EAAE,oBAA0C;QACpE,KAAK,CAAC,WAAW,EAAE,MAAM,EAAE,WAAW,EAAE,oBAAoB,EAAE,MAAM,CAAC,CAAC;IAC1E,CAAC;IAED,MAAM,CAAC,CAAM;QACT,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QAChB,IAAI,CAAC,WAAW,CAAC,6BAA6B,GAAG,CAAC,CAAC,IAAI,CAAC;QACxD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;IAClC,CAAC;CACJ;;;;;;;;;;;;;;;;;;;;;kFCdW;;wBACuB;MAApB;;wBAAmB;MADtB,uGACuB,iEACnB,kHAAmB,mDAAU,MAAO,6DACpC,oHAAqB,mDAAiB,MAAO,yDACjD,iCAFuB,kEAAU,GACR,yEAAiB;qIAftD,8FAAQ,sDACJ,iHAAkB,0DACd;;;6QAAqB,iFAAkB,IAAI,iDAC/C,MAAM,iDACN,oHAAoB,0DAChB,oHAAoB,oFAA2B,IAAO,iDAC1D,MAAM,iDACN,mHAAmB,KAAM,6CAC7B,MAAS,6CACT,sGAAS,sDACL,kHAAiB,0DACb,0HAAyB,8DACrB,iTACuB,IAGnB,yDACJ;;wBAAqE;MAApB;;wBAAmB;MAApE,wGAAqE,iEACjE,mHAAmB,oFAA8B,IAAO,6DACxD,qHAAqB,oFAA6B,IAAO,yDAC7D,MAAI,qDACR,MAAM,iDACV,MAAM,6CACV,MAAU,6CACV,mDAtBW,sBAAiB,EAApB,YAAqB,EAAlB,SAAiB,GAUS,mBAA2B,YAApD,aACuB,EADE,SAA2B,2BAVxD,0IAAqB,iIAAkB,GAGnB,0IAA2B,GAapB,6IAA8B,GAC5B,4IAA6B;;;;;;;;;ACf3D;IAYH,YAAY,KAAa,EAAE,IAAY,EAAE,kBAA0B,EAAE,kBAA0B,EAAE,GAAW,EACxG,GAAY,EAAE,aAAqB;QACnC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;QAC7C,IAAI,CAAC,kBAAkB,GAAG,kBAAkB,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC,IAAI,CAAC;QACzE,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;IACvC,CAAC;CACJ;;;;;;;;;;;;;;ACxB8D;AACQ;AASzB;AAEvC,MAAM,oCAAiB;IAW1B,YAAsB,WAAwB,EAAY,MAAc,EAC1D,WAAwB,EAAY,aAA4B,EAChE,UAAsB,EAAY,YAA0B,EAC5D,oBAA0C;QAHlC,gBAAW,GAAX,WAAW,CAAa;QAAY,WAAM,GAAN,MAAM,CAAQ;QAC1D,gBAAW,GAAX,WAAW,CAAa;QAAY,kBAAa,GAAb,aAAa,CAAe;QAChE,eAAU,GAAV,UAAU,CAAY;QAAY,iBAAY,GAAZ,YAAY,CAAc;QAC5D,yBAAoB,GAApB,oBAAoB,CAAsB;QAbxD,SAAI,GAAW,EAAE,CAAC;QAClB,UAAK,GAAW,EAAE,CAAC;QACnB,mBAAc,GAAW,EAAE,CAAC;QAC5B,0BAAqB,GAAW,EAAE,CAAC;QACnC,SAAI,GAAW,EAAE,CAAC;QAClB,iBAAY,GAAY,KAAK,CAAC;QAGpB,iBAAY,GAAG,OAAO,CAAC;IAK2B,CAAC;IAEvD,MAAM;;YACR,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,KAAK,EAAE,EAAE;gBACzC,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,EAC5E,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;gBACzC,OAAO;aACV;YACD,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;gBAChC,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,EAC5E,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;gBACxC,OAAO;aACV;YACD,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,IAAI,IAAI,CAAC,cAAc,KAAK,EAAE,EAAE;gBAC3D,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,EAC5E,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC;gBAC9C,OAAO;aACV;YACD,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;gBAChC,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,EAC5E,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC;gBAC5C,OAAO;aACV;YACD,IAAI,IAAI,CAAC,cAAc,KAAK,IAAI,CAAC,qBAAqB,EAAE;gBACpD,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,EAC5E,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,uBAAuB,CAAC,CAAC,CAAC;gBACjD,OAAO;aACV;YAED,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,KAAK,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;YAChD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;YAC7C,MAAM,GAAG,GAAG,0BAAO,CAAC,aAAa,CAAC;YAClC,MAAM,WAAW,GAAG,IAAI,CAAC,oBAAoB,CAAC,MAAM,EAAE,IAAI,IAAI,CAAC,oBAAoB,CAAC,IAAI,EAAE,CAAC;YAC3F,MAAM,aAAa,GAAG,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;YACnD,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,KAAK,EAAE,GAAG,EAAE,aAAa,CAAC,CAAC;YAClG,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;YACxD,MAAM,cAAc,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;YACvF,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YAC7D,MAAM,OAAO,GAAG,IAAI,eAAe,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,cAAc,EACrE,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,eAAe,EAAE,GAAG,EAAE,aAAa,CAAC,CAAC;YAC9D,OAAO,CAAC,IAAI,GAAG,IAAI,kCAAW,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC;YACjE,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,GAAG,CAAM,eAAe,CAAC,CAAC;YACpE,IAAI,SAAS,IAAI,IAAI,IAAI,SAAS,CAAC,KAAK,IAAI,IAAI,IAAI,SAAS,CAAC,kBAAkB,IAAI,IAAI,EAAE;gBACtF,OAAO,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;gBAChC,OAAO,CAAC,kBAAkB,GAAG,SAAS,CAAC,kBAAkB,CAAC;aAC7D;YAED,IAAI;gBACA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;gBACzD,MAAM,IAAI,CAAC,WAAW,CAAC;gBACvB,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC;gBACnD,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,mBAAmB,CAAC,CAAC,CAAC;gBAC9F,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,EAAE,WAAW,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;aACrF;YAAC,WAAM,GAAG;QACf,CAAC;KAAA;IAED,cAAc,CAAC,YAAqB;QAChC,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,qCAAqC,CAAC,CAAC;QAC5E,IAAI,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC;QACvC,QAAQ,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC,CAAC,sBAAsB,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,KAAK,EAAE,CAAC;IAC9F,CAAC;CACJ;;;ACxFwC;AAEmB;AACE;AACI;AACJ;AACkB;AAChB;AAEyC;AAMlG,MAAM,6CAAkB,SAAQ,oCAAqB;IACxD,YAAY,WAAwB,EAAE,MAAc,EAChD,WAAwB,EAAE,aAA4B,EACtD,UAAsB,EAAE,YAA0B,EAClD,oBAA0C;QAC1C,KAAK,CAAC,WAAW,EAAE,MAAM,EAAE,WAAW,EAAE,aAAa,EAAE,UAAU,EAAE,YAAY,EAAE,oBAAoB,CAAC,CAAC;IAC3G,CAAC;CACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6HCvBD;;;;;wBAA+D;MAAnD;;wBAAqB;MAAjC,krBAA+D,qDAC3D,oGAAQ,0DACJ,kHAAkB,8DACd;;;8QAAsB,mFAAmB,IAAI,qDACjD,MAAM,qDACN,oHAAoB,8DAChB,oHAAoB,oFAA0B,IAAO,qDACzD,MAAM,qDACN,oHAAmB,8DACf;;;wIAA6D,iEACzD,gHAA8B,oFAAmB,IAAO,6DACxD,qJAAgE,KAAI,yDACxE,MAAS,qDACb,MAAM,iDACV,MAAS,iDACT,uGAAS,0DACL,kHAAiB,8DACb,0HAAyB,kEACrB;;;qIAAuC,qEACnC,mHAAmB,oFAAyB,IAAQ,iEACpD;;;;;;;;;;;wBACgF;MADrC;;wBAAmB;MAA9D,ghDACgF,iEACpF,MAAM,6DACN;;;qIAA4D,qEACxD,uHAAsB,0EAClB,4HAA4B,oFAAuB,IAAQ,qEAC3D;;;;;;;;;;;wBAEwB;MADE;;wBAA4B;MADtD,ghDAEwB,qEAC5B,MAAM,iEACN,6HAA4B,0EACxB;;;;;wBACyE;MAAhC;;wBAA+B;MADxE,iNACyE,GAAtE,2BAAqC,IAAiC,yEACrE,+WACuE,GAApE,0DAAmE,MAAK,qEAC/E,MAAI,iEACR,MAAM,6DACV,MAAM,yDACV,MAAM,yDACN,yHAAwB,sHAExB,IAAM,qDACV,MAAM,qDACN,wHAAsB,8DAClB,2HAAyB,kEACrB;;;sIAA4D,qEACxD,wHAAsB,0EAClB,mIAAkC,sFAA6B,IAAQ,qEACvE;;;;;;;;;;;wBAEiC;MADqB;;wBAAmC;MADzF,u3CAEiC,qEACrC,MAAM,iEACN,8HAA4B,0EACxB;;;;;wBACwE;MAA/B;;wBAA8B;MADvE,mNACwE,GAArE,4BAAqC,IAAgC,yEACpE,iXACuE,GAApE,2DAAmE,MAAK,qEAC/E,MAAI,iEACR,MAAM,6DACV,MAAM,6DACN;;;sIAAuC,qEACnC,mHAAkB,sFAA2B,IAAQ,iEACrD;;;;;;;;;;;wBAA4D;MAAnB;;wBAAkB;MAA3D,64BAA4D,iEAChE,MAAM,yDACV,MAAM,yDACN,yHAAwB,sHAExB,IAAM,qDACV,MAAM,iDACV,MAAU,6CACd,MAAO,6CACP,mDAvEkC,mBAA4B,cAA9D,YAA+D,EAA7B,SAA4B,GAG/C,wBAAkB,EAArB,aAAsB,EAAnB,UAAkB,GAejB,aAAuC,GAE4B,mBAAQ,EAAvE,aACgF,EADjB,UAAQ,GAAzC,wBAAY,EAAC,oBAAmB,QAA9D,aACgF,EADlD,UAAY,EAAC,UAAmB,GACvD,kCAA6B,GADpC,aACgF,EAAzE,UAA6B,GAAmB,wBAAwB,EAD/E,aACgF,EAAzB,UAAwB,GAEnF,aAA4D,GAIG,mBAAQ,EAD/D,aAEwB,EAD+B,UAAQ,GADU,iCAAqB,EACpE,oBAA4B,iBADtD,aAEwB,EAFiD,UAAqB,EACpE,UAA4B,GAAU,kCAA6B,GAD7F,aAEwB,EADwC,UAA6B,GACtF,mBAAgB,EAFvB,aAEwB,EAAjB,UAAgB,GAKhB,2BAAgB,EAChB,sDAAmE,gBADtE,aACuE,EADpE,UAAgB,EAChB,UAAmE,GAWlF,cAA4D,GAK7C,mBAAQ,EAFf,cAEiC,EAA1B,UAAQ,GADR,uCAA2B,EAAoB,oBAAmC,wBADzF,cAEiC,EAD1B,UAA2B,EAAoB,UAAmC,GACzE,mBAAgB,EAFhC,cAEiC,EAAjB,UAAgB,GAKzB,2BAAgB,EAChB,uDAAmE,gBADtE,cACuE,EADpE,UAAgB,EAChB,UAAmE,GAIlF,cAAuC,GAEN,uBAAW,EAAC,oBAAkB,OAA3D,cAA4D,EAA/B,UAAW,EAAC,UAAkB,mDA9D/E,mgBAA+D,GAGnD,6IAAsB,uIAAmB,GAGrB,2IAA0B,GAGX,4CAAyB,WAA5D,aAA6D,EAA1B,UAAyB,GAClD,4CAAuB,WAA7B,aAA8B,EAAxB,UAAuB,GAAC,oIAAmB,GACV,6CAAwB,WAA/D,aAAgE,EAAzB,UAAwB,GAQxC,0IAAyB,GAC5C,4mBACgF,GAIhD,wIAAuB,GACxB,wGAA6C,GAAxE,4gBAEwB,EAFG,UAA6C,EAAxE,8FAEwB,GAIrB,kKAAqC,GADxC,aACyE,EAAtE,UAAqC,GAO5B,+IAExB,GAM8C,iJAA6B,GAC9B,wGAA6C,GAA9E,qhBAEiC,EAFA,UAA6C,EAA9E,8FAEiC,GAI9B,oKAAqC,GADxC,cACwE,EAArE,UAAqC,GAO1B,+IAA2B,GAC7C,iiBAA4D,GAG5C,mJAExB;;;;;;ACnEL;IAGH,YAAY,KAAa;QACrB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACvB,CAAC;CACJ;;;;;;;;;;;ACJ8E;AAMxE,MAAM,4BAAa;IAMtB,YAAsB,MAAc,EAAY,WAAwB,EAC1D,UAAsB,EAAY,oBAA0C;QADpE,WAAM,GAAN,MAAM,CAAQ;QAAY,gBAAW,GAAX,WAAW,CAAa;QAC1D,eAAU,GAAV,UAAU,CAAY;QAAY,yBAAoB,GAApB,oBAAoB,CAAsB;QAN1F,UAAK,GAAW,EAAE,CAAC;QAGT,iBAAY,GAAG,OAAO,CAAC;IAG6D,CAAC;IAEzF,MAAM;;YACR,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,KAAK,EAAE,EAAE;gBACzC,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,EAC5E,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;gBACzC,OAAO;aACV;YACD,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;gBAChC,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,EAC5E,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;gBACxC,OAAO;aACV;YAED,IAAI;gBACA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,IAAI,mBAAmB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;gBACzF,MAAM,IAAI,CAAC,WAAW,CAAC;gBACvB,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC;gBACvD,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC;gBAC3F,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;aAC7C;YAAC,WAAM,GAAG;QACf,CAAC;KAAA;CACJ;;;ACpCwC;AAEmB;AACE;AACkB;AAEa;AAMtF,MAAM,qCAAc,SAAQ,4BAAiB;IAChD,YAAY,MAAc,EAAE,oBAA0C,EAClE,WAAwB,EAAE,UAAsB;QAChD,KAAK,CAAC,MAAM,EAAE,WAAW,EAAE,UAAU,EAAE,oBAAoB,CAAC,CAAC;IACjE,CAAC;CACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;yHClBD;;;;;wBAA+D;MAAnD;;wBAAqB;MAAjC,krBAA+D,qDAC3D,oGAAQ,0DACJ,kHAAkB,8DACd;;;8QAAuB,mFAAmB,IAAI,qDAClD,MAAM,qDACN,oHAAoB,8DAChB,oHAAoB,oFAAyB,IAAO,qDACxD,MAAM,qDACN,oHAAmB,8DACf;;;wIAA6D,iEACzD,gHAA8B,oFAAmB,IAAO,6DACxD,qJAAgE,KAAI,yDACxE,MAAS,qDACb,MAAM,iDACV,MAAS,iDACT,sGAAS,0DACL,kHAAiB,8DACb,0HAAyB,kEACrB;;;qIAAuC,qEACnC,mHAAmB,oFAAyB,IAAQ,iEACpD;;;;;;;;;;;wBACkD;MADP;;wBAAmB;MAA9D,ghDACkD,iEACtD,MAAM,yDACV,MAAM,yDACN,wHAAwB,oHAExB,IAAM,qDACV,MAAM,iDACV,MAAU,6CACd,MAAO,6CACP,mDA9BkC,mBAA4B,cAA9D,YAA+D,EAA7B,SAA4B,GAG/C,yBAAmB,EAAtB,aAAuB,EAApB,UAAmB,GAelB,aAAuC,GAE4B,mBAAQ,EAAvE,aACkD,EADa,UAAQ,GAAzC,wBAAY,EAAC,oBAAmB,QAA9D,aACkD,EADpB,UAAY,EAAC,UAAmB,GAAU,mBAAY,EAApF,aACkD,EADsB,UAAY,GAC3D,wBAAwB,EADjD,aACkD,EAAzB,UAAwB,2BArBrE,mgBAA+D,GAGnD,6IAAuB,uIAAmB,GAGtB,0IAAyB,GAGV,4CAAyB,WAA5D,aAA6D,EAA1B,UAAyB,GAClD,4CAAuB,WAA7B,aAA8B,EAAxB,UAAuB,GAAC,oIAAmB,GACV,6CAAwB,WAA/D,aAAgE,EAAzB,UAAwB,GAQxC,0IAAyB,GAC5C,4mBACkD,GAGlC,iJAExB;;;;;;;;;;;;;;ACvBW;AAMhB,MAAM,0CAAoB;IAW7B,YAAsB,oBAA0C,EAAY,kBAAsC,EACpG,WAAwB;QADhB,yBAAoB,GAApB,oBAAoB,CAAsB;QAAY,uBAAkB,GAAlB,kBAAkB,CAAoB;QACpG,gBAAW,GAAX,WAAW,CAAa;QAX5B,YAAO,GAAG,IAAI,4BAAY,EAAE,CAAC;QAQvC,eAAU,GAAG,KAAK,CAAC;QAIf,IAAI,CAAC,OAAO,GAAG,kBAAkB,CAAC,OAAO,IAAI,EAAE,CAAC;QAChD,IAAI,CAAC,WAAW,GAAG,kBAAkB,CAAC,WAAW,IAAI,EAAE,CAAC;QACxD,IAAI,CAAC,MAAM,GAAG,kBAAkB,CAAC,MAAM,IAAI,EAAE,CAAC;QAC9C,IAAI,CAAC,WAAW,GAAG,kBAAkB,CAAC,WAAW,IAAI,EAAE,CAAC;QACxD,IAAI,CAAC,QAAQ,GAAG,kBAAkB,CAAC,QAAQ,IAAI,EAAE,CAAC;QAClD,IAAI,CAAC,gBAAgB,GAAG,kBAAkB,CAAC,gBAAgB,IAAI,EAAE,CAAC;IACtE,CAAC;IAEK,MAAM;;YACR,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC;gBAClD,IAAI,EAAE,IAAI,CAAC,OAAO;gBAClB,GAAG,EAAE,IAAI,CAAC,MAAM;gBAChB,QAAQ,EAAE,IAAI,CAAC,WAAW;gBAC1B,QAAQ,EAAE,IAAI,CAAC,WAAW;gBAC1B,KAAK,EAAE,IAAI,CAAC,QAAQ;gBACpB,aAAa,EAAE,IAAI,CAAC,gBAAgB;aACvC,CAAC,CAAC;YAEH,oEAAoE;YACpE,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC;YAC5B,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC;YAC1B,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,QAAQ,CAAC;YACpC,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,QAAQ,CAAC;YACpC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,KAAK,CAAC;YAC9B,IAAI,CAAC,gBAAgB,GAAG,OAAO,CAAC,aAAa,CAAC;YAE9C,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,sBAAsB,CAAC,CAAC;YAC7D,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC;YAC7F,IAAI,CAAC,KAAK,EAAE,CAAC;QACjB,CAAC;KAAA;IAED,YAAY;QACR,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC;IACvC,CAAC;IAES,KAAK;QACX,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;IACxB,CAAC;CACJ;;;AC3DwC;AAEmC;AACd;AACkB;AAEkC;AAM3G,MAAM,mDAAqB,SAAQ,0CAAwB;IAC9D,YAAY,oBAA0C,EAAE,kBAAsC,EAC1F,WAAwB,EAAU,MAAc;QAChD,KAAK,CAAC,oBAAoB,EAAE,kBAAkB,EAAE,WAAW,CAAC,CAAC;QAD3B,WAAM,GAAN,MAAM,CAAQ;QAEhD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;IAC3B,CAAC;IAED,KAAK;QACD,KAAK,CAAC,KAAK,EAAE,CAAC;QACd,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC/B,CAAC;CACJ;;;;;;;;;;;;;;;;;;;;;;;;gICxBD;;;;;wBAAwD;MAAtB;;wBAAqB;MAAvD,qhBAAwD,qDACpD,oGAAQ,0DACJ,iHAAkB,8DACd;;;8QAAsB,mFAAkB,IAAI,qDAChD,MAAM,qDACN,oHAAoB,8DAChB,oHAAoB,oFAAoB,IAAO,qDACnD,MAAM,qDACN,oHAAmB,8DACf;;;wIAA6D,iEACzD,gHAA8B,oFAAiB,IAAO,6DACtD,qJAAgE,KAAI,yDACxE,MAAS,qDACb,MAAM,iDACV,MAAS,iDACT,uGAAS,0DACL,kHAAiB,8DACb,wHAAwB,oHAExB,IAAM,yDACN,0HAAyB,kEACrB;;;qIAAuC,qEACnC,qHAAqB,oFAAoB,IAAQ,iEACjD;;;;;;;;;;;wBACwE;MADzB;;wBAAqB;MAApE,2jCACwE,iEAC5E,MAAM,yDACV,MAAM,yDACN,wHAAwB,oHAExB,IAAM,qDACV,MAAM,qDACN,kHAAiB,8DACb,wHAAwB,oHAExB,IAAM,yDACN,wIAAgD,kEAC5C;;;qIAAuC,qEACnC,yHAAyB,oFAAwB,IAAQ,iEACzD;;;;;;;;;;;wBACwB;MAD+B;;wBAAyB;MAAhF,2jCACwB,iEAC5B,MAAM,6DACN;;;qIAAuC,qEACnC,oHAAoB,oFAAmB,IAAQ,iEAC/C;;;;;;;;;;;wBAAmG;MAAtD;;wBAAoB;MAAjE,+jCAAmG,iEACvG,MAAM,6DACN;;;sIAAuC,qEACnC,0HAAyB,sFAAwB,IAAQ,iEACzD;;;;;;;;;;;wBACwB;MAD+B;;wBAAyB;MAAhF,+jCACwB,iEAC5B,MAAM,6DACN;;;sIAAuC,qEACnC,+HAA8B,sFAA6B,IAAQ,iEACnE;;;;;;;;;;;wBACuD;MAAhD;;wBAA8B;MADrC,+jCACuD,iEAC3D,MAAM,6DACN;;;sIAAuC,qEACnC,uHAAsB,sFAAqB,IAAQ,iEACnD;;;;;;;;;;;wBACwB;MADyB;;wBAAsB;MAAvE,+jCACwB,iEAC5B,MAAM,yDACV,MAAM,yDACN,uIAA+C,sHAE/C,IAAM,qDACV,MAAM,iDACV,MAAU,6CACd,MAAO,6CACP,mDAhEe,uBAAkB,EAArB,aAAsB,EAAnB,SAAkB,GAkBjB,aAAuC,GAEH,0BAAc,EAAC,oBAAqB,UAApE,aACwE,EADxC,UAAc,EAAC,UAAqB,GACb,mBAAgB,EADvE,aACwE,EAAjB,UAAgB,GAY3E,aAAuC,GAEC,8BAAkB,EAAC,oBAAyB,cAAhF,aACwB,EADY,UAAkB,EAAC,UAAyB,GACzE,mBAAgB,EADvB,aACwB,EAAjB,UAAgB,GAE3B,aAAuC,GAEJ,yBAAa,EAAC,oBAAoB,SAAjE,cAAmG,EAApE,UAAa,EAAC,UAAoB,GAAiB,mBAAgB,EAAlG,cAAmG,EAAjB,UAAgB,GAEtG,cAAuC,GAEC,8BAAkB,EAAC,oBAAyB,cAAhF,cACwB,EADY,UAAkB,EAAC,UAAyB,GACzE,mBAAgB,EADvB,cACwB,EAAjB,UAAgB,GAE3B,cAAuC,GAEM,mCAAuB,EACzD,oBAA8B,mBADrC,cACuD,EADd,UAAuB,EACzD,UAA8B,GAAC,mBAAgB,EADtD,cACuD,EAAjB,UAAgB,GAE1D,cAAuC,GAEF,2BAAe,EAAC,oBAAsB,WAAvE,cACwB,EADS,UAAe,EAAC,UAAsB,GAChE,mBAAgB,EADvB,cACwB,EAAjB,UAAgB,mDA1D3C,mgBAAwD,GAG5C,6IAAsB,sIAAkB,GAGpB,qIAAoB,GAGL,4CAAyB,WAA5D,aAA6D,EAA1B,UAAyB,GAClD,4CAAuB,WAA7B,aAA8B,EAAxB,UAAuB,GAAC,kIAAiB,GACR,6CAAwB,WAA/D,aAAgE,EAAzB,UAAwB,GAM3C,mJAExB,GAG6B,qIAAoB,GACzC,yhBACwE,GAGxD,yJAExB,GAGwB,+IAExB,GACyB,qBAAsB,aAA/C,aAAgD,EAAvB,UAAsB,GAEd,yIAAwB,GACjD,yhBACwB,GAGJ,oIAAmB,GACvC,iiBAAmG,GAG1E,4IAAwB,GACjD,iiBACwB,GAGM,iJAA6B,GAC3D,iiBACuD,GAGjC,yIAAqB,GAC3C,iiBACwB,GAGR,qBAAsB,aAA9C,cAA+C,EAAvB,UAAsB,GAAC,wJAE/C;;;;;;;;;AC1DW;AAKhB;IAGH,YAAoB,EAAc;QAAd,OAAE,GAAF,EAAE,CAAY;IAClC,CAAC;IAEsB,OAAO;QAC1B,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,GAAG,GAAG,IAAI,CAAC,cAAc,CAAC;IACpD,CAAC;CACJ;;;;;;;;;;;;;;ACfsB;AAE6B;AAEwB;AACZ;AAEI;AAE3B;AAMlC,MAAM,4BAAa;IAStB,YAAoB,kBAAsC,EAAU,YAA0B;QAA1E,uBAAkB,GAAlB,kBAAkB,CAAoB;QAAU,iBAAY,GAAZ,YAAY,CAAc;QAC1F,IAAI,CAAC,QAAQ,GAAG,kBAAkB,CAAC,QAAQ,CAAC;QAC5C,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAChB,IAAI,kBAAkB,CAAC,OAAO,EAAE;gBAC5B,IAAI,CAAC,QAAQ,GAAG,kBAAkB,CAAC,OAAO,GAAG,QAAQ,CAAC;aACzD;iBAAM;gBACH,IAAI,CAAC,QAAQ,GAAG,6BAA6B,CAAC;aACjD;SACJ;IACL,CAAC;IAEK,WAAW;;YACb,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,MAAM,IAAI,CAAC,YAAY,CAAC,GAAG,CAAU,6CAAgB,CAAC,iBAAiB,CAAC,CAAC,CAAC;YAEhG,QAAQ,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE;gBACtB,KAAK,gCAAU,CAAC,KAAK;oBACjB,IAAI,CAAC,IAAI,GAAG,UAAU,CAAC;oBACvB,IAAI,CAAC,YAAY,EAAE,CAAC;oBACpB,MAAM;gBACV,KAAK,gCAAU,CAAC,UAAU;oBACtB,IAAI,CAAC,IAAI,GAAG,kBAAkB,CAAC;oBAC/B,MAAM;gBACV,KAAK,gCAAU,CAAC,IAAI;oBAChB,IAAI,CAAC,IAAI,GAAG,gBAAgB,CAAC;oBAC7B,MAAM;gBACV,KAAK,gCAAU,CAAC,QAAQ;oBACpB,IAAI,CAAC,IAAI,GAAG,cAAc,CAAC;oBAC3B,MAAM;gBACV;oBACI,MAAM;aACb;QACL,CAAC;KAAA;IAEO,YAAY;QAChB,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE;YACvB,IAAI,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC;YACxC,IAAI,SAAS,GAAG,KAAK,CAAC;YAEtB,IAAI,WAAW,CAAC,OAAO,CAAC,eAAe,CAAC,KAAK,CAAC,EAAE;gBAC5C,IAAI,CAAC,IAAI,GAAG,YAAY,CAAC;gBACzB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;aACrB;iBAAM,IAAI,WAAW,CAAC,OAAO,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE;gBAC/C,IAAI,CAAC,IAAI,GAAG,UAAU,CAAC;gBACvB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;aACrB;iBAAM,IAAI,IAAI,CAAC,YAAY,IAAI,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,IAAI,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;gBAChG,WAAW,GAAG,SAAS,GAAG,WAAW,CAAC;gBACtC,SAAS,GAAG,IAAI,CAAC;aACpB;iBAAM,IAAI,IAAI,CAAC,YAAY,EAAE;gBAC1B,SAAS,GAAG,WAAW,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;aAClF;YAED,IAAI,IAAI,CAAC,YAAY,IAAI,SAAS,EAAE;gBAChC,IAAI;oBACA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,GAAG,GAAG,GAAG,sBAAK,CAAC,WAAW,CAAC,WAAW,CAAC,GAAG,WAAW,CAAC;oBAChF,IAAI,CAAC,aAAa,GAAG,qBAAqB,CAAC;iBAC9C;gBAAC,OAAO,CAAC,EAAE,GAAG;aAClB;SACJ;aAAM;YACH,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;SACrB;IACL,CAAC;CACJ;;;;;;;;;;;;;;;;;;sECxFG;;;8KAA6F,iDAA1E,gFAAkC,GAArD,YAA6F,EAA1E,SAAkC,mDAAhD,mBAAa,QAAlB,YAA6F,EAAxF,SAAa;sEAClB,yGAAmE,wDAAhE,sFAA+B,GAAlC,YAAmE,EAAhE,SAA+B;sEAFtC,2GAAkB,sDACd,yPAA6F,qDAC7F,yPAAmE,IAAI,6CAC3E,MAAM,6CACN,mDAH0D,wCAA6B,SAAnF,YAA6F,EAAvC,SAA6B,GAChD,0CAA+B,SAAlE,YAAmE,EAAhC,SAA+B;;;;;;ACM/D;IACgC,OAAO,CAAC,MAAkB;QACzD,MAAM,CAAC,eAAe,EAAE,CAAC;IAC7B,CAAC;CACJ;;;;;;ACTM;IACH,SAAS,CAAC,GAAW;QACjB,OAAO,GAAG,CAAC,QAAQ,CAAC,MAAM,KAAK,EAAE,IAAI,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC,CAAC;IAChG,CAAC;IAED,KAAK,CAAC,GAAW;QACb,OAAO,GAAG,CAAC,QAAQ,CAAC,MAAM,KAAK,EAAE,IAAI,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC,CAAC;IAC5F,CAAC;IAED,QAAQ,CAAC,GAAW;QAChB,OAAO,GAAG,CAAC,QAAQ,CAAC,MAAM,KAAK,EAAE,IAAI,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC,CAAC;IAC/F,CAAC;IAED,OAAO,CAAC,GAAW;QACf,OAAO,GAAG,CAAC,QAAQ,CAAC,MAAM,KAAK,EAAE,IAAI,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAClF,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC,CAAC;IAC7D,CAAC;IAED,iBAAiB,CAAC,GAAW;QACzB,MAAM,OAAO,GAAG,GAAG,CAAC,QAAQ,CAAC,oBAAoB,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;QAChE,OAAO,OAAO,CAAC,SAAS,CAAC;IAC7B,CAAC;IAED,iBAAiB,CAAC,GAAW,EAAE,OAAe;QAC1C,IAAI,OAAO,IAAI,IAAI,EAAE;YACjB,MAAM,OAAO,GAAG,GAAG,CAAC,QAAQ,CAAC,oBAAoB,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;YAChE,OAAO,CAAC,SAAS,GAAG,OAAO,CAAC;SAC/B;IACL,CAAC;CACJ;;;AC3BsB;AAE2B;AACN;AAEU;AAEF;AAEM;AAEI;AACkB;AAEZ;AAM7D,MAAM,+CAAsB;IAO/B,YAAoB,SAAuB,EAAU,cAA8B,EACvE,WAAwB,EAAU,oBAA0C,EAC5E,iBAAoC;QAF5B,cAAS,GAAT,SAAS,CAAc;QAAU,mBAAc,GAAd,cAAc,CAAgB;QACvE,gBAAW,GAAX,WAAW,CAAa;QAAU,yBAAoB,GAApB,oBAAoB,CAAsB;QAC5E,sBAAiB,GAAjB,iBAAiB,CAAmB;QARtC,WAAM,GAAG,IAAI,4BAAY,EAAc,CAAC;QAEzC,aAAQ,GAAG,KAAK,CAAC;QAE1B,eAAU,GAAG,gCAAU,CAAC;IAI4B,CAAC;IAErD,MAAM;QACF,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,gCAAU,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,EAAE;YACvE,OAAO;SACV;QAED,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,2BAA2B,EAAE,CAAC,CAAC;QACxE,gCAAU,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAC/C,IAAI,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;YACxC,gCAAU,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACjC;IACL,CAAC;IAED,IAAI,CAAC,KAAa,EAAE,WAAmB,EAAE,KAAa;QAClD,IAAI,KAAK,IAAI,IAAI,EAAE;YACf,OAAO;SACV;QAED,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,SAAS,GAAG,KAAK,EAAE,CAAC,CAAC;QAC9D,IAAI,CAAC,oBAAoB,CAAC,eAAe,CAAC,KAAK,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC;QACrE,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,EACrC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;IAC5E,CAAC;IAED,IAAI;QACA,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAClC,CAAC;CACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+EC9DD;;;;;wBAA2G;MAArF;;wBAAgB;MAAtC,oLAA2G,GAA3C,0BAAyB,IAAkB,iDACvG,+HAAgC,KAAI,6CACxC,iCAFgE,0JAAyB,GAAzF,YAA2G,EAA3C,SAAyB;+EAIrF;;;;;wBACwE;MADG;;wBAAkB;MAA7F,kRACwE,GAAhD,sCAA+C,KADvE,wJACwE,GADzB,0BAA2B,IACF,qDACpE,qIAAsC,KAAI,iDAC9C,mDAHM,yBAAe,EACG,kCAA+C,0BADvE,YACwE,EADlE,SAAe,EACG,SAA+C,2BADxB,mKAA2B,GAA1E,YACwE,EADzB,SAA2B;+EAD9E,4FAAuD,sDACnD,kQACwE,IAEjE,iDACP;;;;;wBAEqD;MAD/C;;wBAA6D;MADnE,kRAEqD,GAA/C,sCAA8C,KAFpD,wJAEqD,GAFN,2BAAiC,IAE3B,qDACjD,4HAA4B,KAAI,iDACpC,MAAO,iDACP;;;;;wBAEqD;MAD/C;;wBAA6D;MADnE,mRAEqD,GAA/C,uCAA8C,KAFpD,0JAEqD,GAFN,2BAAiC,IAE3B,qDACjD,2HAA2B,KAAI,iDACnC,MAAO,6CACX,mDAbU,oBAAiB,WADvB,YACwE,EAAlE,SAAiB,GAGjB,yBAAe,EAEf,kCAA8C,yBAFpD,YAEqD,EAF/C,SAAe,EAEf,SAA8C,GAG9C,yBAAe,EAEf,mCAA8C,yBAFpD,aAEqD,EAF/C,SAAe,EAEf,SAA8C,2BAPL,mKAAiC,GAAhF,YAEqD,EAFN,SAAiC,GAKjC,oKAAiC,GAAhF,aAEqD,EAFN,SAAiC;+EAMpF,4FAAsD,sDAClD;;;;;wBAEkD;MAD5C;;wBAA2D;MADjE,kRAEkD,GAA5C,sCAA2C,KAFjD,wJAEkD,GAFH,0BAA+B,IAE5B,qDAC9C,8HAA+B,KAAI,iDACvC,MAAO,iDACP;;;;;wBAEgD;MAD1C;;wBAAiE;MADvE,mRAEgD,GAA1C,uCAAyC,KAF/C,0JAEgD,GAFD,2BAAqC,IAEpC,qDAC5C,2HAA2B,KAAI,iDACnC,MAAO,6CACX,mDAVU,yBAAe,EAEf,kCAA2C,sBAFjD,YAEkD,EAF5C,SAAe,EAEf,SAA2C,GAG3C,yBAAe,EAEf,mCAAyC,oBAF/C,aAEgD,EAF1C,SAAe,EAEf,SAAyC,2BAPA,gKAA+B,GAA9E,YAEkD,EAFH,SAA+B,GAK/B,wKAAqC,GAApF,aAEgD,EAFD,SAAqC;+EAMxF,4FAA4D,sDACxD;;;;;wBACyF;MAAnF;;wBAA4C;MADlD,kRACyF,GAAtC,sCAAqC,KADxF,wJACyF,GAD1C,0BAA6B,IACa,qDACrF,gIAAiC,KAAI,iDACzC,MAAO,6CACX,mDAJU,yBAAe,EAC8B,kCAAqC,gBADxF,YACyF,EADnF,SAAe,EAC8B,SAAqC,2BADzC,8JAA6B,GAA5E,YACyF,EAD1C,SAA6B;kIAhChF,4PAA2G,IAEpG,6CACP,kQAAuD,IAexC,6CACf,kQAAsD,IAWvC,6CACf,mQAA4D,IAK7C,6CACf,mDArC0F,mBAAgB,WAA1G,YAA2G,EAAjB,SAAgB,GAG5F,wCAAwC,oBAAtD,YAAuD,EAAzC,SAAwC,GAgBxC,wCAAuC,mBAArD,YAAsD,EAAxC,SAAuC,GAYvC,wCAA6C,yBAA3D,aAA4D,EAA9C,SAA6C;;;;;;AC1BpC;AAE6B;AAQ7C,MAAM,2CAAoB;IAJjC;QAKc,eAAU,GAAG,IAAI,4BAAY,EAAc,CAAC;QAC5C,qBAAgB,GAAG,IAAI,4BAAY,EAAc,CAAC;QAClD,WAAM,GAAG,IAAI,4BAAY,EAAc,CAAC;QAEzC,aAAQ,GAAG,KAAK,CAAC;QAG1B,eAAU,GAAG,gCAAU,CAAC;IAa5B,CAAC;IAXG,YAAY,CAAC,CAAa;QACtB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAC5B,CAAC;IAED,kBAAkB,CAAC,CAAa;QAC5B,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAClC,CAAC;IAED,UAAU,CAAC,CAAa;QACpB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACxB,CAAC;CACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;6EC7Be,4IAA2F,IAA5B,4NAA2B,GAA1F,YAA2F,EAA5B,SAA2B;6EAC1F,4IAAgG,IAAjC,iOAAgC,GAA/F,YAAgG,EAAjC,SAAgC;6EAR/G;;wBACqG;MADxE;;wBAAyB;MAAC;;wBAAkC;MAAzF,uGACqG,qDACjG,sHAAsB,0DAClB,8RAA6B,IAAiB,qDAC9C,8HAA8B,8DAC1B,mHAAmB,wFAEf,iQAA2F,IAAI,6DAC/F,iQAAgG,IAAI,yDACxG,MAAO,yDACP,qHAAqB,oDAAc,MAAO,qDAC9C,MAAM,iDACV,MAAM,iDACN,gMAAuG,YAAhD;;wBAAwB;MAA/E,8XAAuG,uDACvG,MAAqB,6CACzB,mDAZwB,kBAAY,oBAA5B,YAA6B,EAAb,SAAY,GAIkB,kBAAwB,mCAA9D,aAA2F,EAArD,SAAwB,GACxB,kBAAwB,mCAA9D,aAAgG,EAA1D,SAAwB,GAKtD,kBAAY,oBAAC,mBAAqB,WAAtD,aAAuG,EAAnF,SAAY,EAAC,SAAqB,mDAZjC,0GAA8B,GADvD,YACqG,EAA5E,SAA8B,GAIxB,mEAEf,GAGiB,uEAAc;gIAV/C,qSACqG,IAcjG,6CACJ,mDAhBG,mBAAyB,UAA5B,YACqG,EADlG,SAAyB;;;;;;ACMrB;CAaN;;;ACZM;CAcN;;;ACnBM;CAON;;;;;;;;;;;ACLsB;AAMhB,MAAM,kCAAgB;IAiBzB,YAAsB,aAA4B;QAA5B,kBAAa,GAAb,aAAa,CAAe;QAhBzC,mBAAc,GAAW,IAAI,CAAC;QAC7B,oBAAe,GAAG,IAAI,4BAAY,EAAc,CAAC;QACjD,yBAAoB,GAAG,IAAI,4BAAY,EAAc,CAAC;QACtD,gBAAW,GAAG,IAAI,4BAAY,EAAE,CAAC;QACjC,uBAAkB,GAAG,IAAI,4BAAY,EAAE,CAAC;QAElD,WAAM,GAAY,KAAK,CAAC;QACxB,YAAO,GAAiB,EAAE,CAAC;QAE3B,sBAAiB,GAAW,IAAI,CAAC;QACjC,WAAM,GAAoC,IAAI,CAAC;QAErC,kBAAa,GAAG,KAAK,CAAC;QAExB,kBAAa,GAAQ,IAAI,CAAC;IAEoB,CAAC;IAEjD,IAAI,CAAC,SAA0C,IAAI;;YACrD,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;YAC/B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACvB,CAAC;KAAA;IAEK,OAAO;;YACT,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;YAClB,MAAM,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACjC,CAAC;KAAA;IAEK,WAAW,CAAC,SAA0C,IAAI;;YAC5D,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YACrB,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAC5B,CAAC;KAAA;IAEK,MAAM,CAAC,UAAkB,IAAI;;YAC/B,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;YAC3B,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,EAAE;gBAC5B,YAAY,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;aACpC;YACD,IAAI,OAAO,IAAI,IAAI,EAAE;gBACjB,IAAI,CAAC,OAAO,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;gBACpF,OAAO;aACV;YACD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;YAC1B,IAAI,CAAC,aAAa,GAAG,UAAU,CAAC,GAAS,EAAE,CAAC;gBACxC,IAAI,CAAC,OAAO,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;gBACpF,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;YAC/B,CAAC,GAAE,OAAO,CAAC,CAAC;QAChB,CAAC;KAAA;IAED,YAAY,CAAC,MAAkB;QAC3B,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACtC,CAAC;IAED,gBAAgB,CAAC,MAAkB;QAC/B,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC3C,CAAC;IAED,SAAS;QACL,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;IAC5B,CAAC;IAED,gBAAgB;QACZ,IAAI,CAAC,kBAAkB,CAAC,IAAI,EAAE,CAAC;IACnC,CAAC;CACJ;;;;;;;;;;;AC5E2C;AAED;AAOpB;AAIE;AAE6B;AAEoB;AACR;AACJ;AACkB;AACd;AACF;AAEZ;AAI4B;AAEsB;AAElC;AAEpE,MAAM,WAAW,GAAG,kBAAkB,CAAC;AAMhC,MAAM,wCAAiB,SAAQ,kCAAoB;IAatD,YAAY,aAA4B,EAAU,KAAqB,EAC3D,MAAc,EAAU,QAAkB,EAC1C,MAAc,EAAU,kBAAsC,EAC9D,iBAAoC,EAAU,YAA0B,EACxE,UAA6B,EAAU,WAAwB,EAC/D,aAA4B,EAAU,iBAAoC,EAC1E,SAAuB,EAAU,oBAA0C;QACnF,KAAK,CAAC,aAAa,CAAC,CAAC;QAPyB,UAAK,GAAL,KAAK,CAAgB;QAC3D,WAAM,GAAN,MAAM,CAAQ;QAAU,aAAQ,GAAR,QAAQ,CAAU;QAC1C,WAAM,GAAN,MAAM,CAAQ;QAAU,uBAAkB,GAAlB,kBAAkB,CAAoB;QAC9D,sBAAiB,GAAjB,iBAAiB,CAAmB;QAAU,iBAAY,GAAZ,YAAY,CAAc;QACxE,eAAU,GAAV,UAAU,CAAmB;QAAU,gBAAW,GAAX,WAAW,CAAa;QAC/D,kBAAa,GAAb,aAAa,CAAe;QAAU,sBAAiB,GAAjB,iBAAiB,CAAmB;QAC1E,cAAS,GAAT,SAAS,CAAc;QAAU,yBAAoB,GAApB,oBAAoB,CAAsB;QAhBvF,YAAO,GAAG,IAAI,CAAC;QACf,aAAQ,GAAW,IAAI,CAAC;QACxB,SAAI,GAAe,IAAI,CAAC;QACxB,iBAAY,GAAiB,EAAE,CAAC;QAExB,cAAS,GAAG,KAAK,CAAC;QAElB,oBAAe,GAAG,KAAK,CAAC;QACxB,aAAQ,GAAG,GAAG,CAAC;QAUnB,IAAI,CAAC,QAAQ,GAAG,oBAAoB,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;IAC7D,CAAC;IAEK,QAAQ;;;YACV,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,CAAO,MAAM,EAAE,EAAE,CAAC;gBAC/C,IAAI,MAAM,CAAC,IAAI,EAAE;oBACb,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC;oBAC1D,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;oBACxC,QAAQ,IAAI,CAAC,IAAI,EAAE;wBACf,KAAK,gCAAU,CAAC,KAAK;4BACjB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;4BAClD,MAAM;wBACV,KAAK,gCAAU,CAAC,IAAI;4BAChB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;4BACjD,MAAM;wBACV,KAAK,gCAAU,CAAC,QAAQ;4BACpB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC;4BACtD,MAAM;wBACV,KAAK,gCAAU,CAAC,UAAU;4BACtB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC;4BACvD,MAAM;wBACV;4BACI,MAAM;qBACb;oBACD,MAAM,cAAU,YAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC;iBACjD;qBAAM,IAAI,MAAM,CAAC,QAAQ,EAAE;oBACxB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,KAAK,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC;oBACpE,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC;oBAC5D,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,EAAE;wBACvB,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;wBAC3D,IAAI,MAAM,IAAI,IAAI,EAAE;4BAChB,IAAI,CAAC,aAAa,GAAG,CAAC,MAAM,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC,IAAI,CAAC;yBACtD;qBACJ;yBAAM;wBACH,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC;qBACzD;oBACD,MAAM,cAAU,YAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,QAAQ,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACzD;qBAAM,IAAI,MAAM,CAAC,YAAY,EAAE;oBAC5B,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;oBACrB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC;oBAChE,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;oBACzE,IAAI,UAAU,IAAI,IAAI,EAAE;wBACpB,IAAI,CAAC,aAAa,GAAG,CAAC,MAAM,UAAU,CAAC,OAAO,EAAE,CAAC,CAAC,IAAI,CAAC;qBAC1D;oBACD,MAAM,cAAU,YAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,aAAa,IAAI,IAAI,IAAI,CAAC,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;iBACzG;qBAAM;oBACH,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;oBACpD,MAAM,cAAU,WAAE,CAAC;iBACtB;gBAED,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAChB,IAAI,CAAC,KAAK,GAAG,CAAC,MAAM,IAAI,CAAC,YAAY,CAAC,GAAG,CAAM,WAAW,CAAC,CAAC,IAAI,EAAE,CAAC;gBACnE,IAAI,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE;oBACvB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC;iBAC3C;gBACD,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC;YAC9F,CAAC,EAAC,CAAC;YAEH,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC,OAAY,EAAE,EAAE;gBAC5D,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAS,EAAE,CAAC;oBACxB,QAAQ,OAAO,CAAC,OAAO,EAAE;wBACrB,KAAK,eAAe;4BAChB,IAAI,OAAO,CAAC,YAAY,EAAE;gCACtB,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE;oCACnB,IAAI,CAAC,OAAO,EAAE,CAAC;gCACnB,CAAC,EAAE,GAAG,CAAC,CAAC;6BACX;4BACD,MAAM;wBACV;4BACI,MAAM;qBACb;oBAED,IAAI,CAAC,iBAAiB,CAAC,aAAa,EAAE,CAAC;gBAC3C,CAAC,EAAC,CAAC;YACP,CAAC,CAAC,CAAC;QACP,CAAC;KAAA;IAED,WAAW;QACP,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;IACrD,CAAC;IAED,YAAY,CAAC,MAAkB;QAC3B,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE;YAC1C,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;gBACvB,KAAK,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;gBAC3B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC,EAAE,EAAE,WAAW,EAAE,EAAE,QAAQ,EAAE,MAAM,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;aACpF;YACD,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QACjC,CAAC,EAAE,GAAG,CAAC,CAAC;IACZ,CAAC;IAEK,YAAY,CAAC,MAAkB;;YACjC,IAAI,MAAM,CAAC,IAAI,KAAK,gCAAU,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,EAAE;gBAC7D,OAAO;aACV;YAED,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,EAAE;gBAC9B,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;aAC7C;YACD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC5B,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,2BAA2B,EAAE,CAAC,CAAC;YACxE,gCAAU,CAAC,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAC1C,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;gBACjC,gCAAU,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;aACjC;QACL,CAAC;KAAA;IAED,SAAS;QACL,KAAK,CAAC,SAAS,EAAE,CAAC;QAClB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,EAAE,EAAE,WAAW,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;IACzG,CAAC;IAED,IAAI;QACA,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;IACzB,CAAC;IAED,QAAQ;QACJ,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,IAAI,IAAI,CAAC,QAAQ,EAAE;YACtC,OAAO;SACV;QAED,MAAM,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC;QAC7C,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,WAAW,EAAE;YACnC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,EAAE,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;SAC9G;QACD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC;IAC9D,CAAC;IAED,WAAW;QACP,OAAO,CAAC,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IACnF,CAAC;IAED,QAAQ;QACJ,MAAM,SAAS,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QACrC,IAAI,SAAS,IAAI,IAAI,CAAC,SAAS,EAAE;YAC7B,IAAI,CAAC,WAAW,EAAE,CAAC;SACtB;QACD,OAAO,CAAC,SAAS,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC;IAC7D,CAAC;IAEK,WAAW;;YACb,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;YACvB,IAAI,CAAC,QAAQ,EAAE,CAAC;QACpB,CAAC;KAAA;IAEa,SAAS;;YACnB,IAAI,CAAC,KAAK,GAAG;gBACT,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAAC,MAAM,CAAC;gBAClD,UAAU,EAAE,IAAI,CAAC,UAAU;aAC9B,CAAC;YACF,MAAM,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAC1D,CAAC;KAAA;CACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;yEC1MG,4GAAmC,0DAC/B;;wBAAsF;MAAnD;;wBAAqB;MAAxD,iIAAsF,GAA7B,0BAA4B,IAAC,yDAClF,iIAAkC,KAAI,qDAC1C,MAAS,iDACb,iCAH6D,6JAA4B,GAArF,YAAsF,EAA7B,SAA4B;yEAQjF,gIAAuD;yEAGnD,oLAA6E,YAArE;;wBAAqB;MAA7B,wBAA6E,qTAE7E;yEAJJ,2FAA6B,kEACzB,8FAAG,kFAA0B,IAAI,6DACjC,4PAA6E,IAEpE,yDACb,mDAHiE,mBAAe,UAA5E,YAA6E,EAAhB,SAAe,2BADzE,2JAA0B;yEAHrC,+GAAsD,8DAClD,4PAAuD,IAAI,yDAC3D,4PAA6B,IAKd,qDACnB,mDAP2C,oBAAe,SAAtD,YAAuD,EAAhB,SAAe,GACxC,mBAAc,SAA5B,YAA6B,EAAf,SAAc;yEAOhC,yMAEoE,YAAxB;;wBAAuB;MAFnE,qZAEoE,+DAChE,uHAAwB,uFAEpB,wHAAyB,mDAA2D,MAAO,yDAC/F,MAAM,yDACN,wHAAyB,kEACrB,mMAE4D,YAD1C;;wBAAmC;MACnC;;wBAAyC;MAF3D,2RAE4D,KAFd,2BAA6B,IAEI,yDACnF,MAAM,qDACV,mDAXoB,iBAA4B,EAC3C,oBAAsC,aADM,yBAAqC,EAAC,oBAAiB,EADxG,YAEoE,EADhD,SAA4B,EAC3C,SAAsC,EADM,SAAqC,EAAC,SAAiB,GAO9E,kBAA2B,sBAAC,uKAA6B,GAA3E,aAE4D,EAF1C,SAA2B,EAAC,SAA6B,mDALvD,0DAEpB,GAAyB,iHAA2D;yEAfhG,2FAAgF,0DAC5E,4PAAsD,IAQhD,qDACN,4PAEoE,IAU9D,iDACV,2BAtB0B,mBAA+B,sBAArD,YAAsD,EAAhC,SAA+B,GASrB,2CAAkC,GAAlE,YAEoE,EAFpC,SAAkC;4HA7B1E,8FAAQ,sDACJ,kHAAkB,0DACd;;wBAAoD;MAAjB;;wBAAgB;MAAnD,iIAAoD,6DAChD,yHAA0B,4HAA8B,KAAW,yDACnE,kGAAM,oFAAiB,IAAO,qDAClC,MAAS,iDACb,MAAM,iDACN,qHAAoB,0DAChB;;;;;;;;;;;wBACmE;MAA5D;;wBAAwB;MAAC;;wBAAqB;MADrD,k/BACmE,GAD9C,2BAA6D,IACf,qDACnE,wHAAwB,KAAI,iDAChC,MAAM,iDACN,6PAAmC,IAI7B,6CACV,MAAS,6CACT,qGAAS,sDACL,6PAAgF,IAuBjE,6CACnB,MAAU,6CACV,mDAnCe,mBAAwB,aAD/B,aACmE,EAA5D,SAAwB,GAAuB,mBAAY,EADlE,aACmE,EAAb,UAAY,GAGnD,oBAAe,UAAlC,aAAmC,EAAhB,UAAe,GAOpB,qDAAiE,gBAA/E,aAAgF,EAAlE,UAAiE,mDAfjE,gIAAiB,GAIN,uLAA6D,GAAlF,8bACmE,EAD9C,SAA6D,EAAlF,2EACmE;;;;;;ACPpE;CAGN;;;ACOM;CAoCN;;;AChDM;CAuBN;;;ACvBM;CAIN;;;;;;;;;;;;;;ACIsB;AAE6B;AACF;AAiBlD,MAAM,wCAAyB,GAAG,eAAe,CAAC;AAE3C,MAAM,4BAAa;IAkBtB,YAAsB,aAA4B,EAAY,WAAwB,EACxE,YAA0B,EAAY,WAAwB,EAC9D,aAA4B,EAAY,oBAA0C,EAClF,YAA0B,EAAY,GAAW,EACjD,kBAAsC,EAAY,MAAc,EAChE,iBAAoC,EAAY,WAAwB;QALhE,kBAAa,GAAb,aAAa,CAAe;QAAY,gBAAW,GAAX,WAAW,CAAa;QACxE,iBAAY,GAAZ,YAAY,CAAc;QAAY,gBAAW,GAAX,WAAW,CAAa;QAC9D,kBAAa,GAAb,aAAa,CAAe;QAAY,yBAAoB,GAApB,oBAAoB,CAAsB;QAClF,iBAAY,GAAZ,YAAY,CAAc;QAAY,QAAG,GAAH,GAAG,CAAQ;QACjD,uBAAkB,GAAlB,kBAAkB,CAAoB;QAAY,WAAM,GAAN,MAAM,CAAQ;QAChE,sBAAiB,GAAjB,iBAAiB,CAAmB;QAAY,gBAAW,GAAX,WAAW,CAAa;QArB5E,iBAAY,GAAG,IAAI,4BAAY,EAAc,CAAC;QAWxD,cAAS,GAAG,8BAAS,CAAC;IAUoE,CAAC;IAE3F,QAAQ;QACJ,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,wCAAyB,EAAE,CAAC,OAAY,EAAE,EAAE;YAC1E,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAS,EAAE,CAAC;gBACxB,QAAQ,OAAO,CAAC,OAAO,EAAE;oBACrB,KAAK,eAAe;wBAChB,IAAI,OAAO,CAAC,YAAY,EAAE;4BACtB,MAAM,IAAI,CAAC,IAAI,EAAE,CAAC;4BAClB,IAAI,CAAC,iBAAiB,CAAC,aAAa,EAAE,CAAC;yBAC1C;wBACD,MAAM;iBACb;YACL,CAAC,EAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;IAED,WAAW;QACP,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,wCAAyB,CAAC,CAAC;QAC/D,IAAI,CAAC,OAAO,EAAE,CAAC;IACnB,CAAC;IAEK,IAAI;;YACN,IAAI,CAAC,OAAO,EAAE,CAAC;YAEf,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC3D,IAAI,CAAC,MAAM,GAAG,MAAM,MAAM,CAAC,OAAO,EAAE,CAAC;YACrC,IAAI,CAAC,gBAAgB,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC;YAElE,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,gCAAU,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI;gBAC/D,CAAC,MAAM,CAAC,mBAAmB,IAAI,IAAI,CAAC,gBAAgB,CAAC,EAAE;gBACvD,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;gBAC5B,MAAM,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBAC1E,MAAM,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;gBAE9B,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC,GAAS,EAAE,CAAC;oBACxC,MAAM,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;gBAClC,CAAC,GAAE,IAAI,CAAC,CAAC;aACZ;QACL,CAAC;KAAA;IAED,IAAI;QACA,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACxC,CAAC;IAED,cAAc;QACV,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,kBAAkB,CAAC,CAAC;QACzD,IAAI,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC;IAC3C,CAAC;IAED,cAAc;QACV,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,mBAAmB,CAAC,CAAC;QAC1D,IAAI,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC;IAC3C,CAAC;IAEK,aAAa;;YACf,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,KAAK,EAAE,EAAE;gBACtG,OAAO;aACV;YAED,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC;YACvD,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;YACzF,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,oBAAoB,CAAC;YAEhD,IAAI,OAAO,GAAG,CAAC,EAAE;gBACb,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,EAC/C,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,iBAAiB,EAAE,OAAO,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;aAClE;iBAAM;gBACH,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;aAC5F;QACL,CAAC;KAAA;IAED,gBAAgB,CAAC,KAAgB;QAC7B,MAAM,CAAC,GAAI,KAAa,CAAC;QACzB,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC;IAC/B,CAAC;IAED,MAAM,CAAC,GAAiB;QACpB,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE;YAChB,OAAO;SACV;QAED,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,oBAAoB,CAAC,CAAC;QAC3D,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjD,CAAC;IAED,IAAI,CAAC,KAAa,EAAE,WAAmB,EAAE,KAAa;QAClD,IAAI,KAAK,IAAI,IAAI,EAAE;YACf,OAAO;SACV;QAED,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,SAAS,GAAG,KAAK,CAAC,CAAC;QACxD,MAAM,WAAW,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;QACnE,IAAI,CAAC,oBAAoB,CAAC,eAAe,CAAC,KAAK,EAAE,WAAW,CAAC,CAAC;QAC9D,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,MAAM,EAAE,IAAI,EAC5C,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;IAC5E,CAAC;IAEK,kBAAkB,CAAC,UAA0B;;YAC/C,MAAM,CAAC,GAAI,UAAkB,CAAC;YAC9B,IAAI,CAAC,CAAC,WAAW,EAAE;gBACf,OAAO;aACV;YAED,IAAI,IAAI,CAAC,MAAM,CAAC,cAAc,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE;gBAC9D,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,iBAAiB,CAAC,EAC9E,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC;gBAC/C,OAAO;aACV;YAED,CAAC,CAAC,WAAW,GAAG,IAAI,CAAC;YACrB,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,IAAI,OAAO,CAAC,UAAU,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,UAAU,EAAE,CAAC,CAAC,CAAC;YACjF,IAAI,QAAQ,CAAC,MAAM,KAAK,GAAG,EAAE;gBACzB,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;gBACxF,CAAC,CAAC,WAAW,GAAG,KAAK,CAAC;gBACtB,OAAO;aACV;YAED,IAAI;gBACA,MAAM,GAAG,GAAG,MAAM,QAAQ,CAAC,WAAW,EAAE,CAAC;gBACzC,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;gBAC3E,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;gBACnE,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,UAAU,CAAC,QAAQ,CAAC,CAAC;aACnF;YAAC,OAAO,CAAC,EAAE;gBACR,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;aAC3F;YAED,CAAC,CAAC,WAAW,GAAG,KAAK,CAAC;QAC1B,CAAC;KAAA;IAEO,OAAO;QACX,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACnB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC1B,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,aAAa,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SACpC;IACL,CAAC;IAEa,cAAc;;YACxB,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,gCAAU,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,IAAI,IAAI,EAAE;gBAChG,IAAI,IAAI,CAAC,YAAY,EAAE;oBACnB,aAAa,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;iBACpC;gBACD,OAAO;aACV;YAED,IAAI,CAAC,QAAQ,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YACvE,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,EAAE;gBACvB,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC1B,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;oBAClD,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;iBACnG;qBAAM;oBACH,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,QAAQ,CAAC;iBAC1C;aACJ;iBAAM;gBACH,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;gBAC9B,IAAI,IAAI,CAAC,YAAY,EAAE;oBACnB,aAAa,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;iBACpC;aACJ;QACL,CAAC;KAAA;IAEa,QAAQ,CAAC,eAAuB;;YAC1C,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,MAAM,CAAC,CAAC;YACxD,MAAM,GAAG,GAAG,KAAK,GAAG,eAAe,CAAC;YAEpC,IAAI,CAAC,OAAO,GAAG,eAAe,GAAG,GAAG,CAAC;YACrC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,eAAe,CAAC,GAAG,GAAG,CAAC,GAAG,KAAK,CAAQ,CAAC,GAAG,KAAK,CAAC,CAAC;YACzF,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,IAAI,CAAC,CAAC;YACjC,IAAI,GAAG,KAAK,CAAC,EAAE;gBACX,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;aAC/B;QACL,CAAC;KAAA;CACJ;;;;;;;;;;;ACnO0C;AAKpB;AAIE;AAEuC;AACE;AACA;AACJ;AACkB;AAChB;AACF;AACA;AAEkB;AAEa;AAMtF,MAAM,kCAAc,SAAQ,4BAAiB;IAGhD,YAAY,aAA4B,EAAE,WAAwB,EAC9D,YAA0B,EAAE,WAAwB,EACpD,aAA4B,EAAE,oBAA0C,EACxE,YAA0B,EAAU,KAAqB,EACjD,MAAc,EAAU,QAAkB,EAClD,kBAAsC,EAAE,MAAc,EACtD,iBAAoC,EAAE,WAAwB;QAC9D,KAAK,CAAC,aAAa,EAAE,WAAW,EAAE,YAAY,EAAE,WAAW,EAAE,aAAa,EAAE,oBAAoB,EAC5F,YAAY,EAAE,MAAM,EAAE,kBAAkB,EAAE,MAAM,EAAE,iBAAiB,EAAE,WAAW,CAAC,CAAC;QALlD,UAAK,GAAL,KAAK,CAAgB;QACjD,WAAM,GAAN,MAAM,CAAQ;QAAU,aAAQ,GAAR,QAAQ,CAAU;QANtD,oBAAe,GAAG,IAAI,CAAC;IAWvB,CAAC;IAED,QAAQ;QACJ,IAAI,CAAC,eAAe,GAAG,CAAC,IAAI,CAAC,oBAAoB,CAAC,MAAM,EAAE,CAAC;QAC3D,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,CAAO,MAAM,EAAE,EAAE,CAAC;YAC/C,IAAI,MAAM,CAAC,QAAQ,EAAE;gBACjB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;aACnC;iBAAM;gBACH,IAAI,CAAC,KAAK,EAAE,CAAC;aAChB;YAED,MAAM,IAAI,CAAC,IAAI,EAAE,CAAC;QACtB,CAAC,EAAC,CAAC;QACH,KAAK,CAAC,QAAQ,EAAE,CAAC;IACrB,CAAC;IAED,IAAI;QACA,KAAK,CAAC,IAAI,EAAE,CAAC;QACb,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC,EAAE,EAAE,WAAW,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;IAC1F,CAAC;IAED,KAAK;QACD,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;IACzB,CAAC;CACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sECzCe,4IAAgF,sEAC5E,qHAAsB,0EAClB,uHAAwB,kFAAqB,IAAO,8FAExD,MAAM,iEACN,2HAA4B,0EACxB;;wBACiE;MAA9D;;wBAA6D;MADhE,wGACiE,GADxB,2BAAiC,IACT,yEAC7D,iIAAiC,KAAI,qEACzC,MAAI,iEACR,MAAM,6DACV,yDATgC,sJAAqB,GAAO,kEAExD,GAE6C,kLAAiC,GAA1E,aACiE,EADxB,SAAiC;sEAMlF,4IAAgF,sEAC5E,sHAAsB,0EAClB,uHAAwB,kFAAqB,IAAO,qEACpD,sIAAiD,mDAA+B,MAAO,qEACvF,uIAAkD,oDAAyB,MAAO,iEACtF,MAAM,iEACN,6HAA4B,0EACxB;;wBAEoF;MADzC;;wBAAyB;MADpE,gSAEoF,GAD5E,2BAAkC,IAC0C,yEAChF,kJAAwE,KAAI,yEAC5E,qJAA4E,KAAI,qEACpF,MAAS,qEACT;;wBAC8B;MAA3B;;wBAA0B;MAD7B,wGAC8B,GADW,2BAAqC,IAChD,yEAC1B,+WACuE,GAApE,0DAAmE,MAAK,qEAC/E,MAAI,qEACJ;;wBACiE;MAA9D;;wBAA6D;MADhE,wGACiE,GADxB,2BAAiC,IACT,yEAC7D,iIAAiC,KAAI,qEACzC,MAAI,iEACR,MAAM,6DACV,mDAdgB,mBAAqC,uBAF7C,aAEoF,EAA5E,SAAqC,GAMtC,2BAAgB,EAChB,sDAAmE,gBADtE,aACuE,EADpE,UAAgB,EAChB,UAAmE,mDAdlD,sJAAqB,GACvC,mBAAuB,eAA7B,YAAiD,EAA3C,SAAuB,GAAoB,wEAA+B,GAC1E,oBAAwB,eAA9B,aAAkD,EAA5C,SAAwB,GAAoB,mEAAyB,GAInE,mLAAkC,GACI,4CAAqC,WAFnF,aAEoF,EAD5E,SAAkC,EACI,SAAqC,GAC3C,4CAAmC,WAAvE,aAAwE,EAApC,SAAmC,GAChC,6CAAoC,WAA3E,aAA4E,EAArC,SAAoC,GAEtC,uLAAqC,GAA9E,aAC8B,EADW,UAAqC,GAKrC,mLAAiC,GAA1E,aACiE,EADxB,UAAiC;sEAMlF,2YAC2C,GADY,mCAA4B,MACxC,iEACvC,qHAAsB,0EAClB,uHAAwB,kFAAiC,IAAO,qEAChE,wHAAwB,oDAAqB,MAAO,iEACxD,MAAM,iEACN,8HAA6B,0EACzB,uHAAuB,oDAAW,MAAO,qEACzC,uGAAK,8EACD,oGAAG,kFACC,uXACuD,GAA/C,qDAA8C,MAAU,6EAChE,gLAAyD,KAAS,yEACtE,MAAI,qEACR,MAAM,iEACV,MAAO,iEACP,4HAA4B,0EACxB;;wBAC4D;MAAzD;;wBAAwD;MAD3D,wGAC4D,GADnB,2BAAyC,IACtB,yEACxD,iIAAiC,KAAI,qEACzC,MAAI,iEACR,MAAM,6DACV,mDAtBK,2DAAiD,EAAC,iCAA4B,WAAnF,YAC2C,EADtC,SAAiD,EAAC,SAA4B,GAW3D,kCAA8C,YADtD,aACuD,EAA/C,SAA8C,mDARtC,kKAAiC,GACjC,+DAAqB,GAGtB,qDAAW,GAUO,0LAAyC,GAAlF,aAC4D,EADnB,SAAyC;sEAtD9F,2FAA0B,kEACtB,yPAAgF,IAW1E,6DACN,yPAAgF,IAuB1E,6DACN,yPAC2C,IAqBrC,yDACV,mDA3DsD,mBAA6B,wBAA/E,YAAgF,EAA9B,SAA6B,GAY7B,mBAA6B,wBAA/E,YAAgF,EAA9B,SAA6B,GAyB1E,6CAAqC,YAD1C,YAC2C,EAAtC,SAAqC;sEAyB1C,sHAAgE,sEAC5D,uHAAwB,kFAA2B,IAAO,sFAE9D,yDAF4B,4JAA2B,GAAO,uEAE9D;sEACA,4IAA6E,sEACzE,qHAAsB,0EAClB,uHAAwB,kFAAmB,IAAO,8FAEtD,MAAM,iEACN,2HAA4B,0EACxB;;wBAC0D;MAAvD;;wBAAsD;MADzD,wGAC0D,GADjB,2BAA+B,IACd,yEACtD,iIAAiC,KAAI,qEACzC,MAAI,iEACR,MAAM,6DACV,yDATgC,oJAAmB,GAAO,+DAEtD,GAE6C,gLAA+B,GAAxE,aAC0D,EADjB,SAA+B;sEAMhF,sHAAuD,sEACnD,uHAAwB,kFAAkB,IAAO,sFAErD,yDAF4B,mJAAkB,GAAO,8DAErD;uEACA,sHAA4D,sEACxD,uHAAwB,kFAAuB,IAAO,sFAE1D,yDAF4B,wJAAuB,GAAO,mEAE1D;uEACA,4IAA2E,sEACvE,sHAAsB,0EAClB,uHAAwB,kFAAyB,IAAO,qEACxD,sIAAiD,mDAA0B,MAAO,qEAClF,uIAAkD,oDAAoB,MAAO,iEACjF,MAAM,iEACN,6HAA4B,0EACxB;;wBAC8B;MAA3B;;wBAA0B;MAD7B,wGAC8B,GADW,2BAAqC,IAChD,yEAC1B,+WACuE,GAApE,0DAAmE,MAAK,qEAC/E,MAAI,qEACJ;;wBACqE;MAAlE;;wBAAiE;MADpE,wGACqE,GAD5B,2BAAqC,IACT,yEACjE,iIAAiC,KAAI,qEACzC,MAAI,iEACR,MAAM,6DACV,mDARe,0BAAgB,EAChB,qDAAmE,gBADtE,aACuE,EADpE,SAAgB,EAChB,SAAmE,mDARlD,0JAAyB,GAC3C,mBAAuB,eAA7B,YAAiD,EAA3C,SAAuB,GAAoB,mEAA0B,GACrE,oBAAwB,eAA9B,aAAkD,EAA5C,SAAwB,GAAoB,8DAAoB,GAG7B,sLAAqC,GAA9E,aAC8B,EADW,SAAqC,GAKrC,sLAAqC,GAA9E,aACqE,EAD5B,SAAqC;sEArC1F,2FAAyB,kEACrB,yPAAgE,IAG1D,6DACN,yPAA6E,IAWvE,6DACN,yPAAuD,IAGjD,6DACN,2PAA4D,IAGtD,6DACN,2PAA2E,IAiBrE,yDACV,mDA1CiC,mBAAkC,6BAA/D,YAAgE,EAAnC,SAAkC,GAIb,mBAA0B,qBAA5E,YAA6E,EAA3B,SAA0B,GAY/C,mBAAyB,oBAAtD,YAAuD,EAA1B,SAAyB,GAIzB,mBAA8B,yBAA3D,aAA4D,EAA/B,SAA8B,GAIT,mBAAwB,mBAA1E,aAA2E,EAAzB,SAAwB;uEAqB1E,sHAA8D,sEAC1D,uHAAwB,kFAAyB,IAAO,sFAE5D,yDAF4B,0JAAyB,GAAO,qEAE5D;uEACA,sHAA8D,sEAC1D,uHAAwB,kFAAqB,IAAO,sFAExD,yDAF4B,sJAAqB,GAAO,qEAExD;uEACA,sHAA6D,sEACzD,uHAAwB,kFAAoB,IAAO,sFAEvD,yDAF4B,qJAAoB,GAAO,oEAEvD;uEACA,sHAAyD,sEACrD,uHAAwB,kFAAgB,IAAO,sFAEnD,yDAF4B,iJAAgB,GAAO,gEAEnD;uEACA,sHAAoE,sEAChE,uHAAwB,kFAA2B,IAAO,sFAE9D,yDAF4B,4JAA2B,GAAO,2EAE9D;uEACA,sHAAmE,sEAC/D,uHAAwB,kFAA0B,IAAO,sFAE7D,yDAF4B,2JAA0B,GAAO,0EAE7D;uEACA,sHAA2D,sEACvD,uHAAwB,kFAAkB,IAAO,sFAErD,yDAF4B,mJAAkB,GAAO,kEAErD;uEACA,sHAA2D,sEACvD,uHAAwB,kFAAkB,IAAO,sFAErD,yDAF4B,mJAAkB,GAAO,kEAErD;uEAII,0FAAsC,iLAA4B;uEAClE,0FAAsC,iLAA4B;uEAClE,0FAAsC,iLAA4B;uEAClE,0FAAyF,uaAIzF;uEACA,0FAAqC,gLAA2B;uEAXpE,uHACyF,sEACrF,uHAAwB,kFAAoB,IAAO,iEACnD,0PAAsC,IAAkC,iEACxE,2PAAsC,IAAkC,iEACxE,2PAAsC,IAAkC,iEACxE,2PAAyF,IAInF,iEACN,2PAAqC,IAAiC,6DAC1E,mDATS,mBAAgC,2BAArC,YAAsC,EAAjC,SAAgC,GAChC,mBAAgC,2BAArC,aAAsC,EAAjC,SAAgC,GAChC,mBAAgC,2BAArC,aAAsC,EAAjC,SAAgC,GAChC,+EAAmF,8BAAxF,aAAyF,EAApF,SAAmF,GAKnF,mBAA+B,0BAApC,aAAqC,EAAhC,SAA+B,2BATZ,qJAAoB;uEAnCpD,2FAA6B,kEACzB,0PAA8D,IAGxD,6DACN,0PAA8D,IAGxD,6DACN,0PAA6D,IAGvD,6DACN,2PAAyD,IAGnD,6DACN,2PAAoE,IAG9D,6DACN,2PAAmE,IAG7D,6DACN,2PAA2D,IAGrD,6DACN,2PAA2D,IAGrD,6DACN,2PACyF,IAWnF,yDACV,mDA7CiC,mBAAgC,2BAA7D,YAA8D,EAAjC,SAAgC,GAIhC,mBAAgC,2BAA7D,YAA8D,EAAjC,SAAgC,GAIhC,mBAA+B,0BAA5D,YAA6D,EAAhC,SAA+B,GAI/B,mBAA2B,sBAAxD,aAAyD,EAA5B,SAA2B,GAI3B,mBAAsC,iCAAnE,aAAoE,EAAvC,SAAsC,GAItC,mBAAqC,gCAAlE,aAAmE,EAAtC,SAAqC,GAIrC,mBAA6B,wBAA1D,aAA2D,EAA9B,SAA6B,GAI7B,mBAA6B,wBAA1D,aAA2D,EAA9B,SAA6B,GAKrD,kFAAmF,2BADxF,aACyF,EAApF,SAAmF;uEAmBpF,iHAA6C,yQAAgB;uEAC7D,iHAA4C,6QAAoB;uEAIhE;;wBAC2C;MAApB;;wBAAmB;MAD1C,uGAC2C,GADF,0BAA2B,IACzB,qEACvC,qIAAsC,KAAI,iEAC9C,iCAHyC,iLAA2B,GAApE,YAC2C,EADF,SAA2B;uEAP5E,4IAAqG,kEACjG,sHAAsB,sEAClB,0PAA6C,IAAuB,iEACpE,0PAA4C,IAA2B,iEACvE,+GAAwB,oDAAmB,MAAO,6DACtD,MAAM,6DACN,6HAA4B,sEACxB,2PAC2C,IAEvC,iEACJ;;wBACiE;MAA9D;;wBAA6D;MADhE,wGACiE,GADxB,2BAA4B,IACJ,qEAC7D,iIAAiC,KAAI,iEACzC,MAAI,6DACR,MAAM,yDACV,2BAdgC,mBAAoB,8BAA5C,YAA6C,EAArB,SAAoB,GACpB,kBAAmB,8BAA3C,YAA4C,EAApB,SAAmB,GAKxC,kBAAmB,8BADtB,aAC2C,EAAxC,SAAmB,2BAJhB,uFAAiB,GAAvB,aAAwB,EAAlB,SAAiB,GAAC,4EAAmB,GAOF,6KAA4B,GAArE,aACiE,EADxB,SAA4B;uEAbrF,0GAA8D,0DAC1D,wHAAyB,8DACrB,qSAAqG,IAgB/F,qDACV,MAAM,iDACV,mDAlB0D,mBAAkD,oBAApG,YAAqG,EAAnD,SAAkD;uEAmB5G,2GAAsC,0DAClC,uHAAwB,0GAExB,IAAM,qDACN,wHAAyB,8DACrB,gIAAiC,mDAAgB,MAAM,qDAC3D,MAAM,iDACV,yDAN4B,4IAExB,GAEqC,yDAAgB;uEAWzC,0FAA2C,4NAE3C;uEACA,0FAA6C,0EACzC,sIAAqD,mDAAe,MAAO,qEAC3E,sIAAoD,mDAAqB,MAAO,iEACpF,iCAFU,mBAA2B,qCAAjC,YAAqD,EAA/C,SAA2B,GAAoB,0EAAe,GAC9D,kBAA0B,qCAAhC,YAAoD,EAA9C,SAA0B,GAAoB,gFAAqB;uEAGzE,yHAA+D;uEAC/D,mHAAyD;uEAF7D,0FAA8C,0EAC1C,0PAA+D,IAAI,qEACnE,0PAAyD,IAAI,iEACjE,2BAFoC,6DAA8B,GAA9D,YAA+D,EAA/B,SAA8B,GACpC,6DAA8B,GAAxD,YAAyD,EAA/B,SAA8B;uEAI5D;;wBAC6E;MAAlC;;wBAAiC;MAD5E,uGAC6E,GADpC,0BAAqC,IACD,qEACzE,6WAC6E,GAA1E,yDAAyE,MAAK,iEACrF,2BAFO,0BAAgB,EAChB,wEAAyE,sCAD5E,YAC6E,EAD1E,SAAgB,EAChB,SAAyE,2BAHvC,2LAAqC,GAA9E,YAC6E,EADpC,SAAqC;uEAK9E;;wBAEiD;MAA9C;;wBAA6C;MAFhD,uGAEiD,GAFR,0BAA8B,IAEtB,qEAC7C,gIAAiC,KAAI,iEACzC,iCAJyC,oLAA8B,GAAvE,YAEiD,EAFR,SAA8B;uEArB/E,4IAAsF,kEAClF,sHAAsB,sEAClB,uHAAwB,mDAAc,MAAO,iEAC7C,0PAA2C,IAErC,iEACN,2PAA6C,IAGvC,iEACN,2PAA8C,IAGxC,6DACV,MAAM,6DACN,4HAA4B,sEACxB,2PAC6E,IAGzE,iEACJ,2PAEiD,IAE7C,6DACR,MAAM,yDACV,mDAxBa,kDAAqC,kBAA1C,YAA2C,EAAtC,SAAqC,GAGrC,kDAAuC,oBAA5C,aAA6C,EAAxC,SAAuC,GAIvC,kDAAwC,qBAA7C,aAA8C,EAAzC,SAAwC,GAO1C,kDAAuC,oBAD1C,aAC6E,EAA1E,SAAuC,GAKvC,iFAAuD,sBAD1D,aAEiD,EAD9C,SAAuD,2BApBlC,kEAAc;uEAPtD,2GAA0C,0DACtC,uHAAwB,0GAExB,IAAM,qDACN,wHAAyB,8DACrB,qSAAsF,IA2BhF,qDACV,MAAM,iDACV,mDA7B0D,mBAAmC,gBAArF,YAAsF,EAApC,SAAmC,2BAJjE,mJAExB;uEA0CQ,sIAA6E;uEAC7E,6IAAmF;uEANvF;;wBAE+E;MAAzC;;wBAAwC;MAF9E,uGAE+E,iEAC3E,sHAAuB,mDAAuB,MAAO,6DACrD,4HAA6B,mDAAuB,MAAQ,6DAC5D,2PAA6E,IAAI,6DACjF,2PAAmF,IAAI,yDAC3F,2BAFiD,mBAA+B,gCAA5E,aAA6E,EAAhC,SAA+B,GACxB,kBAA8B,gCAAlF,aAAmF,EAA/B,SAA8B,2BAH3D,sEAAuB,GACjB,sEAAuB;uEAThE,2GAAsF,0DAClF,uHAAwB,0GAExB,IAAM,qDACN,wHAAyB,8DACrB,qSAE+E,IAK3E,qDACR,MAAM,iDACV,mDARW,mBAA6C,qBADhD,YAE+E,EAD5E,SAA6C,2BAL5B,kJAExB;uEAkBI,0FAAgD,kEAC5C,+HAAgC,mFAAiC,IAAI,6GAEzE,uDAFoC,0JAAiC,GAAI,qLAEzE;uEACA,2FAAuC,kEACnC,+HAAgC,mFAA6B,IAAI,8DACjE;;;;;;8SACqD,GADZ,sCAAqC,KAA9E,2EACqD,GAArC,2BAAoC,IAAC,uFAErD,MAAI,yDACR,mDAJ6C,iCAAqC,aAA3E,0CAAqC,EAAxC,YACqD,EADZ,SAAqC,EAA3E,SAAqC,mDADR,sJAA6B,GAE7C,6KAAoC,GADpD,oHACqD,EAArC,SAAoC,EADpD,oBACqD,8EAErD;sEArQhB,+FAAwB,sDACpB,iHAAiB,0DACb,uHAAwB,0GAExB,IAAM,qDACN,yHAAyB,8DACrB,6HAA6B,kEACzB,wHAAwB,oFAAiB,IAAO,+EAEpD,MAAM,yDACN,MAAc,yDACd,0PAA0B,IA4DpB,yDACN,MAAa,yDACb,0PAAyB,IA2CnB,yDACN,MAAiB,yDACjB,2PAA6B,IA8CvB,qDACV,MAAM,iDACV,MAAM,iDACN,2PAA8D,IAoBxD,iDACN,2PAAsC,IAOhC,iDACN,2PAA0C,IAkCpC,iDACN,2PAAsF,IAchF,iDACN,kHAAiB,0DACb,yHAAwB,8DACpB,iGAAK,kEACD,gIAAgC,qFAAyB,IAAI,+GAEjE,IAAM,yDACN,2PAAgD,IAG1C,yDACN,2PAAuC,IAMjC,qDACV,MAAM,iDACV,MAAM,6CACV,mDA9PiB,mBAAoB,eAAzB,aAA0B,EAArB,SAAoB,GA8DpB,mBAAmB,cAAxB,aAAyB,EAApB,SAAmB,GA6CnB,mBAAuB,kBAA5B,aAA6B,EAAxB,SAAuB,GAiDnB,wCAA4C,wBAA7D,aAA8D,EAA7C,SAA4C,GAqB5C,mBAAoB,eAArC,aAAsC,EAArB,SAAoB,GAQpB,mBAAwB,mBAAzC,aAA0C,EAAzB,SAAwB,GAmCxB,2EAAoE,mBAArF,aAAsF,EAArE,SAAoE,GAqBxE,oBAA0C,qCAA/C,aAAgD,EAA3C,UAA0C,GAI1C,oBAAiC,4BAAtC,aAAuC,EAAlC,UAAiC,mDA9PlB,+IAExB,GAGgC,uIAAiB,GAAO,yDAEpD,GAgPoC,gJAAyB,GAAI,oKAEjE;4MAtQZ,8FAAQ,sDACJ,iHAAkB,0DACd;;wBAAqD;MAAlB;;wBAAiB;MAApD,iIAAqD,iFAAkB,IAAS,iDACpF,MAAM,iDACN,oHAAoB,0DAChB,oHAAoB,oFAAqB,IAAO,iDACpD,MAAM,iDACN,mHAAmB,0DACf;;wBAAoD;MAAjB;;wBAAgB;MAAnD,kIAAoD,mFAAiB,IAAS,iDAClF,MAAM,6CACV,MAAS,6CACT,0PAAwB,IAyQd,6CACV,mDA1QS,mBAAc,SAAvB,aAAwB,EAAf,SAAc,2BATsC,8HAAkB,GAGnD,oIAAqB,GAGW,gIAAiB;;;;;;;;;;;;;;ACAtE,MAAM,mDAAwB;IAIjC,YAAsB,aAA4B,EAAY,oBAA0C,EAC1F,WAAwB,EAAU,GAAW;QADrC,kBAAa,GAAb,aAAa,CAAe;QAAY,yBAAoB,GAApB,oBAAoB,CAAsB;QAC1F,gBAAW,GAAX,WAAW,CAAa;QAAU,QAAG,GAAH,GAAG,CAAQ;QAH3D,YAAO,GAA0B,EAAE,CAAC;IAG2B,CAAC;IAE1D,QAAQ;;YACV,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC3D,MAAM,SAAS,GAAG,MAAM,MAAM,CAAC,OAAO,EAAE,CAAC;YACzC,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC,eAAe,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,eAAe,CAAC;QACtF,CAAC;KAAA;IAED,IAAI,CAAC,QAAgB;QACjB,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,yBAAyB,CAAC,CAAC;QAChE,MAAM,WAAW,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;QACnE,IAAI,CAAC,oBAAoB,CAAC,eAAe,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;QACjE,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,MAAM,EAAE,IAAI,EAC5C,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC3E,CAAC;CACJ;;;;;;;;;;;AC5B0C;AAEM;AAEiB;AACJ;AACkB;AAInB;AAMtD,MAAM,yDAAyB,SAAQ,mDAA4B;IACtE,YAAY,aAA4B,EAAE,oBAA0C,EAChF,WAAwB,EAAU,QAAkB,EAC5C,KAAqB;QAC7B,KAAK,CAAC,aAAa,EAAE,oBAAoB,EAAE,WAAW,EAAE,MAAM,CAAC,CAAC;QAF9B,aAAQ,GAAR,QAAQ,CAAU;QAC5C,UAAK,GAAL,KAAK,CAAgB;IAEjC,CAAC;IAEK,QAAQ;;;YACV,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,CAAO,MAAM,EAAE,EAAE,CAAC;gBAC/C,IAAI,MAAM,CAAC,QAAQ,EAAE;oBACjB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;iBACnC;qBAAM;oBACH,IAAI,CAAC,KAAK,EAAE,CAAC;iBAChB;gBAED,MAAM,kBAAc,WAAE,CAAC;YAC3B,CAAC,EAAC,CAAC;QACP,CAAC;KAAA;IAED,KAAK;QACD,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;IACzB,CAAC;CACJ;;;;;;;;;;;;;;;;;;;;;;iFC1BW,4IAA4E,kEACxE,sHAAsB,sEAClB,6HAA8B,0EAC1B,yIAA0C,2GAE1C,MAAO,qEACP,oHAAqB,oFAAkC,IAAO,iEAClE,MAAM,6DACV,MAAM,6DACN,4HAA4B,sEACxB;;wBAC8B;MAA3B;;wBAA0B;MAD7B,wGAC8B,GADW,2BAAiC,IAC5C,qEAC1B,iIAAiC,KAAI,iEACzC,MAAI,6DACR,MAAM,yDACV,iCAZsD,sEAE1C,GACqB,mLAAkC,GAIlB,2KAAiC,GAA1E,aAC8B,EADW,SAAiC;iFAZ1F,yHAAkE,0DAC9D,wHAAyB,8DACrB,+SAA4E,IAetE,qDACV,MAAM,iDACV,mDAjB0D,mBAAyB,UAA3E,YAA4E,EAA1B,SAAyB;iFAkBnF,+GAA0D,0DACtD,8FAAG,kFAA8B,IAAI,iDACzC,iCADO,iJAA8B;uNA/BzC,8FAAQ,sDACJ,iHAAkB,0DACd;;wBAAqD;MAAlB;;wBAAiB;MAApD,iIAAqD,iFAAkB,IAAS,iDACpF,MAAM,iDACN,oHAAoB,0DAChB,oHAAoB,oFAA4B,IAAO,iDAC3D,MAAM,iDACN,mHAAmB,KAAM,6CAC7B,MAAS,6CACT,qGAAS,sDACL,qQAAkE,IAmB5D,iDACN,qQAA0D,IAEpD,6CACV,MAAU,6CACV,mDAxBoC,mCAAiC,kBAAjE,aAAkE,EAAlC,SAAiC,GAoB3C,qCAAmC,kBAAzD,aAA0D,EAApC,SAAmC,2BA5BA,8HAAkB,GAGnD,2IAA4B;;;;;;ACEjC;AAKC;AAExB,iEAAiE;AAW1D;IAIH,YAAoB,UAAsB,EAAU,QAAmB;QAAnD,eAAU,GAAV,UAAU,CAAY;QAAU,aAAQ,GAAR,QAAQ,CAAW;QAH9D,cAAS,GAAG,IAAI,CAAC;QACjB,eAAU,GAAG,KAAK,CAAC;QAyBpB,oBAAe,GAAG,CAAC,CAAM,EAAE,EAAE,GAAiB,CAAC,CAAC;IAvBmB,CAAC;IAG5E,YAAY,CAAC,EAAO;QAChB,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IAC/E,CAAC;IAED,UAAU,CAAC,GAAQ;QACf,IAAI,GAAG,KAAK,IAAI,CAAC,SAAS,EAAE;YACxB,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;SAC7E;aAAM;YACH,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;SAC9E;IACL,CAAC;IAED,gBAAgB,CAAC,EAAO;QACpB,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;IAC9B,CAAC;IAED,iBAAiB,CAAC,EAAO,IAAwB,CAAC;IAElD,gBAAgB,CAAE,UAAmB,IAAwB,CAAC;CAGjE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjDsB;AAE6B;AACF;AACU;AACJ;AAWF;AACI;AACF;AAEM;AACA;AACN;AACU;AAE3D,MAAM,mCAAgB;IA6BzB,YAAsB,aAA4B,EAAY,aAA4B,EAC5E,WAAwB,EAAY,oBAA0C,EAC9E,YAA0B,EAAY,YAA0B;QAFxD,kBAAa,GAAb,aAAa,CAAe;QAAY,kBAAa,GAAb,aAAa,CAAe;QAC5E,gBAAW,GAAX,WAAW,CAAa;QAAY,yBAAoB,GAApB,oBAAoB,CAAsB;QAC9E,iBAAY,GAAZ,YAAY,CAAc;QAAY,iBAAY,GAAZ,YAAY,CAAc;QA9BrE,aAAQ,GAAW,IAAI,CAAC;QAGvB,kBAAa,GAAG,IAAI,4BAAY,EAAc,CAAC;QAC/C,oBAAe,GAAG,IAAI,4BAAY,EAAc,CAAC;QACjD,gBAAW,GAAG,IAAI,4BAAY,EAAc,CAAC;QAC7C,sBAAiB,GAAG,IAAI,4BAAY,EAAc,CAAC;QACnD,uBAAkB,GAAG,IAAI,4BAAY,EAAE,CAAC;QAElD,aAAQ,GAAY,KAAK,CAAC;QAO1B,iBAAY,GAAY,KAAK,CAAC;QAC9B,iBAAY,GAAY,KAAK,CAAC;QAC9B,eAAU,GAAG,gCAAU,CAAC;QACxB,cAAS,GAAG,8BAAS,CAAC;QACtB,iBAAY,GAAc,8BAAS,CAAC,IAAI,CAAC;QAWrC,IAAI,CAAC,WAAW,GAAG;YACf,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,WAAW,CAAC,EAAE,KAAK,EAAE,gCAAU,CAAC,KAAK,EAAE;YAC7D,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC,EAAE,KAAK,EAAE,gCAAU,CAAC,IAAI,EAAE;YAC3D,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,cAAc,CAAC,EAAE,KAAK,EAAE,gCAAU,CAAC,QAAQ,EAAE;YACnE,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,gBAAgB,CAAC,EAAE,KAAK,EAAE,gCAAU,CAAC,UAAU,EAAE;SAC1E,CAAC;QACF,IAAI,CAAC,gBAAgB,GAAG;YACpB,EAAE,IAAI,EAAE,KAAK,GAAG,WAAW,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE;YAC9D,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE;YAC/B,EAAE,IAAI,EAAE,YAAY,EAAE,KAAK,EAAE,YAAY,EAAE;YAC3C,EAAE,IAAI,EAAE,kBAAkB,EAAE,KAAK,EAAE,MAAM,EAAE;YAC3C,EAAE,IAAI,EAAE,UAAU,EAAE,KAAK,EAAE,UAAU,EAAE;YACvC,EAAE,IAAI,EAAE,aAAa,EAAE,KAAK,EAAE,aAAa,EAAE;YAC7C,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE;YAC7B,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE;YACrC,EAAE,IAAI,EAAE,UAAU,EAAE,KAAK,EAAE,UAAU,EAAE;YACvC,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE;SACnD,CAAC;QACF,IAAI,CAAC,mBAAmB,GAAG;YACvB,EAAE,IAAI,EAAE,KAAK,GAAG,WAAW,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE;YAC9D,EAAE,IAAI,EAAE,OAAO,GAAG,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE;YACxD,EAAE,IAAI,EAAE,OAAO,GAAG,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE;YACzD,EAAE,IAAI,EAAE,OAAO,GAAG,WAAW,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE;YACtD,EAAE,IAAI,EAAE,OAAO,GAAG,WAAW,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE;YACtD,EAAE,IAAI,EAAE,OAAO,GAAG,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE;YACpD,EAAE,IAAI,EAAE,OAAO,GAAG,WAAW,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE;YACrD,EAAE,IAAI,EAAE,OAAO,GAAG,WAAW,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE;YACrD,EAAE,IAAI,EAAE,OAAO,GAAG,WAAW,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE;YACvD,EAAE,IAAI,EAAE,OAAO,GAAG,WAAW,CAAC,CAAC,CAAC,WAAW,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE;YAC1D,EAAE,IAAI,EAAE,OAAO,GAAG,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE;YACzD,EAAE,IAAI,EAAE,OAAO,GAAG,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE;YAC1D,EAAE,IAAI,EAAE,OAAO,GAAG,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE;SAC7D,CAAC;QACF,IAAI,CAAC,oBAAoB,GAAG;YACxB,EAAE,IAAI,EAAE,KAAK,GAAG,WAAW,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE;YAC9D,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE;YACzD,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,KAAK,EAAE,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE;YAC3D,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE;YACzD,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE;SAC5D,CAAC;QACF,IAAI,CAAC,mBAAmB,GAAG;YACvB,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,KAAK,EAAE,8BAAS,CAAC,IAAI,EAAE;YAC5D,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,cAAc,CAAC,EAAE,KAAK,EAAE,8BAAS,CAAC,MAAM,EAAE;YAChE,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,EAAE,KAAK,EAAE,8BAAS,CAAC,OAAO,EAAE;SACrE,CAAC;QACF,IAAI,CAAC,eAAe,GAAG;YACnB,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,uBAAuB,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE;YAC7D,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,KAAK,EAAE,oCAAY,CAAC,MAAM,EAAE;YACjE,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,oCAAY,CAAC,IAAI,EAAE;YACzD,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,KAAK,EAAE,oCAAY,CAAC,UAAU,EAAE;YACrE,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,oCAAY,CAAC,iBAAiB,EAAE;YACvE,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,oCAAY,CAAC,KAAK,EAAE;YAC3D,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,oCAAY,CAAC,KAAK,EAAE;SAC9D,CAAC;IACN,CAAC;IAEK,IAAI;;YACN,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC;YACtC,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACrB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;aAC/C;iBAAM;gBACH,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;aAC9C;YAED,IAAI,CAAC,MAAM,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,GAAG,CAAa,eAAe,CAAC,CAAC;YACvE,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;YAChD,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,EAAE;gBACrB,IAAI,IAAI,CAAC,QAAQ,EAAE;oBACf,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,UAAU,EAAE,CAAC;oBACvC,IAAI,CAAC,MAAM,GAAG,MAAM,MAAM,CAAC,OAAO,EAAE,CAAC;iBACxC;qBAAM;oBACH,IAAI,CAAC,MAAM,GAAG,IAAI,gCAAU,EAAE,CAAC;oBAC/B,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;oBACrC,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC,gCAAU,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;oBACpE,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,8BAAS,EAAE,CAAC;oBACpC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,IAAI,oCAAY,EAAE,CAAC,CAAC;oBAC9C,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,4BAAQ,EAAE,CAAC;oBAClC,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,IAAI,oCAAY,EAAE,CAAC;oBAC1C,IAAI,CAAC,MAAM,CAAC,UAAU,GAAG,IAAI,wCAAc,EAAE,CAAC;oBAC9C,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,GAAG,wCAAc,CAAC,OAAO,CAAC;iBACxD;aACJ;YAED,IAAI,CAAC,OAAO,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,eAAe,EAAE,CAAC;QAC9D,CAAC;KAAA;IAEK,MAAM;;YACR,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,EAAE,EAAE;gBACrD,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,EAC5E,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;gBACxC,OAAO,KAAK,CAAC;aAChB;YAED,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,gCAAU,CAAC,KAAK;gBACvD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC;gBACrE,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,EAAE,CAAC,EAAE;gBACjF,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;aACjC;YAED,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,aAAa,EAAE,CAAC;YAC1C,IAAI;gBACA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;gBAC3C,MAAM,IAAI,CAAC,WAAW,CAAC;gBACvB,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,MAAM,CAAC,EAAE,CAAC;gBAC3B,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC;gBACvF,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,EAC/C,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACpE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBACrC,OAAO,IAAI,CAAC;aACf;YAAC,WAAM,GAAG;YAEX,OAAO,KAAK,CAAC;QACjB,CAAC;KAAA;IAED,MAAM;QACF,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,gCAAU,CAAC,KAAK,EAAE;YACvC,OAAO;SACV;QAED,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,IAAI,IAAI,EAAE;YAChC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,GAAG,EAAE,CAAC;SAC/B;QAED,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,oCAAY,EAAE,CAAC,CAAC;IACpD,CAAC;IAED,SAAS,CAAC,GAAiB;QACvB,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,gCAAU,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,IAAI,IAAI,EAAE;YACzE,OAAO;SACV;QAED,MAAM,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAC9C,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;YACR,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SACvC;IACL,CAAC;IAED,QAAQ;QACJ,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,IAAI,IAAI,EAAE;YAC5B,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,EAAE,CAAC;SAC3B;QAED,MAAM,CAAC,GAAG,IAAI,8BAAS,EAAE,CAAC;QAC1B,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC;QAC3B,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAC/B,CAAC;IAED,WAAW,CAAC,KAAgB;QACxB,MAAM,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAC5C,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;YACR,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SACnC;IACL,CAAC;IAED,MAAM;QACF,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACvC,CAAC;IAED,WAAW;QACP,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC7C,CAAC;IAEK,MAAM;;YACR,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,oBAAoB,CAAC,UAAU,CACxD,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,wBAAwB,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,YAAY,CAAC,EAC9E,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,SAAS,CAAC,CAAC;YACpE,IAAI,CAAC,SAAS,EAAE;gBACZ,OAAO,KAAK,CAAC;aAChB;YAED,IAAI;gBACA,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;gBACzC,MAAM,IAAI,CAAC,aAAa,CAAC;gBACzB,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC;gBACvD,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;gBACxF,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aAC1C;YAAC,WAAM,GAAG;YAEX,OAAO,IAAI,CAAC;QAChB,CAAC;KAAA;IAEK,gBAAgB;;YAClB,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,EAAE;gBACtG,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,oBAAoB,CAAC,UAAU,CACxD,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,+BAA+B,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,mBAAmB,CAAC,EAC5F,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;gBACzD,IAAI,CAAC,SAAS,EAAE;oBACZ,OAAO,KAAK,CAAC;iBAChB;aACJ;YAED,IAAI,CAAC,kBAAkB,CAAC,IAAI,EAAE,CAAC;YAC/B,OAAO,IAAI,CAAC;QAChB,CAAC;KAAA;IAED,cAAc;QACV,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,0BAA0B,CAAC,CAAC;QACjE,IAAI,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC;QACvC,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,KAAK,EAAE,CAAC;IACrD,CAAC;IAED,cAAc;QACV,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,0BAA0B,CAAC,CAAC;QACjE,IAAI,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC;QACvC,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,KAAK,EAAE,CAAC;IAChD,CAAC;IAED,gBAAgB,CAAC,KAAgB;QAC7B,MAAM,CAAC,GAAI,KAAa,CAAC;QACzB,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC;IAC/B,CAAC;IAED,gBAAgB,CAAC,GAAiB;QAC9B,MAAM,CAAC,GAAI,GAAW,CAAC;QACvB,CAAC,CAAC,WAAW,GAAG,CAAC,CAAC,WAAW,IAAI,IAAI,IAAI,GAAG,CAAC,KAAK,IAAI,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC;IACxF,CAAC;IAED,oBAAoB,CAAC,GAAiB;QAClC,MAAM,CAAC,GAAI,GAAW,CAAC;QACvB,CAAC,CAAC,WAAW,GAAG,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC;IACjE,CAAC;IAEK,aAAa;;YACf,IAAI,IAAI,CAAC,oBAAoB,IAAI,IAAI,EAAE;gBACnC,OAAO;aACV;YAED,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,KAAK,EAAE,EAAE;gBACtG,OAAO;aACV;YAED,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC;YACvD,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;YACzF,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,oBAAoB,CAAC;YAChD,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;YAEjC,IAAI,OAAO,GAAG,CAAC,EAAE;gBACb,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,EAC/C,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,iBAAiB,EAAE,OAAO,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;aAClE;iBAAM;gBACH,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;aAC5F;QACL,CAAC;KAAA;IAES,UAAU;QAChB,OAAO,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACjD,CAAC;IAES,aAAa;QACnB,OAAO,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACnD,CAAC;IAES,UAAU,CAAC,MAAc;QAC/B,OAAO,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;IACrD,CAAC;IAES,YAAY;QAClB,OAAO,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;IAC/D,CAAC;CACJ;;;;;;;;;;;ACjU0C;AAIpB;AAIE;AAEuC;AACE;AACA;AACJ;AACkB;AAChB;AAEuC;AAMhG,MAAM,yCAAiB,SAAQ,mCAAoB;IAGtD,YAAY,aAA4B,EAAE,aAA4B,EAClE,WAAwB,EAAE,oBAA0C,EACpE,YAA0B,EAAE,YAA0B,EAC9C,KAAqB,EAAU,MAAc,EAC7C,QAAkB;QAC1B,KAAK,CAAC,aAAa,EAAE,aAAa,EAAE,WAAW,EAAE,oBAAoB,EAAE,YAAY,EAAE,YAAY,CAAC,CAAC;QAF3F,UAAK,GAAL,KAAK,CAAgB;QAAU,WAAM,GAAN,MAAM,CAAQ;QAC7C,aAAQ,GAAR,QAAQ,CAAU;QAN9B,oBAAe,GAAG,IAAI,CAAC;IAQvB,CAAC;IAED,QAAQ;QACJ,IAAI,CAAC,eAAe,GAAG,CAAC,IAAI,CAAC,oBAAoB,CAAC,MAAM,EAAE,CAAC;QAC3D,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,CAAO,MAAM,EAAE,EAAE,CAAC;YAC/C,IAAI,MAAM,CAAC,QAAQ,EAAE;gBACjB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;aACnC;YACD,IAAI,MAAM,CAAC,QAAQ,EAAE;gBACjB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;aACnC;YACD,IAAI,MAAM,CAAC,IAAI,EAAE;gBACb,MAAM,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gBACzC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;aACpB;YACD,IAAI,CAAC,QAAQ,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC;YACjC,MAAM,IAAI,CAAC,IAAI,EAAE,CAAC;YAElB,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;gBAChB,IAAI,MAAM,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,EAAE,CAAC,EAAE;oBACtE,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;iBAClC;gBACD,IAAI,MAAM,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,EAAE,CAAC,EAAE;oBAC/F,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC;iBAC9C;aACJ;QACL,CAAC,EAAC,CAAC;QAEH,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE;YACnB,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;gBAChB,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,EAAE,EAAE;oBACrD,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,KAAK,EAAE,CAAC;iBACpD;qBAAM;oBACH,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,CAAC;iBAC3C;aACJ;QACL,CAAC,EAAE,GAAG,CAAC,CAAC;IACZ,CAAC;IAEK,MAAM;;;YACR,IAAI,MAAM,gBAAY,WAAE,EAAE;gBACtB,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;gBACrB,OAAO,IAAI,CAAC;aACf;YAED,OAAO,KAAK,CAAC;QACjB,CAAC;KAAA;IAED,WAAW;QACP,KAAK,CAAC,WAAW,EAAE,CAAC;QACpB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC,EAAE,EAAE,WAAW,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;IAC1F,CAAC;IAED,MAAM;QACF,KAAK,CAAC,MAAM,EAAE,CAAC;QACf,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;IACzB,CAAC;IAEK,gBAAgB;;;YAClB,MAAM,SAAS,GAAG,MAAM,0BAAsB,WAAE,CAAC;YACjD,IAAI,SAAS,EAAE;gBACX,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;gBACrD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;aACvC;YACD,OAAO,SAAS,CAAC;QACrB,CAAC;KAAA;IAEK,MAAM;;;YACR,MAAM,SAAS,GAAG,MAAM,gBAAY,WAAE,CAAC;YACvC,IAAI,SAAS,EAAE;gBACX,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;aACzC;YACD,OAAO,SAAS,CAAC;QACrB,CAAC;KAAA;CACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;yEClFuB,8gBAA0D,kDAAU,2BAA9B,kBAAmB,0BAAzD,YAA0D,EAApB,8BAAmB,0BAAzD,YAA0D,EAApB,SAAmB,2BAAC,kEAAU;yEAH5E;;;oIAAyD,qEACrD,iHAAkB,kFAAiB,IAAQ,iEAC3C;;;;;wBAAwD;MAA1B;;wBAAyB;MAAvD,g2BAAwD,yEACpD,wSAA0D,IAAmB,iEACjF,MAAS,6DACb,mDALA,YAAyD,GAEnC,sBAAW,EAAC,mBAAyB,cAAvD,aAAwD,EAAtC,SAAW,EAAC,SAAyB,GAC3C,oBAA6B,cAArC,aAA0D,EAAlD,UAA6B,2BAFvB,2IAAiB,GACnC,0gBAAwD;yEAS5D,2FAA8C,sEAC1C;;;oIAAuC,yEACnC,0HAA2B,kFAAqB,IAAQ,qEACxD;;;;;;;;;;;wBAC8E;MAAvE;;wBAAmC;MAD1C,2jCAC8E,qEAClF,MAAM,iEACN;;;qIAA4D,yEACxD,uHAAsB,8EAClB,2HAA2B,oFAAqB,IAAQ,yEACxD;;;;;;;;;;;wBAE4D;MAArD;;wBAAmC;MAF1C,2jCAE4D,yEAChE,MAAM,qEACN,6HAA4B,8EACxB;;wBAEoF;MADzC;;wBAAyB;MADpE,gSAEoF,GAD5E,2BAAkC,IAC0C,6EAChF,kJAAwE,KAAI,6EAC5E,qJAA4E,KAAI,yEACpF,MAAS,yEACT;;;;;wBACoE;MAA3B;;wBAA0B;MADnE,iNACoE,GAAjE,2BAAqC,IAA4B,6EAChE,+WACuE,GAApE,0DAAmE,MAAK,yEAC/E,MAAI,yEACJ;;;;;wBACsE;MAA7B;;wBAA4B;MADrE,iNACsE,GAAnE,2BAAqC,IAA8B,6EAClE,+HAA+B,KAAI,yEACvC,MAAI,qEACR,MAAM,iEACV,MAAM,iEACN;;;qIAAuC,yEACnC,uHAAuB,oFAAiC,IAAQ,qEAChE;;;;;;;;;;;wBACwD;MAAjD;;wBAA+B;MADtC,2jCACwD,qEAC5D,MAAM,6DACV,mDAnCI,YAAuC,GAEG,gCAAqB,EACpD,mBAAmC,wBAD1C,aAC8E,EADxC,SAAqB,EACpD,SAAmC,GAAmB,mBAAgB,EAD7E,aAC8E,EAAjB,UAAgB,GAEjF,aAA4D,GAIC,iCAAqB,EACnE,oBAAmC,wBAF1C,aAE4D,EADP,UAAqB,EACnE,UAAmC,GAAC,mBAAgB,EAF3D,aAE4D,EAAjB,UAAgB,GAKnD,oBAAqC,uBAF7C,aAEoF,EAA5E,UAAqC,GAMtC,2BAAgB,EAChB,sDAAmE,gBADtE,aACuE,EADpE,UAAgB,EAChB,UAAmE,GAQlF,aAAuC,GAED,6BAAiB,EAC5C,oBAA+B,oBADtC,aACwD,EADtB,UAAiB,EAC5C,UAA+B,GAAC,mBAAgB,EADvD,aACwD,EAAjB,UAAgB,mDAhC5B,+IAAqB,GAChD,0gBAC8E,GAI/C,oJAAqB,GAEzC,wGAA6C,GADpD,qcAE4D,EADrD,UAA6C,EADpD,kFAE4D,GAIpD,6KAAkC,GACI,6CAAqC,WAFnF,aAEoF,EAD5E,UAAkC,EACI,UAAqC,GAC3C,6CAAmC,WAAvE,aAAwE,EAApC,UAAmC,GAChC,8CAAoC,WAA3E,aAA4E,EAArC,UAAoC,GAG5E,gLAAqC,GADxC,aACoE,EAAjE,UAAqC,GAKrC,gLAAqC,GADxC,aACsE,EAAnE,UAAqC,GAMrB,gKAAiC,GACxD,yhBACwD;yEAkBpD,8gBAA+D,kDAAU,2BAA9B,kBAAmB,0BAA9D,YAA+D,EAApB,8BAAmB,0BAA9D,YAA+D,EAApB,SAAmB,2BAAC,kEAAU;yEAMzE,8gBAAkE,kDAAU,2BAA9B,kBAAmB,0BAAjE,YAAkE,EAApB,8BAAmB,0BAAjE,YAAkE,EAApB,SAAmB,2BAAC,kEAAU;yEApBxF,4FAA6C,sEACzC;;;oIAAuC,yEACnC,+HAAgC,kFAA2B,IAAQ,qEACnE;;;;;;;;;;;wBACgD;MAAzC;;wBAAwC;MAD/C,04BACgD,qEACpD,MAAM,iEACN;;;qIAAuC,yEACnC,wHAAwB,oFAAmB,IAAQ,qEACnD;;;;;;;;;;;wBACwB;MAD8B;;wBAAgC;MAAtF,2jCACwB,qEAC5B,MAAM,iEACN;;;qIAAuC,yEACnC,uHAAuB,oFAAkB,IAAQ,qEACjD;;;;;wBAAyE;MAAhC;;wBAA+B;MAAxE,i2BAAyE,6EACrE,wSAA+D,IAAmB,qEACtF,MAAS,iEACb,MAAM,iEACN;;;qIAAuC,yEACnC,0HAA0B,oFAA4B,IAAQ,qEAC9D;;;;;wBAAkF;MAAnC;;wBAAkC;MAAjF,i2BAAkF,6EAC9E,wSAAkE,IAAmB,qEACzF,MAAS,iEACb,MAAM,iEACN;;;qIAAuC,yEACnC,yHAAyB,oFAA2B,IAAQ,qEAC5D;;;;;;;;;;;wBAC0C;MADc;;wBAAiC;MAAzF,04BAC0C,GAAnC,2BAAkC,IAAC,iEAC9C,MAAM,iEACN;;;qIAA4D,yEACxD,uHAAsB,8EAClB,sHAAsB,oFAAyB,IAAQ,yEACvD;;;;;;;;;;;wBAEuD;MAAhD;;wBAA8B;MAFrC,6jCAEuD,yEAC3D,MAAM,qEACN,8HAA4B,8EACxB;;;;;wBACoE;MAA3B;;wBAA0B;MADnE,mNACoE,GAAjE,4BAAqC,IAA4B,6EAChE,iXACuE,GAApE,2DAAmE,MAAK,yEAC/E,MAAI,qEACR,MAAM,iEACV,MAAM,6DACV,mDA1CI,YAAuC,GAEQ,yCAA8B,EAClE,mBAAwC,6BAD/C,aACgD,EADL,SAA8B,EAClE,SAAwC,GAEnD,aAAuC,GAEA,8BAAkB,EAAC,oBAAgC,qBAAtF,aACwB,EADW,UAAkB,EAAC,UAAgC,GAC/E,mBAAgB,EADvB,aACwB,EAAjB,UAAgB,GAE3B,aAAuC,GAEZ,6BAAiB,EAAC,oBAA+B,oBAAxE,aAAyE,EAAlD,UAAiB,EAAC,UAA+B,GAC5D,oBAAkC,mBAA1C,aAA+D,EAAvD,UAAkC,GAGlD,aAAuC,GAET,gCAAoB,EAAC,oBAAkC,uBAAjF,aAAkF,EAAxD,UAAoB,EAAC,UAAkC,GACrE,oBAAqC,sBAA7C,aAAkE,EAA1D,UAAqC,GAGrD,aAAuC,GAEC,+BAAmB,EAAC,oBAAiC,sBAAzF,aAC0C,EADN,UAAmB,EAAC,UAAiC,GAG7F,aAA4D,GAIC,4BAAgB,EAC9D,oBAA8B,mBAFrC,aAEuD,EADF,UAAgB,EAC9D,UAA8B,GAAC,mBAAgB,EAFtD,cAEuD,EAAjB,UAAgB,GAK/C,2BAAgB,EAChB,uDAAmE,gBADtE,cACuE,EADpE,UAAgB,EAChB,UAAmE,mDArC9C,qJAA2B,GAC3D,0gBACgD,GAGxB,kJAAmB,GAC3C,yhBACwB,GAGD,iJAAkB,GACzC,yhBAAyE,GAK/C,2JAA4B,GACtD,yhBAAkF,GAKzD,0JAA2B,GAE7C,uKAAkC,GADzC,qcAC0C,EAAnC,UAAkC,EADzC,kFAC0C,GAIhB,wJAAyB,GAExC,wGAA6C,GADpD,4cAEuD,EADhD,UAA6C,EADpD,kFAEuD,GAIpD,kLAAqC,GADxC,cACoE,EAAjE,UAAqC;yEAYxC,8gBAAmE,kDAAU,2BAA9B,kBAAmB,0BAAlE,YAAmE,EAApB,8BAAmB,0BAAlE,YAAmE,EAApB,SAAmB,2BAAC,kEAAU;yEAJzF,4FAAiD,sEAC7C;;;oIAAuC,yEACnC,oHAAqB,kFAAkB,IAAQ,qEAC/C;;;;;wBAA+E;MAApC;;wBAAmC;MAA9E,i2BAA+E,6EAC3E,wSAAmE,IAAmB,qEAC1F,MAAS,iEACb,MAAM,iEACN;;;qIAAuC,yEACnC,yHAAyB,oFAAsB,IAAQ,qEACvD;;;;;;;;;;;wBAC+C;MAAxC;;wBAAuC;MAD9C,04BAC+C,qEACnD,MAAM,iEACN;;;qIAAuC,yEACnC,0HAA0B,oFAAuB,IAAQ,qEACzD;;;;;;;;;;;wBACgD;MAAzC;;wBAAwC;MAD/C,04BACgD,qEACpD,MAAM,iEACN;;;qIAAuC,yEACnC,wHAAwB,oFAAqB,IAAQ,qEACrD;;;;;;;;;;;wBAC8C;MAAvC;;wBAAsC;MAD7C,04BAC8C,qEAClD,MAAM,iEACN;;;qIAAuC,yEACnC,wHAAwB,oFAAqB,IAAQ,qEACrD;;;;;;;;;;;wBAC+D;MAAxD;;wBAAsC;MAD7C,2jCAC+D,qEACnE,MAAM,iEACN;;;qIAAuC,yEACnC,uHAAuB,oFAAoB,IAAQ,qEACnD;;;;;;;;;;;wBAC6C;MAAtC;;wBAAqC;MAD5C,04BAC6C,qEACjD,MAAM,iEACN;;;qIAAuC,yEACnC,oHAAmB,sFAAgB,IAAQ,qEAC3C;;;;;;;;;;;wBACwB;MAD0B;;wBAAiC;MAAnF,+jCACwB,qEAC5B,MAAM,iEACN;;;sIAAuC,yEACnC,+HAA8B,sFAA2B,IAAQ,qEACjE;;;;;;;;;;;wBACqE;MAA9D;;wBAA4C;MADnD,+jCACqE,qEACzE,MAAM,iEACN;;;sIAAuC,yEACnC,8HAA6B,sFAA0B,IAAQ,qEAC/D;;;;;;;;;;;wBACoE;MAA7D;;wBAA2C;MADlD,+jCACoE,qEACxE,MAAM,iEACN;;;sIAAuC,yEACnC,sHAAqB,sFAAkB,IAAQ,qEAC/C;;;;;;;;;;;wBACwB;MAD8B;;wBAAmC;MAAzF,+jCACwB,qEAC5B,MAAM,iEACN;;;sIAAuC,yEACnC,sHAAqB,sFAAkB,IAAQ,qEAC/C;;;;;;;;;;;wBAA0F;MAApC;;wBAAmC;MAAzF,64BAA0F,qEAC9F,MAAM,iEACN;;;sIAAuC,yEACnC,yHAAwB,sFAAqB,IAAQ,qEACrD;;;;;;;;;;;wBAC8C;MAAvC;;wBAAsC;MAD7C,64BAC8C,qEAClD,MAAM,iEACN;;;sIAAuC,yEACnC,yHAAwB,sFAAqB,IAAQ,qEACrD;;;;;;;;;;;wBAC8C;MAAvC;;wBAAsC;MAD7C,64BAC8C,qEAClD,MAAM,iEACN;;;sIAAuC,yEACnC,yHAAwB,sFAAqB,IAAQ,qEACrD;;;;;;;;;;;wBAC8C;MAAvC;;wBAAsC;MAD7C,64BAC8C,qEAClD,MAAM,iEACN;;;sIAAuC,yEACnC,qHAAoB,sFAAqB,IAAQ,qEACjD;;;;;;;;;;;wBAAuF;MAAnC;;wBAAkC;MAAtF,64BAAuF,qEAC3F,MAAM,iEACN;;;sIAAuC,yEACnC,sHAAqB,sFAA0B,IAAQ,qEACvD;;;;;;;;;;;wBAA0F;MAApC;;wBAAmC;MAAzF,64BAA0F,qEAC9F,MAAM,iEACN;;;sIAAuC,yEACnC,2HAA0B,sFAA0B,IAAQ,qEAC5D;;;;;;;;;;;wBACgD;MAAzC;;wBAAwC;MAD/C,64BACgD,qEACpD,MAAM,iEACN;;;sIAAuC,yEACnC,wHAAuB,sFAAoB,IAAQ,qEACnD;;;;;;;;;;;wBAC6C;MAAtC;;wBAAqC;MAD5C,64BAC6C,qEACjD,MAAM,6DACV,mDAxFI,YAAuC,GAEd,gCAAqB,EAAC,mBAAmC,wBAA9E,aAA+E,EAA1D,SAAqB,EAAC,SAAmC,GAClE,oBAAsC,uBAA9C,aAAmE,EAA3D,UAAsC,GAGtD,aAAuC,GAEC,qCAAyB,EACtD,oBAAuC,4BAD9C,aAC+C,EADX,UAAyB,EACtD,UAAuC,GAElD,aAAuC,GAEE,sCAA0B,EACxD,oBAAwC,6BAD/C,aACgD,EADX,UAA0B,EACxD,UAAwC,GAEnD,aAAuC,GAEA,oCAAwB,EACpD,oBAAsC,2BAD7C,aAC8C,EADX,UAAwB,EACpD,UAAsC,GAEjD,aAAuC,GAEA,oCAAwB,EACpD,oBAAsC,2BAD7C,aAC+D,EAD5B,UAAwB,EACpD,UAAsC,GAAC,mBAAgB,EAD9D,aAC+D,EAAjB,UAAgB,GAElE,aAAuC,GAED,mCAAuB,EAClD,oBAAqC,0BAD5C,aAC6C,EADX,UAAuB,EAClD,UAAqC,GAEhD,aAAuC,GAEL,+BAAmB,EAAC,oBAAiC,sBAAnF,cACwB,EADM,UAAmB,EAAC,UAAiC,GAC5E,mBAAgB,EADvB,cACwB,EAAjB,UAAgB,GAE3B,cAAuC,GAEM,0CAA8B,EAChE,oBAA4C,iCADnD,cACqE,EAD5B,UAA8B,EAChE,UAA4C,GAAC,mBAAgB,EADpE,cACqE,EAAjB,UAAgB,GAExE,cAAuC,GAEK,yCAA6B,EAC9D,oBAA2C,gCADlD,cACoE,EAD5B,UAA6B,EAC9D,UAA2C,GAAC,mBAAgB,EADnE,cACoE,EAAjB,UAAgB,GAEvE,cAAuC,GAEH,kCAAqB,EAAC,qBAAmC,wBAAzF,cACwB,EADQ,WAAqB,EAAC,WAAmC,GAClF,oBAAgB,EADvB,cACwB,EAAjB,WAAgB,GAE3B,cAAuC,GAEH,kCAAqB,EAAC,qBAAmC,wBAAzF,cAA0F,EAA1D,WAAqB,EAAC,WAAmC,GAE7F,cAAuC,GAEA,qCAAwB,EACpD,qBAAsC,2BAD7C,cAC8C,EADX,WAAwB,EACpD,WAAsC,GAEjD,cAAuC,GAEA,qCAAwB,EACpD,qBAAsC,2BAD7C,cAC8C,EADX,WAAwB,EACpD,WAAsC,GAEjD,cAAuC,GAEA,qCAAwB,EACpD,qBAAsC,2BAD7C,cAC8C,EADX,WAAwB,EACpD,WAAsC,GAEjD,cAAuC,GAEJ,iCAAoB,EAAC,qBAAkC,uBAAtF,cAAuF,EAAxD,WAAoB,EAAC,WAAkC,GAE1F,cAAuC,GAEH,kCAAqB,EAAC,qBAAmC,wBAAzF,cAA0F,EAA1D,WAAqB,EAAC,WAAmC,GAE7F,cAAuC,GAEE,uCAA0B,EACxD,qBAAwC,6BAD/C,cACgD,EADX,WAA0B,EACxD,WAAwC,GAEnD,cAAuC,GAED,oCAAuB,EAClD,qBAAqC,0BAD5C,cAC6C,EADX,WAAuB,EAClD,WAAqC,2BArFvB,4IAAkB,GACvC,0gBAA+E,GAKtD,qJAAsB,GAC/C,yhBAC+C,GAGrB,sJAAuB,GACjD,yhBACgD,GAGxB,oJAAqB,GAC7C,yhBAC8C,GAGtB,oJAAqB,GAC7C,yhBAC+D,GAGxC,mJAAoB,GAC3C,yhBAC6C,GAG1B,kJAAgB,GACnC,iiBACwB,GAGM,6JAA2B,GACzD,iiBACqE,GAGxC,4JAA0B,GACvD,iiBACoE,GAG/C,oJAAkB,GACvC,uiBACwB,GAGH,sJAAkB,GACvC,+iBAA0F,GAGlE,yJAAqB,GAC7C,+iBAC8C,GAGtB,yJAAqB,GAC7C,+iBAC8C,GAGtB,yJAAqB,GAC7C,+iBAC8C,GAG1B,yJAAqB,GACzC,+iBAAuF,GAGlE,8JAA0B,GAC/C,+iBAA0F,GAGhE,8JAA0B,GACpD,+iBACgD,GAGzB,wJAAoB,GAC3C,+iBAC6C;0EAwBrC,8gBAA8D,kDAAU,2BAA9B,kBAAmB,0BAA7D,YAA8D,EAApB,8BAAmB,0BAA7D,YAA8D,EAApB,SAAmB,2BAAC,kEAAU;0EAhBpF;;;oIACwD,yEACpD;;wBAA4E;MAAnD;;wBAAsB;MAA/C,uGAA4E,GAA5B,0BAA2B,IAAC,yEACxE,mIAAoC,KAAI,qEAC5C,MAAI,qEACJ,uHAAsB,8EAClB,kHAA2B,oFAAkC,IAAQ,yEACrE;;;;;;;;;;;wBAEwB;MAF2C;;wBAAmB;MAAtF,2jCAEwB,GADjB,2BAAgD,IAC/B,yEACxB,sIAAgD,yJAEhD,IAAQ,yEACR;;;;;wBAE2C;MAFoB;;wBAAqB;MAE5E;;wBAAkC;MAF1C,i2BAE2C,iFACvC,ySAA8D,IAAmB,yEACrF,MAAS,qEACb,MAAM,qEACN,4HAA4B,8EACxB;;;;;wBACoE;MAA9B;;wBAA6B;MADnE,iNACoE,GAAjE,2BAAkC,IAA+B,6EAChE,2HAA2B,KAAI,yEACnC,MAAI,qEACR,MAAM,iEACV,mDAzBA,YACwD,GAMV,gGAA4B,GAAC,mBAAmB,wBAAtF,aAEwB,EAFc,UAA4B,EAAC,UAAmB,GAE/E,mBAAgB,EAFvB,aAEwB,EAAjB,UAAgB,GAIS,kGAA8B,GAAC,mBAAqB,0BAApF,aAE2C,EAFX,UAA8B,EAAC,UAAqB,GAGxE,oBAAiC,kBAAzC,aAA8D,EAAtD,UAAiC,2BAdD,iLAA2B,GAA3E,YAA4E,EAA5B,SAA2B,GAIhE,uFAAmB,GAA1B,aAA2B,EAApB,SAAmB,GAAC,2LAAkC,GACtD,uFAAkB,GAClB,kMAAgD,GADvD,gcAEwB,EAFjB,SAAkB,EAClB,SAAgD,EADvD,6EAEwB,GACjB,6FAAwB,GAA/B,aAAgD,EAAzC,UAAwB,GAAiB,6NAEhD,GACQ,6FAAuB,GACvB,oJAAgF,KADxF,qcAE2C,EAFnC,UAAuB,EACvB,UAAgF,EADxF,kFAE2C,GAMxC,2LAAkC,GADrC,aACoE,EAAjE,UAAkC;0EAtBjD,2FAA2C,sEACvC,wSACwD,IAwBlD,6DACV,mDAzBS,mBAAkD,oBADvD,YACwD,EAAnD,SAAkD;0EAJnE,2GAA0D,8DACtD,yHAAyB,kEACrB,6PAA2C,IA2B5B,6DACf;;;;;wBACoD;MADd;;wBAAkB;MAAxD,+MACoD,qEAChD,yIAAyC,KAAI,kGACjD,IAAI,yDACR,MAAM,qDACV,mDAjCsB,mBAA4B,uBAA1C,YAA2C,EAA7B,SAA4B,2BA8BO,gJACjD;0EAQQ,8gBAAmD,kDAAU,2BAA3B,kBAAgB,uBAAlD,YAAmD,EAAjB,8BAAgB,uBAAlD,YAAmD,EAAjB,SAAgB,2BAAC,kEAAU;0EAOrE;;;;;wBAC+D;MAA5D;;wBAAuB;MAD1B,+MAC+D,qEAC3D,qHAAsB,kFAAwB,IAAM,iEACpD,2IAA4C,KAAI,6DACpD,iCAF0B,kJAAwB;0EAgCtC;;;;;;;;;;;wBAC2F;MAD3B;;wBAAqB;MAArF,ujCAC2F,GAAlD,0BAAgC,yBADjC,iGAAuB,GAAC,mBAAqB,iCAArF,YAC2F,EADnD,SAAuB,EAAC,UAAqB,GACX,mBAAgB,EAD1F,YAC2F,EAAjB,UAAgB,2BADnF,gGAAoB,GACc,gLAAgC,GADzE,sbAC2F,EADpF,SAAoB,EACc,SAAgC,EADzE,2EAC2F;0EAC3F;;;;;;;;;;;wBAE4E;MAD7C;;wBAAqB;MADpD,ujCAE4E,GAAjC,0BAAgC,yBADpE,kGAAuB,GAAC,mBAAqB,iCADpD,YAE4E,EADrE,UAAuB,EAAC,UAAqB,GAAoB,mBAAgB,EADxF,YAE4E,EADJ,UAAgB,2BADjF,gGAAoB,GAAC,4HAA4C,GAE7B,gLAAgC,GAF3E,sbAE4E,EAFrE,SAAoB,EAAC,SAA4C,EAE7B,SAAgC,EAF3E,2EAE4E;0EAEhF;;;;;;;;wBAE6D;MADtD;;wBAAqB;MAD5B,ykCAE6D,yBAApC,sBAAgB,EAAC,uBAAkB,EAF5D,YAE6D,EAApC,SAAgB,EAAC,SAAkB,GAFhC,kGAAuB,GAC5C,mBAAqB,iCAD5B,YAE6D,EAFjC,UAAuB,EAC5C,UAAqB,2BADrB,gGAAoB,GAA3B,sbAE6D,EAFtD,SAAoB,EAA3B,2EAE6D;0EAC7D,sHAAgE,8EAC5D;;;;;wBACuE;MAA9B;;wBAA6B;MADtE,+MACuE,GAApE,0BAAqC,IAA+B,6EACnE,6WACqE,GAAlE,yDAAiE,MAAK,yEAC7E,MAAI,qEACR,2BAHW,0BAAgB,EAChB,wEAAiE,sCADpE,YACqE,EADlE,SAAgB,EAChB,SAAiE,2BAFrE,2LAAqC,GADxC,YACuE,EAApE,SAAqC;0EAtBhD;;;wRAE4E,GAAvE,wDAAsE,KAF3E,kGAE4E,yEACxE;;wBAA8E;MAArD;;wBAAwB;MAAjD,uGAA8E,GAA5B,0BAA2B,IAAC,yEAC1E,mIAAoC,KAAI,qEAC5C,MAAI,qEACJ,sIAA4C,oFAAiB,IAAQ,qEACrE,sIAA6C,oFAAkB,IAAQ,qEACvE,uHAAsB,8EAClB;;;;;;;;;;;wBAC0E;MADZ;;wBAAoB;MAAlF,2jCAC0E,GAAjD,2BAA+B,IAAkB,yEAC1E,8PAC2F,6EAC3F,8PAE4E,yEAChF,MAAM,qEACN,8PAE6D,yEAC7D,8PAAgE,IAM1D,iEACV,mDA3BK,uDAA6C,EAE7C,gEAAsE,sBAF3E,YAE4E,EAFvE,SAA6C,EAE7C,SAAsE,GAF3E,YAE4E,GAO7B,0FAAsB,GAAC,mBAAoB,yBAAlF,aAC0E,EADnC,UAAsB,EAAC,UAAoB,GACzB,mBAAgB,EADzE,aAC0E,EAAjB,UAAgB,GAElE,mDAAiC,kBADxC,aAC2F,EAApF,UAAiC,GAGjC,mDAAmC,oBAF1C,aAE4E,EAArE,UAAmC,GAGjB,mDAAoC,qBADjE,aAE6D,EADhC,UAAoC,GAErC,mDAAmC,oBAA/D,aAAgE,EAApC,UAAmC,2BAjBb,0KAA2B,GAA7E,YAA8E,EAA5B,SAA2B,GAGtE,wFAAoB,GAA3B,aAA4C,EAArC,SAAoB,GAAiB,qJAAiB,GACtD,yFAAqB,GAA5B,aAA6C,EAAtC,SAAqB,GAAiB,sJAAkB,GAEpD,wFAAmB,GACD,0KAA+B,GADxD,ocAC0E,EADnE,SAAmB,EACD,SAA+B,EADxD,iFAC0E;0EAXtF,2FAAuC,sEACnC,wSAE4E,IAyBtE,6DACV,mDA3BS,mBAA8C,gBADnD,YAE4E,EADvE,SAA8C;0EAkC/C,8gBAAkE,kDAAU,2BAA9B,kBAAmB,0BAAjE,YAAkE,EAApB,8BAAmB,0BAAjE,YAAkE,EAApB,SAAmB,2BAAC,kEAAU;0EAK5F,gHAAuC,8DACnC,qIAAqC,kEACjC;;;;;wBACgE;MAA7D;;wBAAkB;MADrB,4WACgE,qEAC5D,kIAAkC,0EAC9B,8HAA8B,8EAC1B,mJAAkE,KAAI,yEACtE,2JAA2E,KAAI,qEACnF,MAAM,qEACN,kGAAM,oFAAuB,IAAO,iEACxC,MAAM,6DACV,MAAI,yDACR,MAAM,qDACV,mDAV8B,mBAA8B,gBADpD,YACgE,EAA1C,SAA8B,2BAGH,2CAA4B,WAAjE,aAAkE,EAA7B,SAA4B,GACpB,4CAA6B,WAA1E,aAA2E,EAA9B,SAA6B,GAExE,oJAAuB;yEAxTjD,gGAAwB,0DACpB,iHAAiB,8DACb,uHAAwB,kHAExB,IAAM,yDACN,yHAAyB,kEACrB,6PAAyD,IAKnD,6DACN;;;qIAAuC,qEACnC,kHAAkB,oFAAiB,IAAQ,iEAC3C;;;;;;;;;;;wBAAmE;MAA1B;;wBAAyB;MAAlE,04BAAmE,iEACvE,MAAM,6DACN,MAAc,6DACd,6PAA8C,IAoCxC,6DACN,MAAa,6DACb,6PAA6C,IA2CvC,6DACN,MAAiB,6DACjB,6PAAiD,IAyF3C,yDACV,MAAM,qDACV,MAAM,qDACN,8PAA0D,IAmCpD,qDACN,kHAAiB,8DACb,0HAAyB,kEACrB;;;qIAAuC,qEACnC,oHAAoB,oFAAmB,IAAQ,iEAC/C;;;;;wBAAkE;MAA9B;;wBAA6B;MAAjE,i2BAAkE,yEAC9D,ySAAmD,IAAmB,iEAC1E,MAAS,6DACb,MAAM,6DACN;;;qIAAgE,qEAC5D,sHAAsB,oFAAqB,IAAQ,iEACnD;;;;;wBAAmF;MAA9B;;wBAA6B;MAAlF,q2BAAmF,iEACvF,MAAM,6DACN,8PAC+D,IAG3D,yDACR,MAAM,qDACV,MAAM,qDACN,kHAAiB,8DACb,wHAAwB,kEACpB,mHAAmB,oFAAkB,IAAQ,yDACjD,MAAM,yDACN,0HAAyB,kEACrB;;;sIAAuC,qEACnC;;;;;;;;;;;wBAAsE;MAA3B;;wBAA0B;MAArE,64BAAsE,IAAW,6DACrF,MAAM,yDACV,MAAM,qDACV,MAAM,qDACN,mHAAiB,8DACb,yHAAwB,sHAExB,IAAM,yDACN,2HAAyB,kEACrB,+PAAuC,IA6BxB,6DACf;;;sIAAgE,qEAC5D;;wBAA8C;MAArB;;wBAAoB;MAA7C,yGAA8C,yEAC1C,0IAAyC,KAAI,wGACjD,IAAI,iEACJ,iJAA0C,sFAAiB,IAAQ,iEACnE;;;;;wBAA4F;MAA9C;;wBAA0B;MAAxE,o2BAA4F,yEACxF,0SAAkE,IAAmB,iEACzF,MAAS,6DACb,MAAM,yDACV,MAAM,qDACV,MAAM,qDACN,+PAAuC,IAajC,iDACV,mDAvTyC,oBAAiB,WAA9C,aAAyD,EAA5B,SAAiB,GAM9C,aAAuC,GAEN,uBAAW,EAAC,oBAAyB,cAAlE,aAAmE,EAAtC,UAAW,EAAC,UAAyB,GAGjE,yCAAwC,oBAA7C,aAA8C,EAAzC,UAAwC,GAsCxC,yCAAuC,mBAA5C,aAA6C,EAAxC,UAAuC,GA6CvC,yCAA2C,uBAAhD,aAAiD,EAA5C,UAA2C,GA4FvC,yCAAwC,oBAAzD,aAA0D,EAAzC,UAAwC,GAsCjD,aAAuC,GAEf,2BAAe,EAAC,oBAA6B,kBAAjE,aAAkE,EAA9C,UAAe,EAAC,UAA6B,GACrD,oBAAyB,UAAjC,aAAmD,EAA3C,UAAyB,GAGzC,aAAgE,GAEvB,2BAAe,EAAC,oBAA6B,kBAAlF,aAAmF,EAA9C,UAAe,EAAC,UAA6B,GAG3D,qCAAmC,mBAD9D,aAC+D,EAApC,UAAmC,GAW9D,cAAuC,GACd,wBAAY,EAAU,oBAA0B,eAArE,cAAsE,EAAjD,UAAY,EAAU,UAA0B,GAS3D,oBAAwB,mBAAtC,cAAuC,EAAzB,UAAwB,GA8BtC,cAAgE,GAKlC,+BAAmB,EAAC,oBAA0B,eAAxE,cAA4F,EAAlE,UAAmB,EAAC,UAA0B,GAC5D,oBAAqC,sBAA7C,cAAkE,EAA1D,UAAqC,GAKvC,oBAAgB,WAAtC,cAAuC,EAAjB,UAAgB,2BA7SV,+IAExB,GAS0B,uIAAiB,GACnC,2gBAAmE,GAyN/C,2IAAmB,GACvC,yhBAAkE,GAK5C,6IAAqB,GAC3C,yhBAAmF,GAWpE,0IAAkB,GAIjC,iiBAAsE,GAKtD,oJAExB,GAkCyD,sJACjD,GAC0C,4IAAiB,GAC3D,iiBAA4F;4HAxThH;;;;;wBAA+D;MAAnD;;wBAAqB;MAAjC,krBAA+D,qDAC3D,oGAAQ,0DACJ,kHAAkB,8DACd;;wBAAsD;MAAnB;;wBAAkB;MAArD,kIAAsD,mFAAmB,IAAS,qDACtF,MAAM,qDACN,oHAAoB,8DAChB,oHAAoB,oDAAS,MAAO,qDACxC,MAAM,qDACN,oHAAmB,8DACf;;;wIAA6D,iEACzD,gHAA8B,oFAAiB,IAAO,6DACtD,qJAAgE,KAAI,yDACxE,MAAS,qDACb,MAAM,iDACV,MAAS,iDACT,6PAAwB,IA6Td,6CACd,MAAO,6CACP,mDA9UkC,mBAA4B,cAA9D,YAA+D,EAA7B,SAA4B,GAejD,oBAAc,SAAvB,aAAwB,EAAf,UAAc,mDAf3B,mgBAA+D,GAGG,kIAAmB,GAGrD,mDAAS,GAGM,4CAAyB,WAA5D,aAA6D,EAA1B,UAAyB,GAClD,4CAAuB,WAA7B,aAA8B,EAAxB,UAAuB,GAAC,kIAAiB,GACR,6CAAwB,WAA/D,aAAgE,EAAzB,UAAwB;;;;;;;;;;;;;;ACNxD;AAahB,MAAM,0CAAoB;IAY7B,YAAsB,aAA4B,EAAY,WAAwB,EACxE,aAA4B,EAAY,WAAwB,EAChE,oBAA0C,EAAY,GAAW;QAFzD,kBAAa,GAAb,aAAa,CAAe;QAAY,gBAAW,GAAX,WAAW,CAAa;QACxE,kBAAa,GAAb,aAAa,CAAe;QAAY,gBAAW,GAAX,WAAW,CAAa;QAChE,yBAAoB,GAApB,oBAAoB,CAAsB;QAAY,QAAG,GAAH,GAAG,CAAQ;QAZrE,yBAAoB,GAAG,IAAI,4BAAY,EAAE,CAAC;QAC1C,wBAAmB,GAAG,IAAI,4BAAY,EAAE,CAAC;QAOnD,mBAAc,GAAoC,EAAE,CAAC;IAI8B,CAAC;IAE9E,QAAQ;;YACV,IAAI,CAAC,YAAY,GAAG,MAAM,IAAI,CAAC,UAAU,EAAE,CAAC;YAC5C,IAAI,CAAC,MAAM,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;YAEhD,IAAI,CAAC,aAAa,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE,CAAC;YAC1D,MAAM,gBAAgB,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC;YACnE,IAAI,CAAC,oBAAoB,GAAG,gBAAgB,IAAI,IAAI,CAAC,MAAM,CAAC,cAAc,IAAI,IAAI,CAAC;YAEnF,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE;gBAC5B,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,oBAAoB,CAAC,UAAU,CACxD,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,qBAAqB,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,iBAAiB,CAAC,EAChF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,WAAW,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACnE,IAAI,SAAS,EAAE;oBACX,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,iDAAiD,CAAC,CAAC;iBAC1F;aACJ;iBAAM,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;gBAC5B,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,oBAAoB,CAAC,UAAU,CACxD,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,WAAW,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,oBAAoB,CAAC,EACzE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,WAAW,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,SAAS,CAAC,CAAC;gBAC9E,IAAI,SAAS,EAAE;oBACX,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,2DAA2D,CAAC,CAAC;iBACpG;aACJ;QACL,CAAC;KAAA;IAEK,MAAM;;YACR,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;gBACrB,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,EAC5E,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACrC,OAAO;aACV;YAED,MAAM,MAAM,GAAG,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAqB,CAAC;YACnE,MAAM,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;YAC3B,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;gBACrC,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,EAC5E,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;gBACtC,OAAO;aACV;YAED,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,SAAS,EAAE,EAAE,SAAS;gBACtC,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,EAC5E,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;gBACvC,OAAO;aACV;YAED,IAAI;gBACA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBACvD,IAAI,CAAC,YAAY,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC;gBAC3C,IAAI,CAAC,MAAM,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;gBAChD,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,kBAAkB,CAAC,CAAC;gBACzD,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC;gBAC5F,IAAI,CAAC,oBAAoB,CAAC,IAAI,EAAE,CAAC;aACpC;YAAC,WAAM,GAAG;YAEX,mBAAmB;YACnB,4CAA4C;YAC5C,MAAM,CAAC,IAAI,GAAG,EAAE,CAAC;YACjB,MAAM,CAAC,IAAI,GAAG,MAAM,CAAC;YACrB,MAAM,CAAC,KAAK,GAAG,EAAE,CAAC;QACtB,CAAC;KAAA;IAEK,MAAM,CAAC,UAA0B;;YACnC,IAAI,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,EAAE,CAAC,IAAI,IAAI,EAAE;gBAC5C,OAAO;aACV;YAED,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,oBAAoB,CAAC,UAAU,CACxD,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,8BAA8B,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,kBAAkB,CAAC,EAC1F,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,SAAS,CAAC,CAAC;YACpE,IAAI,CAAC,SAAS,EAAE;gBACZ,OAAO;aACV;YAED,IAAI;gBACA,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,sBAAsB,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;gBAChF,MAAM,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;gBACzC,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,oBAAoB,CAAC,CAAC;gBAC3D,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,mBAAmB,CAAC,CAAC,CAAC;gBAC9F,MAAM,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;gBACtD,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;oBACR,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;iBACxC;aACJ;YAAC,WAAM,GAAG;YAEX,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC;YAC1C,IAAI,CAAC,mBAAmB,CAAC,IAAI,EAAE,CAAC;QACpC,CAAC;KAAA;IAEK,QAAQ,CAAC,UAA0B;;YACrC,MAAM,CAAC,GAAI,UAAkB,CAAC;YAC9B,IAAI,CAAC,CAAC,WAAW,EAAE;gBACf,OAAO;aACV;YAED,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE;gBAC5B,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,iBAAiB,CAAC,EAC9E,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC;gBAC/C,OAAO;aACV;YAED,CAAC,CAAC,WAAW,GAAG,IAAI,CAAC;YACrB,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,IAAI,OAAO,CAAC,UAAU,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,UAAU,EAAE,CAAC,CAAC,CAAC;YACjF,IAAI,QAAQ,CAAC,MAAM,KAAK,GAAG,EAAE;gBACzB,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;gBACxF,CAAC,CAAC,WAAW,GAAG,KAAK,CAAC;gBACtB,OAAO;aACV;YAED,IAAI;gBACA,MAAM,GAAG,GAAG,MAAM,QAAQ,CAAC,WAAW,EAAE,CAAC;gBACzC,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;gBAC3E,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;gBACnE,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,UAAU,CAAC,QAAQ,CAAC,CAAC;aACnF;YAAC,OAAO,CAAC,EAAE;gBACR,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;aAC3F;YAED,CAAC,CAAC,WAAW,GAAG,KAAK,CAAC;QAC1B,CAAC;KAAA;IAES,UAAU;QAChB,OAAO,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACjD,CAAC;IAES,oBAAoB,CAAC,IAAU;QACrC,OAAO,IAAI,CAAC,aAAa,CAAC,wBAAwB,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;IAChF,CAAC;IAES,sBAAsB,CAAC,YAAoB;QACjD,OAAO,IAAI,CAAC,aAAa,CAAC,0BAA0B,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE,YAAY,CAAC,CAAC;IACvF,CAAC;CACJ;;;;;;;;;;;ACtK0C;AAEM;AAEiB;AACA;AACJ;AACkB;AAClB;AAEoD;AAM3G,MAAM,gDAAqB,SAAQ,0CAAwB;IAC9D,YAAY,aAA4B,EAAE,WAAwB,EAC9D,aAA4B,EAAE,WAAwB,EACtD,oBAA0C,EAAU,QAAkB,EAC9D,KAAqB;QAC7B,KAAK,CAAC,aAAa,EAAE,WAAW,EAAE,aAAa,EAAE,WAAW,EAAE,oBAAoB,EAAE,MAAM,CAAC,CAAC;QAFxC,aAAQ,GAAR,QAAQ,CAAU;QAC9D,UAAK,GAAL,KAAK,CAAgB;IAEjC,CAAC;IAEK,QAAQ;;;YACV,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,CAAO,MAAM,EAAE,EAAE,CAAC;gBAC/C,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;gBAChC,MAAM,kBAAc,WAAE,CAAC;YAC3B,CAAC,EAAC,CAAC;QACP,CAAC;KAAA;IAED,IAAI;QACA,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;IACzB,CAAC;CACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;6ECbe,4IAAuF,sEACnF,qHAAsB,mGAEtB,MAAM,iEACN,4HAA6B,mDAAc,MAAQ,iEACnD,mIAAmC,0EAC/B;;;;;wBAE6E;MAD/B;;wBAAmB;MADjE,+WAE6E,GADrE,2BAAqC,IACgC,yEACzE,mJAAkE,KAAI,yEACtE,2JAA2E,KAAI,qEACnF,MAAS,iEACb,MAAM,6DACV,mDALgB,qCAAqC,wBAF7C,aAE6E,EAArE,SAAqC,2BAP3B,sEAEtB,GAC6B,sEAAc,GAG/B,+KAAqC,GACC,4CAA8B,WAF5E,aAE6E,EADrE,SAAqC,EACC,SAA8B,GACnC,4CAA4B,WAAjE,aAAkE,EAA7B,SAA4B,GACpB,6CAA6B,WAA1E,aAA2E,EAA9B,SAA6B;6EAZ9F,0GAAyD,8DACrD,iIAAkC,kEAC9B,2SAAuF,IAajF,yDACV,MAAM,qDACV,mDAf0D,mBAAoC,qBAAtF,YAAuF,EAArC,SAAoC;gIArBtG;;;;;wBAA+D;MAAnD;;wBAAqB;MAAjC,krBAA+D,qDAC3D,oGAAQ,0DACJ,mHAAkB,8DACd;;wBAAoD;MAAjB;;wBAAgB;MAAnD,kIAAoD,iEAChD,0HAA0B,6HAA8B,KAAW,6DACnE,kGAAM,oFAAiB,IAAO,yDAClC,MAAS,qDACb,MAAM,qDACN,oHAAoB,8DAChB,oHAAoB,oFAAwB,IAAO,qDACvD,MAAM,qDACN,oHAAmB,8DACf;;;wIAA6D,iEACzD,gHAA8B,oFAAiB,IAAO,6DACtD,qJAAgE,KAAI,yDACxE,MAAS,qDACb,MAAM,iDACV,MAAS,iDACT,sGAAS,0DACL,iQAAyD,IAiBnD,qDACN,kHAAiB,8DACb,wHAAwB,oHAExB,IAAM,yDACN,mIAAkC,kEAC9B,6HAA6B,sEACzB,kHAAkB,oFAAiB,IAAQ,iEAC3C,uKAAkD,kEACtD,MAAM,yDACV,MAAM,yDACN,wHAAwB,oHAExB,IAAM,qDACV,MAAM,iDACV,MAAU,6CACd,MAAO,6CACP,mDArDkC,mBAA4B,cAA9D,YAA+D,EAA7B,SAA4B,GAmBrC,mCAAuC,yBAAxD,aAAyD,EAAxC,UAAuC,2BAnBhE,mgBAA+D,GAKzC,gIAAiB,GAIP,uIAAwB,GAGT,4CAAyB,WAA5D,aAA6D,EAA1B,UAAyB,GAClD,4CAAuB,WAA7B,aAA8B,EAAxB,UAAuB,GAAC,kIAAiB,GACR,6CAAwB,WAA/D,aAAgE,EAAzB,UAAwB,GAwB3C,2IAExB,GAG0B,kIAAiB,GAInB,yIAExB;;;;;;AC7CW;AAEqB;AAEU;AAE0B;AAEZ;AAM7D,MAAM,iCAAe;IAGxB,YAAoB,SAAuB,EAAU,oBAA0C,EACnF,iBAAoC;QAD5B,cAAS,GAAT,SAAS,CAAc;QAAU,yBAAoB,GAApB,oBAAoB,CAAsB;QACnF,sBAAiB,GAAjB,iBAAiB,CAAmB;QAHvC,SAAI,GAAG,IAAI,CAAC;IAG+B,CAAC;IAErD,QAAQ;QACJ,IAAI,IAAI,CAAC,IAAI,EAAE;YACX,IAAI,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,oBAAoB,CAAC,QAAQ,EAAE,CAAC;YAClD,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,oBAAoB,CAAC,SAAS,EAAE,EAAE;gBAChG,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;aACrB;SACJ;IACL,CAAC;IAED,MAAM;QACF,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,gBAAgB,EAAE,CAAC,CAAC;QAE7D,IAAI,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;QAChC,IAAI,IAAI,CAAC,oBAAoB,CAAC,MAAM,EAAE,EAAE;YACpC,MAAM,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;YAC3C,IAAI,UAAU,GAAG,CAAC,CAAC,EAAE;gBACjB,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;aACrC;SACJ;QAED,IAAI,CAAC,OAAO,MAAM,KAAK,WAAW,CAAC,IAAI,MAAM,CAAC,OAAO,IAAI,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE;YAC5E,IAAI,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,EAAE;gBACnC,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,mBAAmB,CAAC;qBACvD,OAAO,CAAC,gBAAgB,EAAE,mBAAmB,CAAC;qBAC9C,OAAO,CAAC,oBAAoB,EAAE,mBAAmB,CAAC,CAAC;aAC3D;iBAAM;gBACH,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAClC,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,oBAAoB,GAAG,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;aACjG;YAED,MAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,qBAAqB,EAAE,CAAC;YACxE,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC;gBAClB,GAAG,EAAE,IAAI;gBACT,IAAI,EAAE,OAAO;gBACb,KAAK,EAAE,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG;gBACjD,MAAM,EAAE,QAAQ,CAAC,MAAM,IAAI,GAAG;aACjC,CAAC,CAAC;YAEH,IAAI,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;gBACxC,gCAAU,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;aACjC;SACJ;aAAM,IAAI,CAAC,OAAO,MAAM,KAAK,WAAW,CAAC,IAAI,MAAM,CAAC,IAAI,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE;YAC7E,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,gBAAgB,CAAC;iBACpD,OAAO,CAAC,mBAAmB,EAAE,gBAAgB,CAAC;iBAC9C,OAAO,CAAC,oBAAoB,EAAE,gBAAgB,CAAC,CAAC;YACrD,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;gBACf,GAAG,EAAE,IAAI;aACZ,CAAC,CAAC;SACN;aAAM,IAAI,CAAC,OAAO,MAAM,KAAK,WAAW,CAAC,EAAE;YACxC,8CAA8C;SACjD;IACL,CAAC;CACJ;;;;;;;;;;;;;;;;;;;;wEC5ED,2FAA2B,sDACvB,oKAAgE,YAAxD;;wBAAkB;MAA1B,wBAAgE,IAArC,0BAAoC,IAAC,qDAC5D,wJAAyD,KAAI,iDACjE,MAAS,6CACb,iCAH+B,qKAAoC,GAA/D,YAAgE,EAArC,SAAoC;2HADnE,qPAA2B,IAIZ,6CACf,mDALc,mBAAY,OAA1B,YAA2B,EAAb,SAAY;;;;;;ACEnB;CAQN;;;;;;;;;;;ACLsB;AAMhB,MAAM,uDAA0B;IASnC,YAAsB,yBAAoD,EAC5D,oBAA0C,EAAY,WAAwB,EAChF,GAAW;QAFD,8BAAyB,GAAzB,yBAAyB,CAA2B;QAC5D,yBAAoB,GAApB,oBAAoB,CAAsB;QAAY,gBAAW,GAAX,WAAW,CAAa;QAChF,QAAG,GAAH,GAAG,CAAQ;QAVd,eAAU,GAAY,KAAK,CAAC;QAC3B,eAAU,GAAG,IAAI,4BAAY,EAAU,CAAC;QAElD,YAAO,GAAQ,EAAE,CAAC;QAClB,aAAQ,GAAW,GAAG,CAAC;QACvB,gBAAW,GAAG,KAAK,CAAC;QACpB,mBAAc,GAAG,KAAK,CAAC;IAII,CAAC;IAEtB,QAAQ;;YACV,IAAI,CAAC,OAAO,GAAG,MAAM,IAAI,CAAC,yBAAyB,CAAC,UAAU,EAAE,CAAC;YACjE,IAAI,CAAC,cAAc,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC;YAC9C,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,KAAK,YAAY,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,UAAU,CAAC;YACnF,IAAI,CAAC,QAAQ,GAAG,MAAM,IAAI,CAAC,yBAAyB,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACpF,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,oBAAoB,CAAC,CAAC;YAC3D,MAAM,IAAI,CAAC,yBAAyB,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACnE,CAAC;KAAA;IAEK,aAAa;;YACf,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YACxB,MAAM,IAAI,CAAC,yBAAyB,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC/D,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,sBAAsB,CAAC,CAAC;QACjE,CAAC;KAAA;IAEK,WAAW;;YACb,IAAI,CAAC,gBAAgB,EAAE,CAAC;YACxB,IAAI,CAAC,QAAQ,GAAG,MAAM,IAAI,CAAC,yBAAyB,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACxF,CAAC;KAAA;IAEK,WAAW,CAAC,aAAsB,IAAI;;YACxC,IAAI,CAAC,gBAAgB,EAAE,CAAC;YACxB,MAAM,IAAI,CAAC,yBAAyB,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAE/D,IAAI,UAAU,EAAE;gBACZ,MAAM,IAAI,CAAC,UAAU,EAAE,CAAC;aAC3B;QACL,CAAC;KAAA;IAEK,UAAU;;YACZ,IAAI,CAAC,QAAQ,GAAG,MAAM,IAAI,CAAC,yBAAyB,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACpF,MAAM,IAAI,CAAC,yBAAyB,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC/D,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,sBAAsB,CAAC,CAAC;QACjE,CAAC;KAAA;IAED,IAAI;QACA,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,2BAA2B,CAAC,CAAC;QAClE,MAAM,WAAW,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;QACnE,IAAI,CAAC,oBAAoB,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;QACtE,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,MAAM,EAAE,IAAI,EAC5C,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC3E,CAAC;IAED,MAAM;QACF,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,6BAA6B,CAAC,CAAC;QACpE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACxC,CAAC;IAED,aAAa;QACT,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;IACzC,CAAC;IAEO,gBAAgB;QACpB,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,CAAC,CAAC;QAC9B,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,CAAC,CAAC;QAC9B,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC;QAE9C,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;YACrG,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC;YAC9B,IAAI,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE;gBAClB,MAAM,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,aAAa,CAAC,YAAY,CAAqB,CAAC;gBACpF,IAAI,SAAS,EAAE;oBACX,SAAS,CAAC,OAAO,GAAG,IAAI,CAAC;iBAC5B;aACJ;SACJ;QAED,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACjD,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC;SAC3B;aAAM,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,GAAG,EAAE;YAClC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,GAAG,CAAC;SAC7B;QAED,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;YACzB,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,CAAC,CAAC;SAC9B;aAAM,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;YACrD,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;SAChD;aAAM,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,CAAC,EAAE;YACnC,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,CAAC,CAAC;SAC9B;QAED,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE;YAC1B,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,CAAC,CAAC;SAC/B;aAAM,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;YACtD,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;SACjD;aAAM,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,CAAC,EAAE;YACpC,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,CAAC,CAAC;SAC/B;QAED,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;YACxE,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC;SAC1E;QAED,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,IAAI,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1D,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,CAAC;SAC7B;aAAM,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,EAAE,EAAE;YACnC,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,EAAE,CAAC;SAC9B;QAED,IAAI,IAAI,CAAC,OAAO,CAAC,aAAa,IAAI,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;YAC7E,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;SAC9D;IACL,CAAC;CACJ;;;;;;;;;;;AC/H0C;AAGmB;AAC4B;AACV;AAChB;AAMD;AAMxD,MAAM,iEAA2B,SAAQ,uDAA8B;IAG1E,YAAY,yBAAoD,EAAE,oBAA0C,EACxG,WAAwB,EAAU,YAA0B,EACpD,QAAkB;QAC1B,KAAK,CAAC,yBAAyB,EAAE,oBAAoB,EAAE,WAAW,EAAE,MAAM,CAAC,CAAC;QAF1C,iBAAY,GAAZ,YAAY,CAAc;QACpD,aAAQ,GAAR,QAAQ,CAAU;IAE9B,CAAC;IAEK,QAAQ;;;YACV,MAAM,kBAAc,WAAE,CAAC;YACvB,IAAI,CAAC,WAAW,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,GAAG,CAAa,eAAe,CAAC,CAAC;YAC5E,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC;QAC/C,CAAC;KAAA;IAED,MAAM;QACF,KAAK,CAAC,MAAM,EAAE,CAAC;QACf,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAChD,IAAI,CAAC,KAAK,EAAE,CAAC;IACjB,CAAC;IAED,KAAK;QACD,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;IACzB,CAAC;CACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;mFCvCO;;wBAAwE;MAArC;;wBAAiB;MAApD,iIAAwE,sPAAmB;mFAM3F;;wBAAyE;MAAtC;;wBAAkB;MAArD,iIAAyE,sPAAmB;mFAmChG,2GAAuD,0DACnD,yHAAyB,8DACrB;;;oIAA6D,iEACzD,sHAAuB,kFAAqB,IAAQ,6DACpD;;;;;;;;;;;;;;;;;;;;wBACmC;MADkB;;wBAAuB;MACxE;;wBAA8B;MADlC,kkCACmC,6DACvC,MAAM,yDACN;;;qIAA6D,iEACzD,4HAA4B,oFAA0B,IAAQ,6DAC9D;;;;;;;;;;;wBACwC;MADa;;wBAAuB;MACxE;;wBAAmC;MADvC,gpCACwC,6DAC5C,MAAM,qDACV,MAAM,iDACV,mDAXQ,YAA6D,GAGrD,mBAA8B,mBADlC,aACmC,EAA/B,SAA8B,GAEtC,aAA6D,GAElB,oBAAa,EAApD,aACwC,EADD,UAAa,GAChD,oBAAmC,wBADvC,aACwC,EAApC,UAAmC,2BAPhB,wIAAqB,GAC5C,2gBACmC,GAGP,gJAA0B,GACtD,kpBACwC;mFAIpD,6FAAkD,0DAC9C,iHAAiB,8DACb,yHAAyB,kEACrB;;;oIAA8D,qEAC1D,mHAAoB,oFAAmB,IAAQ,iEAC/C;;;;;;;;;;;;;;;;;;;;wBAC2B;MADwB;;wBAA4B;MAC3E;;wBAAsB;MAD1B,kkCAC2B,qEAC3B;;;;;;;;;;;;;;;;;;;;wBACoF;MAAhF;;wBAA4B;MAAC;;wBAA0B;MAAC;;wBAAuB;MADnF,kkCACoF,iEACxF,MAAM,6DACN;;;qIAAgE,qEAC5D,uHAAuB,mDAAG,MAAQ,iEAClC;;;;;wBAA+F;MAAzD;;wBAAwB;MAAC;;wBAA+B;MAA9F,+yBAA+F,iEACnG,MAAM,6DACN;;;qIAAgE,qEAC5D,uHAAuB,mDAAG,MAAQ,iEAClC;;;;;wBAA+F;MAAzD;;wBAAwB;MAAC;;wBAA+B;MAA9F,+yBAA+F,iEACnG,MAAM,6DACN;;;qIAAgE,qEAC5D,qHAAqB,mDAAG,MAAQ,iEAChC;;;;;wBAA0F;MAAtD;;wBAAwB;MAAC;;wBAA4B;MAAzF,+yBAA0F,iEAC9F,MAAM,6DACN;;;qIAAgE,qEAC5D,qHAAqB,wDAAQ,MAAQ,iEACrC;;;;;wBAA2F;MAAvD;;wBAAwB;MAAC;;wBAA6B;MAA1F,+yBAA2F,iEAC/F,MAAM,yDACV,MAAM,qDACV,MAAM,qDACN,kHAAiB,8DACb,0HAAyB,kEACrB;;;qIAA6D,qEACzD,wHAAwB,oFAAuB,IAAQ,iEACvD;;;;;;;;;;;;;;;;;;;;wBACoC;MADiB;;wBAAuB;MACxE;;wBAA+B;MADnC,skCACoC,iEACxC,MAAM,6DACN;;;sIAA6D,qEACzD,0HAAyB,sFAAuB,IAAQ,iEACxD;;;;;;;;;;;;;;;;;;;;wBACqC;MADiB;;wBAAuB;MACzE;;wBAAgC;MADpC,skCACqC,iEACzC,MAAM,6DACN;;;sIAAgE,qEAC5D,wHAAuB,sFAAyB,IAAQ,iEACxD;;;;;wBAA4F;MAAtD;;wBAAwB;MAAC;;wBAA4B;MAA3F,kzBAA4F,iEAChG,MAAM,yDACV,MAAM,qDACV,MAAM,iDACV,mDA3CY,YAA8D,GAEP,mBAA4B,iBAA/E,aAC2B,EADwB,SAA4B,GAG3E,oBAA4B,iBADhC,aACoF,EAAhF,UAA4B,GAEpC,aAAgE,GAEG,oBAA+B,oBAA9F,aAA+F,EAAhC,UAA+B,GAElG,aAAgE,GAEG,oBAA+B,oBAA9F,aAA+F,EAAhC,UAA+B,GAElG,aAAgE,GAEC,oBAA4B,iBAAzF,aAA0F,EAA7B,UAA4B,GAE7F,aAAgE,GAEC,oBAA6B,kBAA1F,aAA2F,EAA9B,UAA6B,GAM9F,aAA6D,GAGrD,oBAA+B,oBADnC,cACoC,EAAhC,UAA+B,GAEvC,cAA6D,GAGrD,oBAAgC,qBADpC,cACqC,EAAjC,UAAgC,GAExC,cAAgE,GAEG,oBAA4B,iBAA3F,cAA4F,EAA7B,UAA4B,2BAtCvE,yIAAmB,GACvC,2gBAC2B,GAC3B,uhBACoF,GAIpF,yhBAA+F,GAI/F,yhBAA+F,GAI/F,yhBAA0F,GAI1F,yhBAA2F,GAOnE,+IAAuB,GAC/C,giBACoC,GAGX,kJAAuB,GAChD,iiBACqC,GAGd,oJAAyB,GAChD,iiBAA4F;sIApGhH,8FAAQ,sDACJ,iHAAkB,0DACd,6UAAkC,IAAc,qDAChD,sQAAwE,IAA4B,iDACxG,MAAM,iDACN,oHAAoB,0DAChB,oHAAoB,oFAAoB,IAAO,iDACnD,MAAM,iDACN,mHAAmB,0DACf,uQAAyE,IAA4B,iDACzG,MAAM,6CACV,MAAS,6CACT,sGAAS,sDACL,4HAA4B,oDAAY,MAAM,iDAC9C,uHAAsB,0DAClB,sIAAqC,8DACjC;;;;;wBAC0B;MAAvB;;wBAAsB;MADzB,iNAC0B,mFAA+B,IAAI,yDAC7D;;;;;wBACoB;MAAjB;;wBAAgB;MADnB,iNACoB,mFAAyB,IAAI,qDACrD,MAAM,iDACV,MAAM,iDACN,uHAAsB,0DAClB,sIAAqC,8DACjC;;;8QAAgF,iEAC5E,sHAAsB,oFAA4B,IAAM,6DACxD,kJAAkD,KAAI,yDAC1D,MAAI,qDACR,MAAM,iDACV,MAAM,iDACN,kHAAiB,0DACb,wHAAwB,4GAExB,IAAM,qDACN,0HAAyB,8DACrB;;;qIAAuC,iEACnC,wIAAkC,oFAAiB,IAAQ,6DAC3D;;;;;wBAAsE;MAApD;;wBAA0B;MAAC;;wBAAwB;MAArE,2yBAAsE,qEAClE,oiBAAyB,mFAAqB,IAAS,iEACvD,siBAA2B,mFAAuB,IAAS,6DAC/D,MAAS,yDACb,MAAM,qDACV,MAAM,iDACV,MAAM,iDACN,wQAAuD,IAajD,iDACN,wQAAkD,IA8CnC,6CACnB,MAAU,6CACV,mDAxGqB,oBAAoB,aAAjC,YAAkC,EAArB,SAAoB,GACoB,mBAAkB,aAAvE,YAAwE,EAAnB,SAAkB,GAMjB,mBAAkB,aAAxE,aAAyE,EAAnB,SAAkB,GAepB,oCAA+B,EAA/E,aAAgF,EAAhC,SAA+B,GAW/E,aAAuC,GAEjB,oBAA0B,eAA5C,aAAsE,EAApD,UAA0B,GAChC,2BAAgB,EAAxB,aAAyB,EAAjB,wCAAgB,EAAxB,aAAyB,EAAjB,UAAgB,GAChB,6BAAkB,EAA1B,aAA2B,EAAnB,0CAAkB,EAA1B,aAA2B,EAAnB,UAAkB,GAKzB,mDAAqC,GAAtD,cAAuD,EAAtC,UAAqC,GAcxC,iDAAmC,GAAjD,cAAkD,EAApC,UAAmC,mDApDzB,mIAAoB,GAOhB,sDAAY,GAIN,8IAA+B,GAErC,wIAAyB,GAK7C,6IAAgF,GACtD,6IAA4B,GAMlC,qIAExB,GAG0C,kIAAiB,GACnD,yhBAAsE,GACzC,sIAAqB,GACnB,wIAAuB;;;;;;;;;;;;;;AC/B/D,MAAM,sEAAiC;IAG1C,YAAsB,yBAAoD,EAC5D,oBAA0C,EAAY,WAAwB,EAChF,GAAW;QAFD,8BAAyB,GAAzB,yBAAyB,CAA2B;QAC5D,yBAAoB,GAApB,oBAAoB,CAAsB;QAAY,gBAAW,GAAX,WAAW,CAAa;QAChF,QAAG,GAAH,GAAG,CAAQ;QAJvB,YAAO,GAA+B,EAAE,CAAC;IAId,CAAC;IAEtB,QAAQ;;YACV,IAAI,CAAC,OAAO,GAAG,MAAM,IAAI,CAAC,yBAAyB,CAAC,UAAU,EAAE,CAAC;QACrE,CAAC;KAAA;IAED,KAAK;QACD,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,yBAAyB,CAAC,KAAK,EAAE,CAAC;IAC3C,CAAC;IAED,IAAI,CAAC,QAAgB;QACjB,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,4BAA4B,CAAC,CAAC;QACnE,MAAM,WAAW,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;QACnE,IAAI,CAAC,oBAAoB,CAAC,eAAe,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;QACjE,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,MAAM,EAAE,IAAI,EAC5C,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC3E,CAAC;CACJ;;;AC/B0C;AAGmB;AAC4B;AACV;AAIT;AAMhE,MAAM,gFAAkC,SAAQ,sEAAqC;IACxF,YAAY,yBAAoD,EAAE,oBAA0C,EACxG,WAAwB,EAAU,QAAkB;QACpD,KAAK,CAAC,yBAAyB,EAAE,oBAAoB,EAAE,WAAW,EAAE,MAAM,CAAC,CAAC;QAD1C,aAAQ,GAAR,QAAQ,CAAU;IAExD,CAAC;IAED,KAAK;QACD,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;IACzB,CAAC;CACJ;;;;;;;;;;;;;;;;;;;;;0FCLW,4IAA4E,kEACxE,sHAAsB,sEAClB,6HAA8B,0EAC1B,yIAA0C,2GAE1C,MAAO,qEACP,oHAAqB,oFAA0B,IAAO,iEAC1D,MAAM,6DACV,MAAM,6DACN,4HAA4B,sEACxB;;wBAC8B;MAA3B;;wBAA0B;MAD7B,wGAC8B,GADW,2BAAiC,IAC5C,qEAC1B,iIAAiC,KAAI,iEACzC,MAAI,6DACR,MAAM,yDACV,iCAZsD,sEAE1C,GACqB,2KAA0B,GAIV,2KAAiC,GAA1E,aAC8B,EADW,SAAiC;0FAZ1F,yHAAkE,0DAC9D,wHAAyB,8DACrB,wTAA4E,IAetE,qDACV,MAAM,iDACV,mDAjB0D,mBAAyB,UAA3E,YAA4E,EAA1B,SAAyB;0FAkBnF,+GAA0D,0DACtD,8FAAG,kFAA8B,IAAI,iDACzC,iCADO,iJAA8B;gOAtCzC,8FAAQ,sDACJ,kHAAkB,0DACd;;wBAAqD;MAAlB;;wBAAiB;MAApD,iIAAqD,6DACjD,yHAA0B,6HAA8B,KAAW,yDACnE,kGAAM,oFAAiB,IAAO,qDAClC,MAAS,iDACb,MAAM,iDACN,oHAAoB,0DAChB,oHAAoB,oFAA4B,IAAO,iDAC3D,MAAM,iDACN,mHAAmB,0DACf;;wBAAqD;MAAlB;;wBAAiB;MAApD,kIAAqD,2GAErD,IAAS,iDACb,MAAM,6CACV,MAAS,6CACT,qGAAS,sDACL,8QAAkE,IAmB5D,iDACN,8QAA0D,IAEpD,6CACV,MAAU,6CACV,mDAxBoC,mCAAiC,kBAAjE,aAAkE,EAAlC,SAAiC,GAoB3C,qCAAmC,kBAAzD,aAA0D,EAApC,SAAmC,2BAjC3C,gIAAiB,GAIP,2IAA4B,GAGK,iIAErD;;;;;;ACbD;CAIN;;;;;;;;;;;ACDsB;AAOhB,MAAM,gCAAe;IAOxB,YAAsB,aAA4B,EAAY,WAAwB,EACxE,oBAA0C,EAAY,aAA4B,EAClF,GAAW;QAFH,kBAAa,GAAb,aAAa,CAAe;QAAY,gBAAW,GAAX,WAAW,CAAa;QACxE,yBAAoB,GAApB,oBAAoB,CAAsB;QAAY,kBAAa,GAAb,aAAa,CAAe;QAClF,QAAG,GAAH,GAAG,CAAQ;QARf,YAAO,GAAG,IAAI,4BAAY,EAAE,CAAC;QAIvC,iBAAY,GAAG,KAAK,CAAC;IAIQ,CAAC;IAExB,MAAM;;YACR,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,IAAI,IAAI,CAAC,cAAc,KAAK,EAAE,EAAE;gBAC3D,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,EAC5E,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,uBAAuB,CAAC,CAAC,CAAC;gBACjD,OAAO;aACV;YAED,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;YACjF,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC;YAC5D,IAAI,aAAa,IAAI,IAAI,IAAI,OAAO,IAAI,IAAI,IAAI,aAAa,KAAK,OAAO,EAAE;gBACvE,IAAI;oBACA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;oBACxC,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC;oBACpC,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC;oBACtD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;oBACxB,IAAI,CAAC,KAAK,EAAE,CAAC;iBAChB;gBAAC,WAAM,GAAG;aACd;iBAAM;gBACH,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,EAC5E,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,uBAAuB,CAAC,CAAC,CAAC;aACpD;QACL,CAAC;KAAA;IAED,cAAc;QACV,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,mCAAmC,CAAC,CAAC;QAC1E,IAAI,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC;QACvC,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,KAAK,EAAE,CAAC;IACtD,CAAC;IAES,KAAK;QACX,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;IACxB,CAAC;IAES,aAAa;QACnB,OAAO,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;IAC/C,CAAC;IAES,WAAW,CAAC,MAAe;QACjC,OAAO,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;IAClD,CAAC;IAEO,YAAY,CAAC,GAAW;QAC5B,MAAM,QAAQ,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QACpC,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,IAAI,EAAE,YAAY,EAAE,EAAE,QAAQ,CAAC,CAAC;IACxF,CAAC;CACJ;;;ACjEwC;AAEyB;AACA;AACJ;AACkB;AAEmB;AAM5F,MAAM,yCAAgB,SAAQ,gCAAmB;IACpD,YAAY,aAA4B,EAAE,WAAwB,EAC9D,oBAA0C,EAAE,aAA4B,EAChE,MAAc;QACtB,KAAK,CAAC,aAAa,EAAE,WAAW,EAAE,oBAAoB,EAAE,aAAa,EAAE,MAAM,CAAC,CAAC;QADvE,WAAM,GAAN,MAAM,CAAQ;IAE1B,CAAC;IAES,KAAK;QACX,KAAK,CAAC,KAAK,EAAE,CAAC;QACd,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC;IAC7C,CAAC;CACJ;;;;;;;;;;;;;;;;;;;;;;;;;;2HCzBD;;;;;wBAA4B;MAAtB;;wBAAqB;MAA3B,qhBAA4B,qDACxB,oGAAQ,0DACJ,kHAAkB,8DACd;;;8QAA+B,iEAC3B,0HAA0B,6HAA8B,KAAW,6DACnE,kGAAM,oFAAiB,IAAO,yDAClC,MAAI,qDACR,MAAM,qDACN,oHAAoB,8DAChB,oHAAoB,oFAAwB,IAAO,qDACvD,MAAM,qDACN,mHAAmB,8DACf;;;wIAAmC,mFAAmB,IAAS,qDACnE,MAAM,iDACV,MAAS,iDACT,sGAAS,0DACL,kHAAiB,8DACb,0HAAyB,kEACrB;;;qIAA4D,qEACxD,uHAAsB,0EAClB,4HAA4B,oFAAuB,IAAQ,qEAC3D;;;;;;;;;;;wBAC6E;MAAnD;;wBAA4B;MADtD,+1CAC6E,qEACjF,MAAM,iEACN,6HAA4B,0EACxB;;;;;wBACoE;MAA3B;;wBAA0B;MADnE,iNACoE,GAAjE,2BAAqC,IAA4B,yEAChE,+WACuE,GAApE,0DAAmE,MAAK,qEAC/E,MAAI,iEACR,MAAM,6DACV,MAAM,yDACV,MAAM,yDACN,yHAAwB,kEACpB,+FAAG,oFAAiC,IAAI,6DACxC,oGAAQ,oFAAoB,IAAS,+FACzC,IAAM,qDACV,MAAM,iDACV,MAAU,6CACd,MAAO,6CACP,mDArCe,gCAA2B,EAA9B,aAA+B,EAA5B,SAA2B,GAe1B,aAA4D,GAIG,mBAAQ,EAD/D,aAC6E,EAAtB,UAAQ,GADU,iCAAqB,EACpE,oBAA4B,iBADtD,aAC6E,EADJ,UAAqB,EACpE,UAA4B,GAAU,mBAAY,EAD5E,aAC6E,EAAb,UAAY,GAKrE,2BAAgB,EAChB,sDAAmE,gBADtE,aACuE,EADpE,UAAgB,EAChB,UAAmE,mDA5BlG,mgBAA4B,GAGhB,6IAA+B,GAErB,kIAAiB,GAIP,yIAAwB,GAGT,oIAAmB,GAQd,wIAAuB,GACxB,wGAA6C,GAAxE,4gBAC6E,EADlD,UAA6C,EAAxE,8FAC6E,GAI1E,kKAAqC,GADxC,aACoE,EAAjE,UAAqC,GAQ7C,kJAAiC,GAC5B,qIAAoB,GAAS,2IACzC;;;;;;;;;;;;;;ACjCW;AACkB;AAIyB;AAM3D;IAGH,YAAoB,aAA4B,EAAU,MAAc;QAApD,kBAAa,GAAb,aAAa,CAAe;QAAU,WAAM,GAAN,MAAM,CAAQ;IAAI,CAAC;IAEvE,QAAQ;;YACV,IAAI,CAAC,OAAO,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,eAAe,EAAE,CAAC;YAC1D,qBAAqB;YACrB,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACzB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;aACjE;QACL,CAAC;KAAA;IAED,cAAc,CAAC,MAAkB;QAC7B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC,EAAE,EAAE,WAAW,EAAE,EAAE,QAAQ,EAAE,MAAM,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;IACrF,CAAC;IAED,SAAS;QACL,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;IAC1C,CAAC;CACJ;;;;;;;;;;;;;;;;;;;;;yECfW;;wBAC6B;MADJ;;wBAA2B;MAApD,uGAC6B,qJAAU;yEAH/C,yHAAkE,0DAC9D,wHAAyB,8DACrB,uSAC6B,IAAc,qDAC/C,MAAM,iDACV,mDAFW,mBAAyB,UAD5B,YAC6B,EAA1B,SAAyB;yEAGpC,+GAA0D,0DACtD,8FAAG,kFAAsB,IAAI,iDACjC,iCADO,yIAAsB;4HAxBjC,8FAAQ,sDACJ,kHAAkB,0DACd;;;6QAA+B,6DAC3B,yHAA0B,4HAA8B,KAAW,yDACnE,kGAAM,oFAAiB,IAAO,qDAClC,MAAI,iDACR,MAAM,iDACN,oHAAoB,0DAChB,oHAAoB,oFAAoB,IAAO,iDACnD,MAAM,iDACN,mHAAmB,0DACf;;wBAA0E;MAArD;;wBAAqB;MAA1C,kIAA0E,GAA/B,2BAA8B,IAAC,yDACtE,kIAAkC,KAAI,qDAC1C,MAAS,iDACb,MAAM,6CACV,MAAS,6CACT,qGAAS,sDACL,6PAAkE,IAK5D,iDACN,6PAA0D,IAEpD,6CACV,MAAU,6CACV,mDAzBW,gCAA2B,EAA9B,YAA+B,EAA5B,SAA2B,GAeF,mCAAiC,kBAAjE,aAAkE,EAAlC,SAAiC,GAM3C,qCAAmC,kBAAzD,aAA0D,EAApC,SAAmC,2BArBrD,0IAA+B,GAErB,gIAAiB,GAIP,mIAAoB,GAGG,0JAA8B,GAAzE,aAA0E,EAA/B,SAA8B;;;;;;;;;;;;;;;;;ACN1D;AAMmC;AAEnD,MAAM,gDAAsB;IAW/B,YAAsB,aAA4B,EAAY,WAAwB,EACxE,oBAA0C;QADlC,kBAAa,GAAb,aAAa,CAAe;QAAY,gBAAW,GAAX,WAAW,CAAa;QACxE,yBAAoB,GAApB,oBAAoB,CAAsB;QAV9C,kBAAa,GAAG,IAAI,4BAAY,EAAc,CAAC;QAC/C,oBAAe,GAAG,IAAI,4BAAY,EAAc,CAAC;QAE3D,aAAQ,GAAY,KAAK,CAAC;QAC1B,WAAM,GAAe,IAAI,gCAAU,EAAE,CAAC;IAMsB,CAAC;IAEvD,QAAQ;;YACV,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC;YAEtC,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACrB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC;gBAC9C,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAC3D,IAAI,CAAC,MAAM,GAAG,MAAM,MAAM,CAAC,OAAO,EAAE,CAAC;aACxC;iBAAM;gBACH,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;aAChD;QACL,CAAC;KAAA;IAEK,MAAM;;YACR,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,EAAE,EAAE;gBACrD,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,EAC5E,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;gBACxC,OAAO,KAAK,CAAC;aAChB;YAED,IAAI;gBACA,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBAC7D,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;gBAC7D,MAAM,IAAI,CAAC,WAAW,CAAC;gBACvB,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC;gBACvF,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,EAC/C,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;gBACxE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBACrC,OAAO,IAAI,CAAC;aACf;YAAC,WAAM,GAAG;YAEX,OAAO,KAAK,CAAC;QACjB,CAAC;KAAA;IAEK,MAAM;;YACR,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,oBAAoB,CAAC,UAAU,CACxD,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,0BAA0B,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,cAAc,CAAC,EAClF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,SAAS,CAAC,CAAC;YACpE,IAAI,CAAC,SAAS,EAAE;gBACZ,OAAO,KAAK,CAAC;aAChB;YAED,IAAI;gBACA,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;gBACzE,MAAM,IAAI,CAAC,aAAa,CAAC;gBACzB,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC;gBACvD,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;gBAC1F,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aAC1C;YAAC,WAAM,GAAG;YAEX,OAAO,IAAI,CAAC;QAChB,CAAC;KAAA;CACJ;;;;;;;;;;;AC3EwB;AAEyC;AACJ;AACkB;AAIpB;AAMrD,MAAM,yDAAuB,SAAQ,gDAA0B;IAClE,YAAY,aAA4B,EAAE,WAAwB,EAC9D,oBAA0C,EAAU,MAAc,EAC1D,KAAqB;QAC7B,KAAK,CAAC,aAAa,EAAE,WAAW,EAAE,oBAAoB,CAAC,CAAC;QAFJ,WAAM,GAAN,MAAM,CAAQ;QAC1D,UAAK,GAAL,KAAK,CAAgB;IAEjC,CAAC;IAEK,QAAQ;;;YACV,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,CAAO,MAAM,EAAE,EAAE,CAAC;gBAC/C,IAAI,MAAM,CAAC,QAAQ,EAAE;oBACjB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;iBACnC;gBACD,MAAM,kBAAc,WAAE,CAAC;YAC3B,CAAC,EAAC,CAAC;QACP,CAAC;KAAA;IAEK,MAAM;;;YACR,IAAI,MAAM,gBAAY,WAAE,EAAE;gBACtB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;gBACnC,OAAO,IAAI,CAAC;aACf;YAED,OAAO,KAAK,CAAC;QACjB,CAAC;KAAA;IAEK,MAAM;;;YACR,MAAM,SAAS,GAAG,MAAM,gBAAY,WAAE,CAAC;YACvC,IAAI,SAAS,EAAE;gBACX,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;aACtC;YACD,OAAO,SAAS,CAAC;QACrB,CAAC;KAAA;CACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;+ECzBO,gHAAuC,8DACnC,qIAAqC,kEACjC;;;;;wBACgE;MAA7D;;wBAAkB;MADrB,4WACgE,qEAC5D,kIAAkC,0EAC9B,8HAA8B,8EAC1B,mJAAkE,KAAI,yEACtE,2JAA2E,KAAI,qEACnF,MAAM,qEACN,kGAAM,oFAAyB,IAAO,iEAC1C,MAAM,6DACV,MAAI,yDACR,MAAM,qDACV,mDAV8B,mBAA8B,gBADpD,YACgE,EAA1C,SAA8B,2BAGH,2CAA4B,WAAjE,aAAkE,EAA7B,SAA4B,GACpB,4CAA6B,WAA1E,aAA2E,EAA9B,SAA6B,GAExE,sJAAyB;+EAnBnD,+FAAwB,0DACpB,iHAAiB,8DACb,yHAAyB,kEACrB;;;oIAAuC,qEACnC,iHAAkB,oFAAiB,IAAQ,iEAC3C;;;;;;;;;;;wBACkC;MADO;;wBAAyB;MAAlE,wiCACkC,iEACtC,MAAM,yDACV,MAAM,qDACV,MAAM,qDACN,mQAAuC,IAajC,iDACV,mDArBY,YAAuC,GAEN,sBAAW,EAAC,mBAAyB,cAAlE,aACkC,EADL,SAAW,EAAC,SAAyB,GAC3D,qBAA0B,WADjC,aACkC,EAA3B,UAA0B,GAIvB,oBAAgB,WAAtC,aAAuC,EAAjB,UAAgB,2BANR,uIAAiB,GACnC,2gBACkC;kIArBtD;;;;;wBAA+D;MAAnD;;wBAAqB;MAAjC,krBAA+D,qDAC3D,oGAAQ,0DACJ,kHAAkB,8DACd;;;8QAAyB,mFAAmB,IAAI,qDACpD,MAAM,qDACN,oHAAoB,8DAChB,oHAAoB,oDAAS,MAAO,qDACxC,MAAM,qDACN,oHAAmB,8DACf;;;wIAA6D,iEACzD,gHAA8B,oFAAiB,IAAO,6DACtD,qJAAgE,KAAI,yDACxE,MAAS,qDACb,MAAM,iDACV,MAAS,iDACT,mQAAwB,IAwBd,6CACd,MAAO,6CACP,mDAzCkC,mBAA4B,cAA9D,YAA+D,EAA7B,SAA4B,GAG/C,2BAAqB,EAAxB,aAAyB,EAAtB,UAAqB,GAYvB,oBAAc,SAAvB,aAAwB,EAAf,UAAc,mDAf3B,mgBAA+D,GAGnD,6IAAyB,uIAAmB,GAGxB,qDAAS,GAGM,4CAAyB,WAA5D,aAA6D,EAA1B,UAAyB,GAClD,4CAAuB,WAA7B,aAA8B,EAAxB,UAAuB,GAAC,kIAAiB,GACR,6CAAwB,WAA/D,aAAgE,EAAzB,UAAwB;;;;;;;;;;;;;;ACX7B;AACN;AAKrB;AACkB;AAEqB;AACA;AAMvD;IAIH,YAAoB,WAAwB,EAAU,MAAc,EACxD,cAA8B,EAAU,SAAuB,EAC/D,WAAwB;QAFhB,gBAAW,GAAX,WAAW,CAAa;QAAU,WAAM,GAAN,MAAM,CAAQ;QACxD,mBAAc,GAAd,cAAc,CAAgB;QAAU,cAAS,GAAT,SAAS,CAAc;QAC/D,gBAAW,GAAX,WAAW,CAAa;QALpC,aAAQ,GAAG,IAAI,CAAC;IAMhB,CAAC;IAEK,QAAQ;;YACV,MAAM,IAAI,CAAC,WAAW,EAAE,CAAC;QAC7B,CAAC;KAAA;IAEK,IAAI;;YACN,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YACnD,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC;YACvC,IAAI,OAAO,EAAE;gBACT,MAAM,IAAI,CAAC,WAAW,EAAE,CAAC;gBACzB,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,aAAa,EAAE,CAAC,CAAC;gBAC1D,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC;aACxF;iBAAM;gBACH,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;aACpF;QACL,CAAC;KAAA;IAEK,WAAW;;YACb,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;YAClD,IAAI,IAAI,IAAI,IAAI,EAAE;gBACd,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,kBAAkB,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;aAC/E;iBAAM;gBACH,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;aAC/C;QACL,CAAC;KAAA;CACJ;;;;;;;;;;;;;;;;;;;;;;;yHCjDD,8FAAQ,sDACJ,kHAAkB,0DACd;;;6QAA+B,6DAC3B,yHAA0B,4HAA8B,KAAW,yDACnE,kGAAM,oFAAiB,IAAO,qDAClC,MAAI,iDACR,MAAM,iDACN,oHAAoB,0DAChB,oHAAoB,oFAAiB,IAAO,iDAChD,MAAM,iDACN,mHAAmB,KAAM,6CAC7B,MAAS,6CACT,sGAAS,sDACL,qIAAoC,0DAChC,sOACkE,YADlB;;wBAAgB;MAAhE,uLACkE,6DAC9D,gHAAiC,oFAAyB,IAAO,yDACjE,qJAAmE,KAAI,qDAC3E,MAAS,qDACT,wIAAwC,yFAAkC,IAAI,iDAClF,MAAM,6CACV,MAAU,6CACV,mDApBW,gCAA2B,EAA9B,YAA+B,EAA5B,SAA2B,GAaO,mBAA4B,cADjE,aACkE,EAA7B,SAA4B,mDAbjE,0IAA+B,GAErB,gIAAiB,GAIP,gIAAiB,GAO7B,4CAA4B,WADpC,aACkE,EAA1D,SAA4B,GAC1B,4CAA0B,WAAhC,aAAiC,EAA3B,SAA0B,GAAC,wIAAyB,GACnB,6CAA2B,WAAlE,aAAmE,EAA5B,SAA2B,GAE9B,iLAAkC;;;;;;;;;;;;;;ACZ3E,MAAM,kCAAgB;IAKzB,YAAsB,WAAwB,EAAY,oBAA0C,EACtF,YAA0B,EAAY,UAAsB;QADpD,gBAAW,GAAX,WAAW,CAAa;QAAY,yBAAoB,GAApB,oBAAoB,CAAsB;QACtF,iBAAY,GAAZ,YAAY,CAAc;QAAY,eAAU,GAAV,UAAU,CAAY;QAL1E,cAAS,GAAY,KAAK,CAAC;QAC3B,UAAK,GAAW,EAAE,CAAC;IAI2D,CAAC;IAEzE,QAAQ;;YACV,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,CAAC;QACpD,CAAC;KAAA;IAEK,OAAO;;YACT,IAAI;gBACA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC,oBAAoB,EAAE,CAAC;gBAC7D,MAAM,IAAI,CAAC,cAAc,CAAC;gBAC1B,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC;gBAC5F,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,CAAC;aACnD;YAAC,WAAM,GAAG;QACf,CAAC;KAAA;IAEK,QAAQ;;YACV,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,sBAAsB,CAAC,EACnG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,iBAAiB,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;YACpG,IAAI,SAAS,EAAE;gBACX,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,0BAA0B,CAAC,CAAC;gBACjE,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,iDAAiD,CAAC,CAAC;aAC1F;QACL,CAAC;KAAA;IAEK,MAAM;;YACR,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,oBAAoB,CAAC,EACjG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;YAClG,IAAI,SAAS,EAAE;gBACX,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,2BAA2B,CAAC,CAAC;gBAClE,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,+CAA+C,CAAC,CAAC;aACxF;QACL,CAAC;KAAA;CACJ;;;AC7C8C;AAGa;AACE;AACkB;AAChB;AAEsC;AAM/F,MAAM,2CAAiB,SAAQ,kCAAoB;IAGtD,YAAY,WAAwB,EAAE,oBAA0C,EAC5E,YAA0B,EAAE,UAAsB,EAC1C,YAA0B;QAClC,KAAK,CAAC,WAAW,EAAE,oBAAoB,EAAE,YAAY,EAAE,UAAU,CAAC,CAAC;QAD3D,iBAAY,GAAZ,YAAY,CAAc;QAGlC,iGAAiG;QACjG,MAAM,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QAC9D,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC,CAAC,CAAC,cAAc,EAAE,QAAQ,CAAC,CAAC;QAC3D,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,EAAE;YAC1C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;SACpE;IACL,CAAC;CACJ;;;;;;;;;;;;;;;;;;;;;;;;yECfO,4FAAiC,8DAC7B,2HAA4B,kFAAoC,IAAI,yDACpE,8FAAG,kFAAgC,IAAI,yDACvC,mHAAkB,kEACd,gGAAI,sEACA,0IAA0C,KAAI,uHAElD,IAAK,6DACL,gGAAI,sEACA,0IAA0C,KAAI,uHAElD,IAAK,6DACL,gGAAI,sEACA,0IAA0C,KAAI,uHAElD,IAAK,6DACL,gGAAI,sEACA,0IAA0C,KAAI,uHAElD,IAAK,6DACL,gGAAI,sEACA,0IAA0C,KAAI,uHAElD,IAAK,yDACT,MAAK,yDACL,4HAA4B,oDAAe,MAAI,yDAC/C;;wBAAkF;MAArB;;wBAAoB;MAAjF,kIAAkF,iEAC9E,+FAAG,oFAA4B,IAAI,yDACvC,MAAS,yDACT;;wBAC+D;MADhB;;wBAAmB;MAAlE,gSAC+D,iEAC3D,gHAAoC,oFAA2B,IAAO,6DACtE,2JAA4E,KAAI,yDACpF,MAAS,qDACb,mDAJY,oBAA+B,iBADvC,aAC+D,EAAvD,UAA+B,mDA7BX,uJAAoC,GAC7D,mJAAgC,GAGmB,wJAElD,GAEkD,wJAElD,GAEkD,qJAElD,GAEkD,wJAElD,GAEkD,uJAElD,GAEwB,yDAAe,GAEpC,kJAA4B,GAEgC,4CAA+B,WAAlG,aAC+D,EADI,SAA+B,GAExF,6CAA6B,WAAnC,aAAoC,EAA9B,UAA6B,GAAC,mJAA2B,GAClB,8CAA8B,WAA3E,aAA4E,EAA/B,UAA8B;yEAGnF,4FAAgC,8DAC5B,2HAA4B,kFAAiC,IAAI,yDACjE,sHAAuB,kFAAuC,IAAI,yDAClE;;wBAAgF;MAAnB;;wBAAkB;MAA/E,kIAAgF,iEAC5E,+FAAG,oFAA0B,IAAI,yDACrC,MAAS,qDACb,iCALgC,oJAAiC,GACtC,0JAAuC,GAEvD,gJAA0B;4HArD7C,8FAAQ,sDACJ,kHAAkB,0DACd;;;6QAA+B,6DAC3B,yHAA0B,4HAA8B,KAAW,yDACnE,kGAAM,oFAAiB,IAAO,qDAClC,MAAI,iDACR,MAAM,iDACN,oHAAoB,0DAChB,oHAAoB,oFAA8B,IAAO,iDAC7D,MAAM,iDACN,mHAAmB,KAAM,6CAC7B,MAAS,6CACT,sGAAS,sDACL,qHAAqB,0DACjB,6PAAiC,IAkClB,qDACf,6PAAgC,IAMjB,iDACnB,MAAM,6CACV,MAAU,6CACV,mDAxDW,gCAA2B,EAA9B,YAA+B,EAA5B,SAA2B,GAYhB,oBAAkB,YAAhC,aAAiC,EAAnB,SAAkB,GAmClB,mBAAiB,YAA/B,aAAgC,EAAlB,SAAiB,2BA/C/B,0IAA+B,GAErB,gIAAiB,GAIP,6IAA8B;;;;;;;;;;;;;;ACLnC;AAEqB;AAEkB;AACU;AACQ;AAChB;AACI;AACN;AAEM;AAM7D,MAAM,kCAAgB;IAYzB,YAAoB,SAAuB,EAAU,gBAAkC,EAC3E,oBAA0C,EAAU,cAA8B,EAClF,YAA0B,EAAU,WAAwB,EAC5D,WAAwB;QAHhB,cAAS,GAAT,SAAS,CAAc;QAAU,qBAAgB,GAAhB,gBAAgB,CAAkB;QAC3E,yBAAoB,GAApB,oBAAoB,CAAsB;QAAU,mBAAc,GAAd,cAAc,CAAgB;QAClF,iBAAY,GAAZ,YAAY,CAAc;QAAU,gBAAW,GAAX,WAAW,CAAa;QAC5D,gBAAW,GAAX,WAAW,CAAa;QAdpC,mBAAc,GAAG,KAAK,CAAC;QACvB,6BAAwB,GAAG,KAAK,CAAC;QACjC,wBAAmB,GAAG,KAAK,CAAC;QAC5B,2BAAsB,GAAG,KAAK,CAAC;QAC/B,gCAA2B,GAAG,KAAK,CAAC;QACpC,uCAAkC,GAAG,KAAK,CAAC;QAC3C,2BAAsB,GAAG,IAAI,CAAC;QAC9B,cAAS,GAAG,KAAK,CAAC;QAQd,IAAI,CAAC,YAAY,GAAG;YAChB,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE;YAC/C,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE;YAChD,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE;SACjD,CAAC;IACN,CAAC;IAEK,QAAQ;;YACV,IAAI,CAAC,sBAAsB,GAAG,CAAC,IAAI,CAAC,oBAAoB,CAAC,QAAQ,EAAE,CAAC;YAEpE,IAAI,CAAC,wBAAwB,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,GAAG,CACzD,6CAAgB,CAAC,2BAA2B,CAAC,CAAC;YAElD,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,GAAG,CAAU,6CAAgB,CAAC,YAAY,CAAC,CAAC;YACxF,MAAM,kBAAkB,GAAG,IAAI,CAAC,oBAAoB,CAAC,SAAS,EAAE,CAAC;YACjE,IAAI,CAAC,SAAS,GAAG,SAAS,IAAI,CAAC,SAAS,IAAI,IAAI,IAAI,kBAAkB,CAAC,CAAC;YAExE,IAAI,CAAC,2BAA2B,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,GAAG,CAC5D,6CAAgB,CAAC,8BAA8B,CAAC,CAAC;YAErD,IAAI,CAAC,kCAAkC,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,GAAG,CACnE,6CAAgB,CAAC,qCAAqC,CAAC,CAAC;YAE5D,IAAI,CAAC,sBAAsB,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,GAAG,CACvD,6CAAgB,CAAC,yBAAyB,CAAC,CAAC;YAEhD,IAAI,CAAC,mBAAmB,GAAG,CAAC,OAAM,IAAI,CAAC,WAAW,CAAC,iBAAiB,EAAE,EAAC;YAEvE,IAAI,CAAC,cAAc,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,GAAG,CAAU,6CAAgB,CAAC,iBAAiB,CAAC,CAAC;YAEjG,IAAI,CAAC,KAAK,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,GAAG,CAAS,6CAAgB,CAAC,QAAQ,CAAC,CAAC;QAClF,CAAC;KAAA;IAEK,MAAM;;YACR,IAAI,IAAI,CAAC,SAAS,EAAE;gBAChB,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aACpD;YACD,MAAM,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,6CAAgB,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;YAC9E,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;gBACjB,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aACpD;QACL,CAAC;KAAA;IAEK,0BAA0B;;YAC5B,MAAM,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,6CAAgB,CAAC,8BAA8B,EAC1E,IAAI,CAAC,2BAA2B,CAAC,CAAC;YACtC,IAAI,CAAC,aAAa,CAAC,wBAAwB,EAAE,CAAC,IAAI,CAAC,2BAA2B,CAAC,CAAC;QACpF,CAAC;KAAA;IAEK,iCAAiC;;YACnC,MAAM,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,6CAAgB,CAAC,qCAAqC,EACjF,IAAI,CAAC,kCAAkC,CAAC,CAAC;YAC7C,IAAI,CAAC,aAAa,CAAC,+BAA+B,EAAE,CAAC,IAAI,CAAC,kCAAkC,CAAC,CAAC;QAClG,CAAC;KAAA;IAEK,4BAA4B;;YAC9B,MAAM,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,6CAAgB,CAAC,yBAAyB,EACrE,IAAI,CAAC,sBAAsB,CAAC,CAAC;YACjC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;YAClD,IAAI,CAAC,aAAa,CAAC,mBAAmB,EAAE,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;QAC1E,CAAC;KAAA;IAEK,kBAAkB;;YACpB,MAAM,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,6CAAgB,CAAC,sBAAsB,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;YAClG,IAAI,CAAC,aAAa,CAAC,gBAAgB,EAAE,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;QACpE,CAAC;KAAA;IAEK,wBAAwB;;YAC1B,MAAM,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,6CAAgB,CAAC,2BAA2B,EAAE,IAAI,CAAC,wBAAwB,CAAC,CAAC;YAC5G,IAAI,CAAC,aAAa,CAAC,qBAAqB,EAAE,IAAI,CAAC,wBAAwB,CAAC,CAAC;QAC7E,CAAC;KAAA;IAEK,oBAAoB;;YACtB,MAAM,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,6CAAgB,CAAC,iBAAiB,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;YACxF,MAAM,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,6CAAgB,CAAC,iBAAiB,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;YACtF,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QACxD,CAAC;KAAA;IAEK,SAAS;;YACX,MAAM,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,6CAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;YACtE,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,YAAY,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;YACtE,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,GAAG,CAAC,CAAC;QAC3D,CAAC;KAAA;IAEO,aAAa,CAAC,IAAY,EAAE,OAAgB;QAChD,MAAM,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,UAAU,CAAC;QAChD,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,GAAG,MAAM,IAAI,IAAI,EAAE,EAAE,CAAC,CAAC;IACpE,CAAC;CACJ;;;;;;;;;;;;;;;;;;;;;;;;;;yEC5DG,2GAAgD,0DAC5C,yHAAyB,8DACrB;;;oIAAgE,iEAC5D,yHAA0B,kFAAmC,IAAQ,6DACrE;;;;;wBAC4C;MADH;;wBAAyC;MAC3E;;wBAAoC;MAD3C,+yBAC4C,6DAChD,MAAM,qDACV,MAAM,qDACN,wHAAwB,oFAAuC,IAAM,iDACzE,mDAPQ,YAAgE,GAGrD,mBAAoC,yBAD3C,aAC4C,EAArC,SAAoC,2BAFjB,sJAAmC,GAC7D,2gBAC4C,GAG5B,6JAAuC;yEAgBnD,8gBAA2D,kDAAU,2BAA9B,kBAAmB,0BAA1D,YAA2D,EAApB,8BAAmB,0BAA1D,YAA2D,EAApB,SAAmB,2BAAC,kEAAU;4HAxFzF,8FAAQ,sDACJ,kHAAkB,0DACd;;;6QAA+B,6DAC3B,yHAA0B,4HAA8B,KAAW,yDACnE,kGAAM,oFAAiB,IAAO,qDAClC,MAAI,iDACR,MAAM,iDACN,oHAAoB,0DAChB,oHAAoB,oFAAoB,IAAO,iDACnD,MAAM,iDACN,mHAAmB,KAAM,6CAC7B,MAAS,6CACT,uGAAS,sDACL,kHAAiB,0DACb,0HAAyB,8DACrB;;;qIAAgE,iEAC5D,sHAAsB,oFAAqC,IAAQ,6DACnE;;;;;wBAC8C;MADT;;wBAAqC;MACnE;;wBAAsC;MAD7C,+yBAC8C,6DAClD,MAAM,qDACV,MAAM,qDACN,wHAAwB,gHAEpB,6FAAG,oFAAoB,IAAI,2FAC/B,IAAM,iDACV,MAAM,iDACN,kHAAiB,0DACb,0HAAyB,8DACrB;;;qIAAgE,iEAC5D,kHAAkB,oFAAgC,IAAQ,6DAC1D;;;;;wBAAmG;MAAlE;;wBAA+B;MAAC;;wBAAiC;MAAlG,+yBAAmG,6DACvG,MAAM,qDACV,MAAM,qDACN,wHAAwB,oFAAoC,IAAM,iDACtE,MAAM,iDACN,kHAAiB,0DACb,0HAAyB,8DACrB;;;qIAAgE,iEAC5D,gHAAgB,oFAAsB,IAAQ,6DAC9C;;;;;wBAA2E;MAA5C;;wBAAmB;MAAC;;wBAAuB;MAA1E,gzBAA2E,6DAC/E,MAAM,qDACV,MAAM,qDACN,yHAAwB,sFAAmB,IAAM,iDACrD,MAAM,iDACN,mHAAiB,0DACb,2HAAyB,8DACrB;;;sIAAgE,iEAC5D,wIAAuC,sFAAwC,IAAQ,6DACvF;;;;;wBACiD;MADK;;wBAAuC;MACtF;;wBAAyC;MADhD,kzBACiD,6DACrD,MAAM,qDACV,MAAM,qDACN,yHAAwB,sFAAqC,IAAM,iDACvE,MAAM,iDACN,mHAAiB,0DACb,2HAAyB,8DACrB;;;sIAAgE,iEAC5D,2IAA0C,sFAA+C,IAAQ,6DACjG;;;;;wBACwD;MADC;;wBAA8C;MAChG;;wBAAgD;MADvD,kzBACwD,6DAC5D,MAAM,qDACV,MAAM,qDACN,yHAAwB,sFAAmD,IAAM,iDACrF,MAAM,iDACN,8PAAgD,IAS1C,iDACN,mHAAiB,0DACb,2HAAyB,8DACrB;;;sIAAgE,iEAC5D,sHAAqB,sFAA2B,IAAQ,6DACxD;;;;;wBAAmG;MAA/D;;wBAAiC;MAAC;;wBAA4B;MAAlG,kzBAAmG,6DACvG,MAAM,qDACV,MAAM,qDACN,yHAAwB,sFAA+B,IAAM,iDACjE,MAAM,iDACN,mHAAiB,0DACb,2HAAyB,8DACrB;;;sIAAuC,iEACnC,oHAAmB,sFAAkB,IAAQ,6DAC7C;;;;;wBAA2E;MAA3C;;wBAAmB;MAAC;;wBAAsB;MAA1E,i0BAA2E,qEACvE,ySAA2D,IAAmB,6DAClF,MAAS,yDACb,MAAM,qDACV,MAAM,qDACN,yHAAwB,sFAAsB,IAAM,iDACxD,MAAM,6CACV,MAAU,6CACV,mDA7FW,gCAA2B,EAA9B,YAA+B,EAA5B,SAA2B,GAa1B,aAAgE,GAGrD,oBAAsC,2BAD7C,aAC8C,EAAvC,UAAsC,GAUjD,aAAgE,GAEK,oBAAiC,sBAAlG,aAAmG,EAAlC,UAAiC,GAOtG,aAAgE,GAET,oBAAuB,YAA1E,aAA2E,EAAxB,UAAuB,GAO9E,cAAgE,GAGrD,oBAAyC,8BADhD,cACiD,EAA1C,UAAyC,GAOpD,cAAgE,GAGrD,oBAAgD,qCADvD,cACwD,EAAjD,UAAgD,GAKlD,oBAA8B,yBAA/C,cAAgD,EAA/B,UAA8B,GAYvC,cAAgE,GAEU,oBAA4B,iBAAlG,cAAmG,EAA7B,UAA4B,GAOtG,cAAuC,GAEhB,wBAAY,EAAC,oBAAmB,QAAnD,cAA2E,EAAxD,UAAY,EAAC,UAAmB,GACvC,oBAA8B,eAAtC,cAA2D,EAAnD,UAA8B,2BAtFlD,0IAA+B,GAErB,gIAAiB,GAIP,mIAAoB,GAQV,oJAAqC,GAC3D,ihBAC8C,GAG9B,0JAEpB,GAAG,qIAAoB,GAAI,iJAC/B,GAK0B,iJAAgC,GAClD,yhBAAmG,GAGnF,qJAAoC,GAKpC,uIAAsB,GACtC,giBAA2E,GAG3D,uIAAmB,GAKI,4JAAwC,GAC/E,iiBACiD,GAGjC,yJAAqC,GAKX,mKAA+C,GACzF,iiBACwD,GAGxC,uKAAmD,GAe9C,+IAA2B,GAChD,iiBAAmG,GAGnF,mJAA+B,GAK5B,sIAAkB,GACrC,iiBAA2E,GAK3D,0IAAsB;;;;;;AC5FH;AAK5B;AAMhB,MAAM,2CAAoB;IAI7B,QAAQ;QACJ,IAAI,CAAC,kBAAkB,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,oBAAoB,CAAC,CAAC;QACvE,IAAI,CAAC,gBAAgB,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC;IAChE,CAAC;IAED,SAAS;QACL,gCAAU,CAAC,YAAY,CAAC,yEAAyE,CAAC,CAAC;IACvG,CAAC;CACJ;;;;;;;;;;;;;;6ECvBD,+GAAqB,sDACjB,sHAAuB,mDAAsB,MAAI,iDACjD,yMAAsE,YAAtB;;wBAAqB;MAArE,wBAAsE,0DAClE,8FAAG,mDAAoB,MAAI,iDAC/B,MAAS,6CACb,MAAM,6CACN,yDAL2B,+DAAsB,GAEtC,6DAAoB;;;;;;ACAR;AAE4C;AAM5D;IAGH,YAAoB,iBAAoC;QAApC,sBAAiB,GAAjB,iBAAiB,CAAmB;QAFxD,mBAAc,GAAY,IAAI,CAAC;IAE6B,CAAC;IAE7D,QAAQ;QACJ,IAAI,CAAC,cAAc,GAAG,CAAC,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;IACnE,CAAC;CACJ;;;;;;;;;;;;;;;;;;;sECfW,6eAAqD,mEACjD;;;iRAAwD,GAAhC,0BAA+B,IAAC,iEACpD,6HAA8B,KAAI,iGACtC,IAAI,yDACR,2BAJI,wBAAyB,EAA7B,YAAqD,EAAjD,SAAyB,GACtB,yBAAoB,EAAvB,YAAwD,EAArD,SAAoB,2BAAC,gKAA+B,GAAvD,oHAAwD,EAAhC,SAA+B,EAAvD,oBAAwD,GAClB,sIACtC;yHAPhB,gHAAsB,sDAClB,4XAAe,IAAgB,iDAC/B,4WAA0D,GAAxC,sCAAuC,MAAC,qDACtD,iGAAI,8DACA,0PAAqD,IAIhD,yDACL,qfAA8B,mEAC1B;;;kRAAmD,GAA7B,2BAA4B,IAAC,iEAC/C,4HAA4B,KAAI,iGACpC,IAAI,yDACR,MAAK,yDACL,qfAA8B,mEAC1B;;;kRAAuD,GAA7B,2BAA4B,IAAC,iEACnD,+HAA+B,KAAI,iGACvC,IAAI,yDACR,MAAK,yDACL,qfAA8B,mEAC1B;;;kRAAuD,GAA9B,2BAA6B,IAAC,iEACnD,4HAA4B,KAAI,iGACpC,IAAI,yDACR,MAAK,qDACT,MAAK,iDACT,MAAM,6CACV,MAAM,6CACN,mDA1BI,YAAe,GACV,sBAAY,EAAC,kCAAuC,kBAAzD,YAA0D,EAArD,SAAY,EAAC,SAAuC,GAEnB,mBAAsB,iBAApD,aAAqD,EAAvB,SAAsB,GAKhD,wBAAyB,EAA7B,aAA8B,EAA1B,SAAyB,GACtB,uBAAkB,EAArB,aAAmD,EAAhD,SAAkB,GAIrB,wBAAyB,EAA7B,aAA8B,EAA1B,SAAyB,GACtB,4BAAsB,EAAzB,aAAuD,EAApD,UAAsB,GAIzB,yBAAyB,EAA7B,aAA8B,EAA1B,UAAyB,GACtB,2BAAqB,EAAxB,aAAuD,EAApD,UAAqB,2BAVF,wJAA4B,GAAlD,uHAAmD,EAA7B,SAA4B,EAAlD,oBAAmD,GACf,mIACpC,GAG0B,yJAA4B,GAAtD,yHAAuD,EAA7B,UAA4B,EAAtD,sBAAuD,GAChB,uIACvC,GAGyB,0JAA6B,GAAtD,yHAAuD,EAA9B,UAA6B,EAAtD,sBAAuD,GACnB,sIACpC;;;;;;ACpBT;CAIN;;;;;;;;;;;ACAsB;AACkB;AAES;AACN;AAEU;AAE0B;AAE5B;AAIc;AACJ;AACkB;AACd;AACJ;AAEiB;AAEX;AAE3B;AAEzC,MAAM,+CAAyB,GAAG,qBAAqB,CAAC;AAMjD,MAAM,yCAAmB;IAiB5B,YAAoB,oBAA0C,EAAU,aAA4B,EACxF,iBAAoC,EAAU,eAAgC,EAC9E,SAAuB,EAAU,cAA8B,EAC/D,WAAwB,EAAU,MAAc,EAChD,MAAc,EAAU,kBAAsC,EAC9D,iBAAoC,EAAU,WAAwB,EACtE,aAA4B;QANpB,yBAAoB,GAApB,oBAAoB,CAAsB;QAAU,kBAAa,GAAb,aAAa,CAAe;QACxF,sBAAiB,GAAjB,iBAAiB,CAAmB;QAAU,oBAAe,GAAf,eAAe,CAAiB;QAC9E,cAAS,GAAT,SAAS,CAAc;QAAU,mBAAc,GAAd,cAAc,CAAgB;QAC/D,gBAAW,GAAX,WAAW,CAAa;QAAU,WAAM,GAAN,MAAM,CAAQ;QAChD,WAAM,GAAN,MAAM,CAAQ;QAAU,uBAAkB,GAAlB,kBAAkB,CAAoB;QAC9D,sBAAiB,GAAjB,iBAAiB,CAAmB;QAAU,gBAAW,GAAX,WAAW,CAAa;QACtE,kBAAa,GAAb,aAAa,CAAe;QAtBxC,gBAAW,GAAU,EAAE,CAAC;QAOxB,cAAS,GAAG,KAAK,CAAC;QAClB,mBAAc,GAAG,KAAK,CAAC;QACvB,WAAM,GAAG,KAAK,CAAC;IAa6B,CAAC;IAEvC,QAAQ;;YACV,IAAI,CAAC,cAAc,GAAG,CAAC,IAAI,CAAC,oBAAoB,CAAC,QAAQ,EAAE,CAAC;YAC5D,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;YAE1D,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,+CAAyB,EAAE,CAAC,OAAY,EAAE,EAAE;gBAC1E,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAS,EAAE,CAAC;oBACxB,QAAQ,OAAO,CAAC,OAAO,EAAE;wBACrB,KAAK,eAAe;4BAChB,IAAI,IAAI,CAAC,MAAM,EAAE;gCACb,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE;oCACnB,IAAI,CAAC,IAAI,EAAE,CAAC;gCAChB,CAAC,EAAE,GAAG,CAAC,CAAC;6BACX;4BACD,MAAM;wBACV,KAAK,4BAA4B;4BAC7B,IAAI,OAAO,CAAC,MAAM,KAAK,+CAAyB,EAAE;gCAC9C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;oCAClB,OAAO,EAAE,OAAO,CAAC,YAAY,CAAC,OAAO;oCACrC,GAAG,EAAE,OAAO,CAAC,GAAG;oCAChB,OAAO,EAAE,OAAO,CAAC,OAAO;iCAC3B,CAAC,CAAC;6BACN;4BACD,MAAM;wBACV,KAAK,eAAe;4BAChB,IAAI,OAAO,CAAC,YAAY,EAAE;gCACtB,MAAM,IAAI,CAAC,IAAI,EAAE,CAAC;6BACrB;4BACD,MAAM;wBACV;4BACI,MAAM;qBACb;oBAED,IAAI,CAAC,iBAAiB,CAAC,aAAa,EAAE,CAAC;gBAC3C,CAAC,EAAC,CAAC;YACP,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE;gBAClC,MAAM,IAAI,CAAC,IAAI,EAAE,CAAC;aACrB;iBAAM;gBACH,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,UAAU,CAAC,GAAS,EAAE,CAAC;oBAC/C,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;wBACd,MAAM,IAAI,CAAC,IAAI,EAAE,CAAC;qBACrB;gBACL,CAAC,GAAE,IAAI,CAAC,CAAC;aACZ;YAED,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE;gBACnB,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,KAAK,EAAE,CAAC;YAC9C,CAAC,EAAE,GAAG,CAAC,CAAC;QACZ,CAAC;KAAA;IAED,WAAW;QACP,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACxC,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,+CAAyB,CAAC,CAAC;IACnE,CAAC;IAEK,OAAO;;YACT,MAAM,IAAI,CAAC,IAAI,EAAE,CAAC;QACtB,CAAC;KAAA;IAED,SAAS;QACL,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,EAAE,EAAE,WAAW,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,EAAE,GAAG,EAAE,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;IACnG,CAAC;IAED,UAAU,CAAC,MAAkB;QACzB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC,EAAE,EAAE,WAAW,EAAE,EAAE,QAAQ,EAAE,MAAM,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;IACrF,CAAC;IAED,UAAU,CAAC,MAAkB;QACzB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,EAAE;YAC1B,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SACzC;QAED,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,KAAK,CAAC,EAAE;YAC3D,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,kBAAkB,EAAE,CAAC,CAAC;YAC/D,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;YACjF,OAAO;SACV;QAED,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC;YAC5B,MAAM,EAAE,MAAM;YACd,WAAW,EAAE,IAAI,CAAC,WAAW;YAC7B,GAAG,EAAE,MAAM,CAAC,QAAQ;SACvB,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,EAAE;YACjB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YACzB,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,YAAY,EAAE,CAAC,CAAC;YACzD,IAAI,QAAQ,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,QAAQ,EAAE,EAAE;gBAC3D,IAAI,CAAC,oBAAoB,CAAC,eAAe,CAAC,QAAQ,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC;aAC3E;YAED,IAAI,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;gBACxC,gCAAU,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;aACjC;QACL,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE;YACV,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE;gBACjB,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,kBAAkB,EAAE,CAAC,CAAC;gBAC/D,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;gBACjF,IAAI,CAAC,iBAAiB,CAAC,aAAa,EAAE,CAAC;YAC3C,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;QAEH,qGAAqG;QACrG,IAAI,MAAM,CAAC,IAAI,KAAK,gCAAU,CAAC,KAAK,IAAI,IAAI,CAAC,oBAAoB,CAAC,QAAQ,EAAE,EAAE;YAC1E,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE;gBACtC,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,EAAE;oBACvB,IAAI,CAAC,oBAAoB,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC;iBAChF;YACL,CAAC,EAAE,GAAG,CAAC,CAAC;SACX;IACL,CAAC;IAED,WAAW;QACP,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,EAAE;YAC5B,YAAY,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;SACpC;QACD,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;YACnD,OAAO;SACV;QACD,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,UAAU,CAAC,GAAS,EAAE,CAAC;YAC/C,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,EAAE,EAAE,WAAW,EAAE,EAAE,UAAU,EAAE,IAAI,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;QAC5F,CAAC,GAAE,GAAG,CAAC,CAAC;IACZ,CAAC;IAEa,IAAI;;YACd,MAAM,GAAG,GAAG,MAAM,gCAAU,CAAC,uBAAuB,EAAE,CAAC;YACvD,IAAI,GAAG,IAAI,IAAI,EAAE;gBACb,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC;aACtB;iBAAM;gBACH,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;gBACvB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBACnB,OAAO;aACV;YAED,IAAI,CAAC,QAAQ,GAAG,sBAAK,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;YACtB,gCAAU,CAAC,cAAc,CAAC,GAAG,EAAE;gBAC3B,OAAO,EAAE,oBAAoB;gBAC7B,GAAG,EAAE,GAAG;gBACR,MAAM,EAAE,+CAAyB;aACpC,CAAC,CAAC;YAEH,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,qBAAqB,CAAC,IAAI,CAAC,GAAG,EAAE;gBACrE,gCAAU,CAAC,IAAI;gBACf,gCAAU,CAAC,QAAQ;aACtB,CAAC,CAAC;YAEH,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;YACvB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;YACtB,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;YAE1B,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;gBAClB,QAAQ,CAAC,CAAC,IAAI,EAAE;oBACZ,KAAK,gCAAU,CAAC,KAAK;wBACjB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;wBAC1B,MAAM;oBACV,KAAK,gCAAU,CAAC,IAAI;wBAChB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;wBACzB,MAAM;oBACV,KAAK,gCAAU,CAAC,QAAQ;wBACpB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;wBAC7B,MAAM;oBACV;wBACI,MAAM;iBACb;YACL,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,6BAA6B,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YAC7G,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACvB,CAAC;KAAA;CACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4ECtOO;;wBAAsG;MAAnE;;wBAAmB;MAAtD,iIAAsG,GAA/C,0BAA4B,IAAmB,yDAClG,oIAAqC,KAAI,qDAC7C,iCAFuD,oKAA4B,GAAnF,YAAsG,EAA/C,SAA4B;4EAFvF,2GAAyC,0DACrC,6UAAiC,IAAc,qDAC/C,+PAAsG,IAE7F,iDACb,mDAJiB,oBAAmB,YAAhC,YAAiC,EAApB,SAAmB,GACoD,mBAAiB,YAArG,YAAsG,EAAlB,SAAiB;4EAgBzG,+GAAsC,0DAClC,sIAAuC,KAAI,iDAC/C;4EAQY,kLAE8C,YAD5B;;wBAAiC;MAAC;;wBAA6B;MADjF,iSAE8C,KAFH,0BAA6B,iDAAtD,mBAAwB,eAA+B,oBAAiB,EAA/C,4KAA6B,GAAxE,YAE8C,EAF5B,SAAwB,EAA+B,SAAiB,EAA/C,SAA6B;4EAGxE,sIAA0E,sEACtE,sHAAuB,kFAAyB,IAAI,iEACpD,8MAA2E,YAAtB;;wBAAqB;MAA1E,wBAA2E,kIAE3E,IAAS,6DACb,iCAJ2B,0JAAyB,GAC2B,sJAE3E;4EAbZ,gHAA2C,8DACvC,uHAAwB,sHAEpB,sHAAyB,mDAAuB,MAAO,yDAC3D,MAAM,yDACN,wHAAyB,kEACrB,gQAE8C,IAAmB,6DACjE,gQAA0E,IAKpE,yDACV,MAAM,qDACV,mDAR0B,mBAA2B,sBAF7C,aAE8C,EAA5B,SAA2B,GACA,oBAA4B,sBAAzE,aAA0E,EAA7B,SAA4B,mDARrD,iJAEpB,GAAyB,gEAAuB;4EAcxD,gHAAgE,8DAC5D,uHAAwB,sHAEpB,sHAAyB,mDAAsB,MAAO,yDAC1D,MAAM,yDACN,wHAAyB,kEACrB,yLACkF,YAAhE;;wBAAiC;MAAC;;wBAA6B;MADjF,kSACkF,KADxC,2BAA6B,IAC8B,yDACzG,MAAM,qDACV,mDAH0B,mBAAuB,cAA+B,oBAAiB,EAA/C,uKAA6B,GAAvE,aACkF,EADhE,SAAuB,EAA+B,SAAiB,EAA/C,SAA6B,mDALnD,4IAEpB,GAAyB,+DAAsB;4EAOvD,gHAAwE,8DACpE,uHAAwB,sHAEpB,sHAAyB,mDAA0B,MAAO,yDAC9D,MAAM,yDACN,wHAAyB,kEACrB,yLACkF,YAAhE;;wBAAiC;MAAC;;wBAA6B;MADjF,kSACkF,KADpC,2BAA6B,IAC0B,yDACzG,MAAM,qDACV,mDAH0B,mBAA2B,kBAA+B,oBAAiB,EAA/C,uKAA6B,GAA3E,aACkF,EADhE,SAA2B,EAA+B,SAAiB,EAA/C,SAA6B,mDALvD,iJAEpB,GAAyB,mEAA0B;4EA/B/D,4FAA6B,0DACzB,+PAA2C,IAgBrC,qDACN,+PAAgE,IAS1D,qDACN,+PAAwE,IASlE,iDACV,mDArC0B,mBAAoB,eAA1C,YAA2C,EAArB,SAAoB,GAiBpB,uCAAyC,sBAA/D,YAAgE,EAA1C,SAAyC,GAUzC,2CAAiD,0BAAvE,YAAwE,EAAlD,SAAiD;+HAlD/E,8FAAQ,sDACJ,+PAAyC,IAKnC,iDACN,oHAAoB,0DAChB;;;;;;;;;;;wBACwD;MAAjD;;wBAAwB;MAAC;;wBAAuB;MADvD,m1BACwD,GADnC,2BAAsC,IACH,qDACxD,wHAAwB,KAAI,iDAChC,MAAM,iDACN,mHAAmB,0DACf;;wBAAsF;MAAnD;;wBAAqB;MAAxD,kIAAsF,GAA7B,2BAA4B,IAAC,yDAClF,kIAAkC,KAAI,qDAC1C,MAAS,iDACb,MAAM,6CACV,MAAS,6CACT,qGAAS,sDACL,gQAAsC,IAEhC,iDACN,gQAA6B,IAsCd,6CACnB,MAAU,6CACV,mDA7DsB,mBAAsB,iBAAxC,YAAyC,EAAvB,SAAsB,GAQ7B,mBAAwB,aAD/B,aACwD,EAAjD,SAAwB,GAUb,qBAAe,SAArC,aAAsC,EAAhB,UAAe,GAGvB,oBAAc,SAA5B,aAA6B,EAAf,UAAc,2BAdH,2JAAsC,GAA3D,6bACwD,EADnC,SAAsC,EAA3D,2EACwD,GAIC,yJAA4B,GAArF,aAAsF,EAA7B,UAA4B;;;;;;;;;;;;;;ACTtE;AAE6B;AAQ7C,MAAM,sCAAkB;IAwB3B,YAAsB,iBAAoC,EAAY,aAA4B;QAA5E,sBAAiB,GAAjB,iBAAiB,CAAmB;QAAY,kBAAa,GAAb,aAAa,CAAe;QAvBzF,gBAAW,GAAG,IAAI,CAAC;QACnB,oBAAe,GAAG,IAAI,CAAC;QACvB,kBAAa,GAAG,IAAI,CAAC;QAEpB,iBAAY,GAAG,IAAI,4BAAY,EAAE,CAAC;QAClC,uBAAkB,GAAG,IAAI,4BAAY,EAAE,CAAC;QACxC,wBAAmB,GAAG,IAAI,4BAAY,EAAc,CAAC;QACrD,oBAAe,GAAG,IAAI,4BAAY,EAAc,CAAC;QACjD,gBAAW,GAAG,IAAI,4BAAY,EAAE,CAAC;QACjC,iBAAY,GAAG,IAAI,4BAAY,EAAc,CAAC;QAC9C,wBAAmB,GAAG,IAAI,4BAAY,EAAkB,CAAC;QAInE,WAAM,GAAY,KAAK,CAAC;QACxB,eAAU,GAAG,gCAAU,CAAC;QACxB,gBAAW,GAAY,KAAK,CAAC;QAC7B,sBAAiB,GAAY,KAAK,CAAC;QACnC,iBAAY,GAAe,IAAI,CAAC;QAChC,mBAAc,GAAY,KAAK,CAAC;QAChC,qBAAgB,GAAW,IAAI,CAAC;QAChC,yBAAoB,GAAW,IAAI,CAAC;IAEkE,CAAC;IAEjG,IAAI,CAAC,SAAS,GAAG,IAAI;;YACvB,MAAM,IAAI,CAAC,WAAW,EAAE,CAAC;YACzB,MAAM,IAAI,CAAC,eAAe,EAAE,CAAC;YAE7B,IAAI,SAAS,EAAE;gBACX,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;aACtB;QACL,CAAC;KAAA;IAEK,eAAe,CAAC,cAAuB;;YACzC,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;gBACvB,OAAO;aACV;YACD,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,eAAe,EAAE,CAAC;YACnE,IAAI,cAAc,IAAI,IAAI,EAAE;gBACxB,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,cAAc,KAAK,cAAc,CAAC,CAAC;aACrF;iBAAM;gBACH,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;aAClC;QACL,CAAC;KAAA;IAEK,WAAW;;YACb,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;gBACnB,OAAO;aACV;YACD,IAAI,CAAC,OAAO,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,eAAe,EAAE,CAAC;QAC9D,CAAC;KAAA;IAED,SAAS;QACL,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;IAC7B,CAAC;IAED,eAAe;QACX,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;QAC9B,IAAI,CAAC,kBAAkB,CAAC,IAAI,EAAE,CAAC;IACnC,CAAC;IAED,UAAU,CAAC,IAAgB;QACvB,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACxC,CAAC;IAED,YAAY,CAAC,MAAkB;QAC3B,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,gBAAgB,GAAG,MAAM,CAAC,EAAE,CAAC;QAClC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACtC,CAAC;IAED,SAAS;QACL,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;IAC5B,CAAC;IAED,UAAU,CAAC,MAAkB;QACzB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACnC,CAAC;IAED,gBAAgB,CAAC,UAA0B;QACvC,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,oBAAoB,GAAG,UAAU,CAAC,EAAE,CAAC;QAC1C,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IAC9C,CAAC;IAED,eAAe;QACX,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;QAC/B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;QAC5B,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;QAC7B,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;IACrC,CAAC;CACJ;;;;;;;;;;;ACnH2C;AAED;AAOpB;AAIE;AAE6B;AAEF;AAMc;AACQ;AACR;AACc;AACd;AACF;AACF;AAEkB;AAE4B;AAExC;AAEpE,MAAM,+BAAW,GAAG,oBAAoB,CAAC;AACzC,MAAM,YAAY,GAAG,+BAAW,GAAG,OAAO,CAAC;AAMpC,MAAM,4CAAmB,SAAQ,sCAAsB;IAsB1D,YAAY,iBAAoC,EAAE,aAA4B,EAClE,aAA4B,EAAU,MAAc,EACpD,MAAc,EAAU,kBAAsC,EAC9D,iBAAoC,EAAU,KAAqB,EACnE,YAA0B,EAAU,UAA6B,EACjE,WAAwB,EAAU,SAAuB,EACzD,oBAA0C,EAAU,aAA4B,EAChF,QAAkB;QAC1B,KAAK,CAAC,iBAAiB,EAAE,aAAa,CAAC,CAAC;QAPhC,kBAAa,GAAb,aAAa,CAAe;QAAU,WAAM,GAAN,MAAM,CAAQ;QACpD,WAAM,GAAN,MAAM,CAAQ;QAAU,uBAAkB,GAAlB,kBAAkB,CAAoB;QAC9D,sBAAiB,GAAjB,iBAAiB,CAAmB;QAAU,UAAK,GAAL,KAAK,CAAgB;QACnE,iBAAY,GAAZ,YAAY,CAAc;QAAU,eAAU,GAAV,UAAU,CAAmB;QACjE,gBAAW,GAAX,WAAW,CAAa;QAAU,cAAS,GAAT,SAAS,CAAc;QACzD,yBAAoB,GAApB,oBAAoB,CAAsB;QAAU,kBAAa,GAAb,aAAa,CAAe;QAChF,aAAQ,GAAR,QAAQ,CAAU;QAzB9B,iBAAY,GAAG,IAAI,GAAG,EAAkB,CAAC;QACzC,qBAAgB,GAAG,IAAI,GAAG,EAAkB,CAAC;QAC7C,eAAU,GAAG,IAAI,GAAG,EAAsB,CAAC;QAI3C,mBAAc,GAAG,IAAI,CAAC;QACtB,kBAAa,GAAG,KAAK,CAAC;QAId,oBAAe,GAAG,KAAK,CAAC;QACxB,qBAAgB,GAAG,GAAG,CAAC;QACvB,kBAAa,GAAQ,IAAI,CAAC;QAC1B,gBAAW,GAAG,KAAK,CAAC;QACpB,wBAAmB,GAAG,KAAK,CAAC;QAC5B,eAAU,GAAiB,IAAI,CAAC;QAWpC,IAAI,CAAC,gBAAgB,GAAG,oBAAoB,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;IACrE,CAAC;IAED,IAAI,mBAAmB;QACnB,OAAO,IAAI,CAAC,eAAe,IAAI,IAAI,IAAI,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,IAAI,CAAC,gBAAgB;YACtF,IAAI,CAAC,WAAW,CAAC,MAAM,KAAK,CAAC,CAAC;IACtC,CAAC;IAED,IAAI,WAAW;QACX,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACpE,CAAC;IAEK,QAAQ;;YACV,IAAI,CAAC,cAAc,GAAG,CAAC,IAAI,CAAC,oBAAoB,CAAC,QAAQ,EAAE;gBACvD,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,oBAAoB,CAAC,SAAS,EAAE,CAAC,CAAC;YAClF,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;YAE7C,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,+BAAW,EAAE,CAAC,OAAY,EAAE,EAAE;gBAC5D,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAS,EAAE,CAAC;oBACxB,QAAQ,OAAO,CAAC,OAAO,EAAE;wBACrB,KAAK,eAAe;4BAChB,IAAI,OAAO,CAAC,YAAY,EAAE;gCACtB,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE;oCACnB,IAAI,CAAC,IAAI,EAAE,CAAC;gCAChB,CAAC,EAAE,GAAG,CAAC,CAAC;6BACX;4BACD,MAAM;wBACV;4BACI,MAAM;qBACb;oBAED,IAAI,CAAC,iBAAiB,CAAC,aAAa,EAAE,CAAC;gBAC3C,CAAC,EAAC,CAAC;YACP,CAAC,CAAC,CAAC;YAEH,MAAM,kBAAkB,GAAG,MAAM,IAAI,CAAC,YAAY,EAAE,CAAC;YACrD,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,CAAO,MAAM,EAAE,EAAE,CAAC;gBAC/C,IAAI,CAAC,KAAK,GAAG,CAAC,MAAM,IAAI,CAAC,YAAY,CAAC,GAAG,CAAM,+BAAW,CAAC,CAAC,IAAI,EAAE,CAAC;gBACnE,IAAI,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE;oBACvB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC;iBAC3C;qBAAM,IAAI,MAAM,CAAC,UAAU,EAAE;oBAC1B,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC;oBACpC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;iBACvC;gBAED,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE;oBAClC,IAAI,CAAC,IAAI,EAAE,CAAC;iBACf;qBAAM;oBACH,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE;wBACxC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;4BACd,IAAI,CAAC,IAAI,EAAE,CAAC;yBACf;oBACL,CAAC,EAAE,IAAI,CAAC,CAAC;iBACZ;gBAED,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,IAAI,kBAAkB,EAAE;oBACxD,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC;iBAC7F;YACL,CAAC,EAAC,CAAC;QACP,CAAC;KAAA;IAED,WAAW;QACP,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,EAAE;YAC5B,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;SAC3C;QACD,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,EAAE;YAC9B,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;SAC7C;QACD,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,+BAAW,CAAC,CAAC;IACrD,CAAC;IAEK,IAAI;;;;;;YACN,MAAM,oBAAU,YAAC,KAAK,CAAC,CAAC;YACxB,MAAM,IAAI,CAAC,WAAW,EAAE,CAAC;YACzB,IAAI,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrD,yCAAyC;gBACzC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;aACjE;YAED,sBAAY,GAAG,IAAI,CAAC;QACxB,CAAC;KAAA;IAEK,WAAW;;YACb,IAAI,CAAC,UAAU,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,eAAe,EAAE,CAAC;YAC7D,IAAI,CAAC,IAAI,CAAC,mBAAmB,EAAE;gBAC3B,IAAI,CAAC,mBAAmB,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;aAChF;YACD,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YACxB,IAAI,eAAe,GAAiB,IAAI,CAAC;YACzC,IAAI,eAAe,GAAiB,IAAI,CAAC;YACzC,MAAM,YAAY,GAAG,IAAI,GAAG,EAAkB,CAAC;YAC/C,MAAM,gBAAgB,GAAG,IAAI,GAAG,EAAkB,CAAC;YACnD,MAAM,UAAU,GAAG,IAAI,GAAG,EAAsB,CAAC;YAEjD,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;gBACvB,IAAI,CAAC,CAAC,QAAQ,EAAE;oBACZ,IAAI,eAAe,IAAI,IAAI,EAAE;wBACzB,eAAe,GAAG,EAAE,CAAC;qBACxB;oBACD,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;iBAC3B;gBAED,IAAI,CAAC,CAAC,QAAQ,IAAI,IAAI,EAAE;oBACpB,IAAI,eAAe,IAAI,IAAI,EAAE;wBACzB,eAAe,GAAG,EAAE,CAAC;qBACxB;oBACD,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;iBAC3B;gBAED,IAAI,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE;oBACxB,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,EAAE,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;iBACtD;qBAAM;oBACH,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;iBAC7B;gBAED,IAAI,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE;oBAC9B,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC,QAAQ,EAAE,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;iBAClE;qBAAM;oBACH,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;iBACnC;gBAED,IAAI,CAAC,CAAC,aAAa,IAAI,IAAI,EAAE;oBACzB,CAAC,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;wBAC9B,IAAI,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;4BAC7B,gBAAgB,CAAC,GAAG,CAAC,KAAK,EAAE,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;yBAChE;6BAAM;4BACH,gBAAgB,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;yBAClC;oBACL,CAAC,CAAC,CAAC;iBACN;YACL,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;YACvC,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;YACvC,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;YAC7B,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;YACjC,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;QAC7C,CAAC;KAAA;IAEK,MAAM,CAAC,UAAkB,IAAI;;YAC/B,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;YAC3B,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,EAAE;gBAC5B,YAAY,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;aACpC;YACD,IAAI,OAAO,IAAI,IAAI,EAAE;gBACjB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;gBACpE,IAAI,CAAC,OAAO,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;gBAC9F,OAAO;aACV;YACD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;YAC1B,IAAI,CAAC,aAAa,GAAG,UAAU,CAAC,GAAS,EAAE,CAAC;gBACxC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;gBACpE,IAAI,CAAC,IAAI,CAAC,mBAAmB,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;oBAChD,MAAM,IAAI,CAAC,WAAW,EAAE,CAAC;iBAC5B;qBAAM;oBACH,IAAI,CAAC,OAAO,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;iBACjG;gBACD,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;YAC/B,CAAC,GAAE,OAAO,CAAC,CAAC;QAChB,CAAC;KAAA;IAEK,UAAU,CAAC,IAAgB;;;YAC7B,oBAAgB,YAAC,IAAI,EAAE;YACvB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,CAAC,EAAE,EAAE,WAAW,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;QACxE,CAAC;KAAA;IAEK,YAAY,CAAC,MAAkB;;;YACjC,sBAAkB,YAAC,MAAM,EAAE;YAC3B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,CAAC,EAAE,EAAE,WAAW,EAAE,EAAE,QAAQ,EAAE,MAAM,CAAC,EAAE,IAAI,MAAM,EAAE,EAAE,CAAC,CAAC;QAC3F,CAAC;KAAA;IAEK,gBAAgB,CAAC,UAA0B;;;YAC7C,0BAAsB,YAAC,UAAU,EAAE;YACnC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,CAAC,EAAE,EAAE,WAAW,EAAE,EAAE,YAAY,EAAE,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;QACzF,CAAC;KAAA;IAEK,YAAY,CAAC,MAAkB;;YACjC,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE;gBAC1C,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;oBACvB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC,EAAE,EAAE,WAAW,EAAE,EAAE,QAAQ,EAAE,MAAM,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;iBACpF;gBACD,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;YACjC,CAAC,EAAE,GAAG,CAAC,CAAC;QACZ,CAAC;KAAA;IAEK,YAAY,CAAC,MAAkB;;YACjC,IAAI,MAAM,CAAC,IAAI,KAAK,gCAAU,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,EAAE;gBAC7D,OAAO;aACV;YAED,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,EAAE;gBAC9B,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;aAC7C;YACD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC5B,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,2BAA2B,EAAE,CAAC,CAAC;YACxE,gCAAU,CAAC,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAC1C,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;gBACjC,gCAAU,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;aACjC;QACL,CAAC;KAAA;IAEK,SAAS;;YACX,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;QAC1C,CAAC;KAAA;IAED,aAAa;QACT,OAAO,IAAI,CAAC,WAAW,IAAI,CAAC,CAAC,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;IACzG,CAAC;IAEa,SAAS;;YACnB,IAAI,CAAC,KAAK,GAAG;gBACT,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAAC,MAAM,CAAC;gBAClD,UAAU,EAAE,IAAI,CAAC,UAAU;aAC9B,CAAC;YACF,MAAM,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,+BAAW,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;YAEtD,IAAI,CAAC,UAAU,GAAG;gBACd,eAAe,EAAE,IAAI,CAAC,eAAe;gBACrC,eAAe,EAAE,IAAI,CAAC,eAAe;gBACrC,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,gBAAgB,EAAE,IAAI,CAAC,gBAAgB;gBACvC,YAAY,EAAE,IAAI,CAAC,YAAY;gBAC/B,UAAU,EAAE,IAAI,CAAC,UAAU;gBAC3B,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,WAAW,EAAE,IAAI,CAAC,WAAW;aAChC,CAAC;YACF,MAAM,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAChE,CAAC;KAAA;IAEa,YAAY;;YACtB,IAAI,CAAC,UAAU,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,GAAG,CAAM,YAAY,CAAC,CAAC;YACjE,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,EAAE;gBACzB,OAAO,KAAK,CAAC;aAChB;YAED,IAAI,IAAI,CAAC,UAAU,CAAC,eAAe,IAAI,IAAI,EAAE;gBACzC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC;aAC1D;YACD,IAAI,IAAI,CAAC,UAAU,CAAC,eAAe,IAAI,IAAI,EAAE;gBACzC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC;aAC1D;YACD,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,IAAI,IAAI,EAAE;gBACjC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;aAC1C;YACD,IAAI,IAAI,CAAC,UAAU,CAAC,gBAAgB,IAAI,IAAI,EAAE;gBAC1C,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC;aAC5D;YACD,IAAI,IAAI,CAAC,UAAU,CAAC,YAAY,IAAI,IAAI,EAAE;gBACtC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC;aACpD;YACD,IAAI,IAAI,CAAC,UAAU,CAAC,UAAU,IAAI,IAAI,EAAE;gBACpC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC;aAChD;YACD,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,IAAI,IAAI,EAAE;gBACjC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;aAC1C;YACD,IAAI,IAAI,CAAC,UAAU,CAAC,WAAW,IAAI,IAAI,EAAE;gBACrC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC;aAClD;YAED,OAAO,IAAI,CAAC;QAChB,CAAC;KAAA;CACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2ECjVG,2GAAyC,0DACrC,4TAAa,IAAc,iDAC/B,2BADI,YAAa;2EAeb,gIAAuD;2EACvD,4FAA6B,8DACzB,8HAA+B,KAAI,yDACnC,8FAAG,kFAA0B,IAAI,yDACjC,0LAA6D,YAArD;;wBAAqB;MAA7B,wBAA6D,mFAAoB,IAAS,qDAC9F,iCAFO,oJAA0B,GACgC,+IAAoB;2EALzF,+GAAgF,0DAC5E,8PAAuD,IAAI,qDAC3D,8PAA6B,IAId,iDACnB,mDAN2C,oBAAe,SAAtD,YAAuD,EAAhB,SAAe,GACxC,mBAAc,SAA5B,YAA6B,EAAf,SAAc;2EAO5B,gHAA8C,8DAC1C,uHAAwB,sHAEpB,sHAAyB,mDAA0B,MAAO,yDAC9D,MAAM,yDACN,wHAAyB,kEACrB,mMAE4D,YAD1C;;wBAAmC;MACnC;;wBAAyC;MAF3D,2RAE4D,KAFd,2BAA6B,IAEI,yDACnF,MAAM,qDACV,mDAJ0B,mBAA2B,kBAAC,uKAA6B,GAA3E,aAE4D,EAF1C,SAA2B,EAAC,SAA6B,mDALvD,gJAEpB,GAAyB,mEAA0B;2EA0DnD;;;;;wBACuD;MAA1B;;wBAAyB;MADtD,+MACuD,qEACnD,sHAAsB,0EAClB,iHAAkB,8EACd,mXACmE,GAAhE,sEAA+D,MAAK,qEAC3E,MAAM,qEACN,mHAAmB,oDAAU,MAAO,iEACxC,MAAM,iEACN,4HAA4B,oDAA+B,MAAO,iEAClE,kGAAM,iJAAkD,KAAW,6DACvE,2BAPe,gCAAsB,EACtB,2DAA+D,wBADlE,YACmE,EADhE,SAAsB,EACtB,SAA+D,mDAEnD,mEAAU,GAEL,8FAA+B;2EAfvE,gHAA6C,8DACzC,uHAAwB,sHAEpB,sHAAyB,mDAAe,MAAO,yDACnD,MAAM,yDACN,oIAAqC,kEACjC,0SACuD,IAUnD,yDACR,MAAM,qDACV,mDAbW,mBAAyB,UAA5B,aACuD,EADpD,SAAyB,mDALR,8IAEpB,GAAyB,wDAAe;4EAuBxC;;;;;wBAC2D;MAA9B;;wBAA6B;MAD1D,+MAC2D,qEACvD,qHAAsB,0EAClB,iHAAkB,gIAAkC,KAAU,qEAC9D,kHAAmB,oDAAU,MAAO,iEACxC,MAAM,iEACN,4HAA4B,oDAAmC,MAAO,iEACtE,kGAAM,iJAAkD,KAAW,6DACvE,yDAJ2B,mEAAU,GAEL,kGAAmC;2EAZ3E,gHAAiD,8DAC7C,uHAAwB,sHAEpB,sHAAyB,mDAAsB,MAAO,yDAC1D,MAAM,yDACN,oIAAqC,kEACjC,2SAC2D,IAOvD,yDACR,MAAM,qDACV,mDAVW,mBAA6B,cAAhC,aAC2D,EADxD,SAA6B,mDALZ,kJAEpB,GAAyB,+DAAsB;4EAcvD,gHAAkD,8DAC9C,uHAAwB,sHAEpB,qHAAwB,mDAA0B,MAAM,yDAC5D,MAAM,yDACN,wHAAyB,kEACrB,mMAE4D,YAD1C;;wBAAmC;MACnC;;wBAAyC;MAF3D,2RAE4D,KAFd,2BAA6B,IAEI,yDACnF,MAAM,qDACV,mDAJ0B,mBAA2B,kBAAC,uKAA6B,GAA3E,aAE4D,EAF1C,SAA2B,EAAC,SAA6B,mDALvD,iJAEpB,GAAwB,mEAA0B;2EAhG9D,6FAAoE,0DAChE,8PAA8C,IAUxC,qDACN,sHAAsB,8DAClB,uHAAwB,sHAEpB,uHAAyB,iDAAC,MAAO,yDACrC,MAAM,yDACN,sIAAqC,kEACjC;;;;;wBAC0C;MAAvC;;wBAAsC;MADzC,iNAC0C,qEACtC,sHAAsB,0EAClB,kHAAkB,kIAAmC,KAAU,qEAC/D,mHAAmB,oFAAsB,IAAO,iEACpD,MAAM,iEACN,4HAA4B,oDAAyC,MAAO,iEAC5E,kGAAM,iJAAkD,KAAW,6DACvE,MAAI,6DACJ;;;;;wBACyC;MAAtC;;wBAAqC;MADxC,iNACyC,qEACrC,sHAAsB,0EAClB,kHAAkB,wIAAyC,KAAU,qEACrE,mHAAmB,oFAAqB,IAAO,iEACnD,MAAM,iEACN,4HAA4B,oDAAwC,MAAO,iEAC3E,kGAAM,iJAAkD,KAAW,6DACvE,MAAI,6DACJ;;;;;wBAC6C;MAA1C;;wBAAyC;MAD5C,iNAC6C,qEACzC,sHAAsB,0EAClB,kHAAkB,sIAAuC,KAAU,qEACnE,mHAAmB,oFAAyB,IAAO,iEACvD,MAAM,iEACN,4HAA4B,oDAA4C,MAAO,iEAC/E,kGAAM,iJAAkD,KAAW,6DACvE,MAAI,6DACJ;;;;;wBAC+C;MAA5C;;wBAA2C;MAD9C,iNAC+C,qEAC3C,sHAAsB,0EAClB,kHAAkB,0IAA2C,KAAU,qEACvE,mHAAmB,oFAA2B,IAAO,iEACzD,MAAM,iEACN,4HAA4B,oDAA8C,MAAO,iEACjF,kGAAM,iJAAkD,KAAW,6DACvE,MAAI,yDACR,MAAM,qDACV,MAAM,qDACN,gQAA6C,IAmBvC,qDACN,gQAAiD,IAgB3C,qDACN,iQAAkD,IAU5C,iDACV,mDAvG0B,mBAAuB,kBAA7C,YAA8C,EAAxB,SAAuB,GAuDvB,oBAAsB,iBAA5C,cAA6C,EAAvB,UAAsB,GAoBtB,oBAA0B,qBAAhD,cAAiD,EAA3B,UAA0B,GAiB1B,oBAA2B,sBAAjD,cAAkD,EAA5B,UAA2B,mDAhFrB,qIAEpB,GAO2B,4IAAsB,GAEjB,yFAAyC,GAO9C,2IAAqB,GAEhB,wFAAwC,GAO7C,+IAAyB,GAEpB,4FAA4C,GAOjD,iJAA2B,GAEtB,8FAA8C;4EAuDtF,+GAA0D,8DACtD,8FAAG,kFAA0B,IAAI,qDACrC,iCADO,oJAA0B;4EAEjC,yHAAsE,8DAClE,wHAAyB,kEACrB,kMAE4D,YAD1C;;wBAAmC;MACnC;;wBAAyC;MAF3D,0RAE4D,KAFtB,0BAA6B,IAEY,yDACnF,MAAM,qDACV,mDAJ0B,mBAAmB,UAAC,qKAA6B,GAAnE,YAE4D,EAF1C,SAAmB,EAAC,SAA6B;4EAN/E,2FAAsC,0DAClC,+PAA0D,IAEpD,qDACN,+PAAsE,IAMhE,iDACV,mDAV0B,qCAAmC,kBAAzD,YAA0D,EAApC,SAAmC,GAGzB,uDAAqC,IAArE,YAAsE,EAAtC,SAAqC;8HArI7E,8FAAQ,sDACJ,8PAAyC,IAEnC,iDACN,oHAAoB,0DAChB;;;;;;;;;;;wBACmE;MAA5D;;wBAAwB;MAAC;;wBAAqB;MADrD,i/BACmE,GAD9C,2BAAsC,IACQ,qDACnE,wHAAwB,KAAI,iDAChC,MAAM,iDACN,mHAAmB,0DACf;;wBAAwE;MAAnD;;wBAAqB;MAA1C,kIAAwE,GAA7B,2BAA4B,IAAC,yDACpE,kIAAkC,KAAI,qDAC1C,MAAS,iDACb,MAAM,6CACV,MAAS,6CACT,sGAAS,sDACL,+PAAgF,IAO1E,iDACN,+PAAoE,IAwGrD,iDACf,gQAAsC,IAWvB,6CACnB,MAAU,6CACV,mDA7IsB,mBAAsB,iBAAxC,YAAyC,EAAvB,SAAsB,GAK7B,mBAAwB,aAD/B,aACmE,EAA5D,SAAwB,GAAuB,mBAAY,EADlE,aACmE,EAAb,UAAY,GAUhD,+DAAyD,mBAA/E,aAAgF,EAA1D,UAAyD,GAQjE,6DAAqD,mBAAnE,aAAoE,EAAtD,UAAqD,GAyGrD,oBAAuB,kBAArC,aAAsC,EAAxB,UAAuB,2BA5HZ,2JAAsC,GAA3D,6bACmE,EAD9C,SAAsC,EAA3D,2EACmE,GAIxB,yJAA4B,GAAvE,aAAwE,EAA7B,UAA4B;;;;;;ACVxE;CAIN;;;;;;;;;;;ACJ2C;AACd;AAOP;AACkB;AAEa;AAEF;AAEgB;AAEQ;AACd;AACA;AACU;AACQ;AACZ;AAEpE,MAAM,QAAQ,GAAG;IACb,CAAC,gCAAU,CAAC,eAAe,CAAC,EACxB,8GAA8G;IAClH,CAAC,gCAAU,CAAC,gBAAgB,CAAC,EACzB,oFAAoF;IACxF,CAAC,gCAAU,CAAC,cAAc,CAAC,EACvB,oGAAoG;IACxG,CAAC,gCAAU,CAAC,aAAa,CAAC,EACtB,gFAAgF;IACpF,CAAC,gCAAU,CAAC,gBAAgB,CAAC,EACzB,8GAA8G;IAClH,CAAC,gCAAU,CAAC,eAAe,CAAC,EACxB,sEAAsE;CAC7E,CAAC;AAMK,MAAM,oCAAiB;IAM1B,YAAoB,oBAA0C,EAAU,WAAwB,EACpF,SAAuB,EAAU,WAAwB,EACzD,cAA8B,EAAS,gBAAkC,EACzE,MAAc,EAAU,kBAAsC;QAHtD,yBAAoB,GAApB,oBAAoB,CAAsB;QAAU,gBAAW,GAAX,WAAW,CAAa;QACpF,cAAS,GAAT,SAAS,CAAc;QAAU,gBAAW,GAAX,WAAW,CAAa;QACzD,mBAAc,GAAd,cAAc,CAAgB;QAAS,qBAAgB,GAAhB,gBAAgB,CAAkB;QACzE,WAAM,GAAN,MAAM,CAAQ;QAAU,uBAAkB,GAAlB,kBAAkB,CAAoB;QAN1E,eAAU,GAAW,IAAI,CAAC;QAC1B,uBAAkB,GAAW,IAAI,CAAC;IAMlC,CAAC;IAEK,QAAQ;;YACV,MAAM,YAAY,GAAG,CAAC,IAAI,CAAC,oBAAoB,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,MAAM,EAAE;mBAC3F,CAAC,IAAI,CAAC,oBAAoB,CAAC,QAAQ,EAAE,CAAC;YAE7C,IAAI,CAAC,WAAW,GAAG;gBACf,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,aAAa,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE;gBACrD,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,WAAW,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE;gBACnD,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,aAAa,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE;gBACrD,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,gBAAgB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE;gBACzD,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE;gBACxD,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE;gBAClD,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,WAAW,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE;aAGxD,CAAC;YAEF,IAAI,YAAY,EAAE;gBACd,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;aAC9E;YAED,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,WAAW,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;YAC5E,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;YAE1E,IAAI,MAAM,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,GAAG,CAAS,6CAAgB,CAAC,aAAa,CAAC,CAAC;YACnF,IAAI,MAAM,IAAI,IAAI,EAAE;gBAChB,IAAI,MAAM,KAAK,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE;oBAChC,MAAM,GAAG,CAAC,CAAC,CAAC;iBACf;gBACD,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC;aAC5B;YACD,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,UAAU,CAAC;QAC9C,CAAC;KAAA;IAEK,cAAc,CAAC,QAAgB;;YACjC,IAAI,QAAQ,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,QAAQ,EAAE,EAAE;gBAC3D,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,oBAAoB,CAAC,UAAU,CACxD,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,kBAAkB,CAAC,EAAE,IAAI,EAC5C,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,SAAS,CAAC,CAAC;gBACxE,IAAI,CAAC,SAAS,EAAE;oBACZ,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,MAAW,EAAE,CAAC,EAAE,EAAE;wBACxC,IAAI,MAAM,CAAC,KAAK,KAAK,IAAI,CAAC,UAAU,EAAE;4BAClC,IAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,KAAK,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC;yBAC9E;oBACL,CAAC,CAAC,CAAC;oBACH,OAAO;iBACV;aACJ;YACD,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,UAAU,CAAC;YAC1C,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC;YAC3B,MAAM,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YACvF,IAAI,IAAI,CAAC,kBAAkB,IAAI,IAAI,EAAE;gBACjC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;aACjD;QACL,CAAC;KAAA;IAEK,IAAI;;YACN,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,UAAU,EAAE,CAAC,CAAC;YACvD,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;YAC9B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;QACnC,CAAC;KAAA;IAEK,MAAM;;YACR,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,oBAAoB,CAAC,UAAU,CACxD,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,oBAAoB,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,QAAQ,CAAC,EACtE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC7D,IAAI,SAAS,EAAE;gBACX,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACxC;QACL,CAAC;KAAA;IAEK,cAAc;;YAChB,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,yBAAyB,EAAE,CAAC,CAAC;YACtE,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,oBAAoB,CAAC,UAAU,CACxD,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,kCAAkC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,sBAAsB,CAAC,EAClG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC7D,IAAI,SAAS,EAAE;gBACX,gCAAU,CAAC,YAAY,CAAC,iEAAiE,CAAC,CAAC;aAC9F;QACL,CAAC;KAAA;IAEK,OAAO;;YACT,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,wBAAwB,EAAE,CAAC,CAAC;YACrE,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,oBAAoB,CAAC,UAAU,CACxD,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,0BAA0B,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,cAAc,CAAC,EAClF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC7D,IAAI,SAAS,EAAE;gBACX,gCAAU,CAAC,YAAY,CAAC,0DAA0D,CAAC,CAAC;aACvF;QACL,CAAC;KAAA;IAEK,KAAK;;YACP,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,qBAAqB,EAAE,CAAC,CAAC;YAClE,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,oBAAoB,CAAC,UAAU,CACxD,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,wBAAwB,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,YAAY,CAAC,EAC9E,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC7D,IAAI,SAAS,EAAE;gBACX,gCAAU,CAAC,YAAY,CAAC,6DAA6D,CAAC,CAAC;aAC1F;QACL,CAAC;KAAA;IAEK,QAAQ;;YACV,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,mBAAmB,EAAE,CAAC,CAAC;YAChE,IAAI,GAAG,GAAG,IAAI,CAAC,kBAAkB,CAAC,cAAc,EAAE,CAAC;YACnD,IAAI,GAAG,IAAI,IAAI,EAAE;gBACb,GAAG,GAAG,6BAA6B,CAAC;aACvC;YACD,gCAAU,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;QACjC,CAAC;KAAA;IAED,MAAM;QACF,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,sBAAsB,EAAE,CAAC,CAAC;QACnE,gCAAU,CAAC,YAAY,CAAC,iDAAiD,CAAC,CAAC;IAC/E,CAAC;IAED,MAAM;QACF,IAAI,IAAI,CAAC,oBAAoB,CAAC,MAAM,EAAE,EAAE;YACpC,gCAAU,CAAC,YAAY,CAAC,sDAAsD,CAAC,CAAC;YAChF,OAAO;SACV;QAED,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;IACtC,CAAC;IAED,IAAI;QACA,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,2BAA2B,EAAE,CAAC,CAAC;QACxE,gCAAU,CAAC,YAAY,CAAC,6BAA6B,CAAC,CAAC;IAC3D,CAAC;IAED,KAAK;QACD,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,eAAe,EAAE,CAAC,CAAC;QAE5D,MAAM,IAAI,GAAG,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,WAAW,EAAE,CAAC;QACxC,MAAM,WAAW,GAAG,QAAQ,CAAC,cAAc,CACvC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,IAAI,GAAG,gCAAU,CAAC,qBAAqB,EAAE,CAAC,CAAC;QAC/E,MAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC1C,GAAG,CAAC,SAAS,GAAG;uFAC+D,GAAG,IAAI,GAAG,MAAM,CAAC;QAChG,GAAG,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;QAE7B,wBAAI,CAAC;YACD,OAAO,EAAE,EAAE,OAAO,EAAE,GAAG,EAAE;YACzB,OAAO,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,KAAK,CAAC;SAChD,CAAC,CAAC;IACP,CAAC;IAED,IAAI;QACA,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,gBAAgB,EAAE,CAAC,CAAC;QAC7D,gCAAU,CAAC,YAAY,CAAE,QAAgB,CAAC,IAAI,CAAC,oBAAoB,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;IACtF,CAAC;CACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0EC9KmB,8gBAA0D,kDAAU,2BAA9B,kBAAmB,0BAAzD,YAA0D,EAApB,8BAAmB,0BAAzD,YAA0D,EAApB,SAAmB,2BAAC,kEAAU;+LA9BxF,8FAAQ,sDACJ,iHAAkB,0DACd,4TAAa,IAAc,iDAC/B,MAAM,iDACN,oHAAoB,0DAChB,oHAAoB,oFAAqB,IAAO,iDACpD,MAAM,iDACN,mHAAmB,KAAM,6CAC7B,MAAS,6CACT,uGAAS,sDACL,uHAAsB,0DAClB,wHAAwB,oFAAmB,IAAM,qDACjD,sIAAqC,8DACjC;;;8QAAmF,iEAC/E,sHAAsB,oFAAoB,IAAM,6DAChD,kJAAkD,KAAI,yDAC1D,MAAI,yDACJ;;;8QAAgF,iEAC5E,sHAAsB,oFAAiB,IAAM,6DAC7C,kJAAkD,KAAI,yDAC1D,MAAI,qDACR,MAAM,iDACV,MAAM,iDACN,uHAAsB,0DAClB,wHAAwB,oFAAqB,IAAM,qDACnD,sIAAqC,8DACjC;;;qIAAqD,iEACjD,wHAAwB,oFAAwB,IAAQ,6DACxD;;;;;wBACiD;MAAzC;;wBAAwC;MADhD,8zBACiD,qEAC7C,ySAA0D,IAAmB,6DACjF,MAAS,yDACb,MAAM,yDACN;;;;;wBAC8C;MAAjB;;wBAAgB;MAD7C,iNAC8C,iEAC1C,sHAAsB,oFAAoB,IAAM,6DAChD,kJAAkD,KAAI,yDAC1D,MAAI,yDACJ;;;;;wBACiD;MAApB;;wBAAmB;MADhD,iNACiD,iEAC7C,sHAAsB,oFAAyB,IAAM,6DACrD,kJAAkD,KAAI,yDAC1D,MAAI,qDACR,MAAM,iDACV,MAAM,iDACN,wHAAsB,0DAClB,yHAAwB,sFAAoB,IAAM,qDAClD,uIAAqC,8DACjC;;;+QAAiD,iEAC7C,uHAAsB,sEAClB,gIAA+B,kIAAkC,KAAU,iEAC3E,iIAAgC,+FAAG,sFAA8B,IAAW,6DAChF,MAAM,6DACN,mGAAM,kJAAkD,KAAW,yDACvE,MAAI,yDACJ;;;;;wBACwD;MAA3B;;wBAA0B;MADvD,mNACwD,iEACpD,uHAAsB,sFAAiC,IAAM,6DAC7D,mJAAkD,KAAI,yDAC1D,MAAI,yDACJ;;;;;wBACgD;MAAnB;;wBAAkB;MAD/C,mNACgD,iEAC5C,uHAAsB,sFAAmB,IAAM,6DAC/C,mJAAkD,KAAI,yDAC1D,MAAI,qDACR,MAAM,iDACV,MAAM,iDACN,wHAAsB,0DAClB,yHAAwB,sFAAkB,IAAM,qDAChD,uIAAqC,8DACjC;;;;;wBACgD;MAAnB;;wBAAkB;MAD/C,mNACgD,iEAC5C,uHAAsB,sFAAwB,IAAM,6DACpD,mJAAkD,KAAI,yDAC1D,MAAI,yDACJ;;;;;wBACgD;MAAnB;;wBAAkB;MAD/C,mNACgD,iEAC5C,uHAAsB,sFAAwB,IAAM,6DACpD,mJAAkD,KAAI,yDAC1D,MAAI,yDACJ;;;;;wBAC+C;MAAlB;;wBAAiB;MAD9C,mNAC+C,iEAC3C,uHAAsB,sFAAuB,IAAM,6DACnD,mJAAkD,KAAI,yDAC1D,MAAI,yDACJ;;;;;wBACkD;MAArB;;wBAAoB;MADjD,mNACkD,iEAC9C,uHAAsB,sFAAwB,IAAM,6DACpD,mJAAkD,KAAI,yDAC1D,MAAI,qDACR,MAAM,iDACV,MAAM,iDACN,wHAAsB,0DAClB,yHAAwB,sFAAkB,IAAM,qDAChD,uIAAqC,8DACjC;;;+QAAmF,iEAC/E,uHAAsB,sFAAoB,IAAM,6DAChD,mJAAkD,KAAI,yDAC1D,MAAI,yDACJ;;;;;wBAC+C;MAAlB;;wBAAiB;MAD9C,mNAC+C,iEAC3C,uHAAsB,sFAAkB,IAAM,6DAC9C,mJAAkD,KAAI,yDAC1D,MAAI,yDACJ;;;;;wBAC8C;MAAjB;;wBAAgB;MAD7C,mNAC8C,iEAC1C,uHAAsB,sFAAyB,IAAM,6DACrD,mJAAkD,KAAI,yDAC1D,MAAI,yDACJ;;;;;wBAC8C;MAAjB;;wBAAgB;MAD7C,mNAC8C,iEAC1C,uHAAsB,sFAA0B,IAAM,6DACtD,mJAAkD,KAAI,yDAC1D,MAAI,qDACR,MAAM,qDACN,yHAAwB,sFAA8B,IAAM,iDAChE,MAAM,6CACV,MAAU,6CACV,mDApHQ,YAAa,GAWoD,0BAAqB,EAAlF,aAAmF,EAAtB,SAAqB,GAIrB,uBAAkB,EAA/E,aAAgF,EAAnB,SAAkB,GAS/E,aAAqD,GAEN,8BAAkB,EAAC,oBAAsB,aAApF,aACiD,EADN,UAAkB,EAAC,UAAsB,GAExE,oBAA6B,cAArC,aAA0D,EAAlD,UAA6B,GAkBlB,2BAAqB,EAAhD,cAAiD,EAAtB,UAAqB,GA+Ca,2BAAqB,EAAlF,cAAmF,EAAtB,UAAqB,2BA1FlE,oIAAqB,GAMjB,kIAAmB,GAEvC,6IAAmF,GACzD,mIAAoB,GAG9C,6IAAgF,GACtD,gIAAiB,GAMvB,sIAAqB,GAGb,yIAAwB,GAChD,yhBACiD,GAM3B,qIAAoB,GAKpB,0IAAyB,GAM/B,wIAAoB,GAExC,oJAAiD,GAGN,kJAA8B,GAM/C,qJAAiC,GAKjC,uIAAmB,GAMzB,sIAAkB,GAIZ,4IAAwB,GAKxB,4IAAwB,GAKxB,2IAAuB,GAKvB,4IAAwB,GAM9B,sIAAkB,GAEtC,oJAAmF,GACzD,wIAAoB,GAKpB,sIAAkB,GAKlB,6IAAyB,GAKzB,8IAA0B,GAIhC,kJAA8B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qECnH9D,qDACQ,ihBAAmD,IAAoB,qDACvE,2HAAwC,8DACpC,kYAA2B,IAAgB,qDAC/C,mDAHmB,mBAA+B,gBAAlD,YAAmD,EAAhC,SAA+B,GAE9C,YAA2B,mDADzB,wDAAiC,IAAvC,YAAwC,EAAlC,SAAiC;;;;;;ACFxC;CAGN;;;ACDM;CAKN;;;ACPM;CAKN;;;;;;;;;;;;;;;ACF6D;AAEvD,MAAM,uCAAmB,SAAQ,uCAAa;IACjD,YAAoB,iBAAgC,EAAE,aAA4B,EAC9E,oBAA0C;QAC1C,KAAK,CAAC,aAAa,EAAE,oBAAoB,CAAC,CAAC;QAF3B,sBAAiB,GAAjB,iBAAiB,CAAe;IAGpD,CAAC;IAED,UAAU;QACN,MAAM,IAAI,KAAK,CAAC,gBAAgB,CAAC,CAAC;IACtC,CAAC;IAED,YAAY;QACR,MAAM,IAAI,KAAK,CAAC,gBAAgB,CAAC,CAAC;IACtC,CAAC;IAED,iBAAiB;QACb,OAAO,IAAI,CAAC,iBAAiB,CAAC,iBAAiB,EAAE,CAAC;IACtD,CAAC;CACJ;;;;;;;;;;;ACRqD;AAEM;AACI;AACA;AAEE;AACQ;AACR;AACU;AACV;AACA;AACJ;AACA;AAEkB;AACU;AACV;AAEV;AAEF;AACN;AACE;AACF;AACA;AAEiB;AACD;AAEpB;AACU;AAER;AAEX;AAEW;AACF;AAE1D,sBAAyB,OAAe;IACpC,OAAO,GAAM,EAAE;QACX,MAAM,IAAI,GAAG,gCAAU,CAAC,iBAAiB,EAAE,CAAC;QAC5C,OAAO,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAM,CAAC,CAAC,CAAC,IAAI,CAAC;IAC1D,CAAC,CAAC;AACN,CAAC;AAEM,MAAM,4BAAY,GAAG,IAAI,qCAAY,EAAE,CAAC;AACxC,MAAM,gCAAgB,GAAG,IAAI,2CAAuB,EAAE,CAAC;AACvD,MAAM,2BAAW,GAAG,IAAI,mCAAW,CAAC,YAAY,CAAgB,eAAe,CAAC,EAAE,EACrF,YAAY,CAAa,YAAY,CAAC,EAAE,EAAE,YAAY,CAAc,aAAa,CAAC,EAAE,EACpF,YAAY,CAAe,cAAc,CAAC,EAAE,EAAE,YAAY,CAAe,cAAc,CAAC,EAAE,EAC1F,YAAY,CAAc,aAAa,CAAC,EAAE,EAAE,YAAY,CAAuB,sBAAsB,CAAC,EAAE,EACxG,gCAAgB,CAAC,CAAC;AACf,MAAM,6BAAa,GAAG,IAAI,uCAAkB,CAAC,YAAY,CAAgB,eAAe,CAAC,EAAE,EAC9F,YAAY,CAAgB,eAAe,CAAC,EAAE,EAAE,YAAY,CAAuB,sBAAsB,CAAC,EAAE,CAAC,CAAC;AAE3G,qBAAqB,WAAwB,EAAE,cAA8B,EAChF,iBAAoC;IACpC,OAAO,GAAS,EAAE,CAAC;QACf,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;YACpC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;SACnD;aAAM,IAAI,MAAM,CAAC,MAAM,CAAC,WAAW,GAAG,GAAG,EAAE;YACxC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;SACjD;aAAM,IAAI,MAAM,CAAC,MAAM,CAAC,WAAW,IAAI,GAAG,EAAE;YACzC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;SACjD;QAED,IAAI,gCAAU,CAAC,iBAAiB,EAAE,IAAI,IAAI,EAAE;YACxC,4BAAY,CAAC,IAAI,CAAC,6CAAgB,CAAC,iBAAiB,EAChD,MAAM,cAAc,CAAC,GAAG,CAAU,6CAAgB,CAAC,iBAAiB,CAAC,CAAC,CAAC;YAE3E,IAAI,KAAK,GAAG,MAAM,cAAc,CAAC,GAAG,CAAS,6CAAgB,CAAC,QAAQ,CAAC,CAAC;YACxE,IAAI,KAAK,IAAI,IAAI,EAAE;gBACf,KAAK,GAAG,OAAO,CAAC;aACnB;YACD,MAAM,CAAC,QAAQ,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,WAAW,CAAC,iBAAiB,CAAC,CAAC;YACzF,MAAM,CAAC,QAAQ,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,GAAG,KAAK,CAAC,CAAC;YAEhE,2BAAW,CAAC,IAAI,EAAE,CAAC;YAEnB,MAAM,SAAS,GAAG,IAAI,mCAAS,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,gCAAU,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE;gBACxF,MAAM,MAAM,GAAG,gCAAU,CAAC,iBAAiB,EAAE,CAAC;gBAC9C,IAAI,MAAM,IAAI,IAAI,IAAI,MAAM,CAAC,aAAa,IAAI,IAAI,EAAE;oBAChD,MAAM,IAAI,KAAK,CAAC,sCAAsC,CAAC,CAAC;iBAC3D;gBACD,OAAO,MAAM,CAAC,aAAa,CAAC;YAChC,CAAC,CAAC,CAAC;SACN;IACL,CAAC,EAAC;AACN,CAAC;WAiB4C,YAAY,CAAe,cAAc,CAAC,OACzC,YAAY,CAAgB,eAAe,CAAC,OAC5C,YAAY,CAAgB,eAAe,CAAC,OACxC,YAAY,CAAoB,mBAAmB,CAAC,OACnD,YAAY,CAAqB,oBAAoB,CAAC,OAC7D,YAAY,CAAc,aAAa,CAAC,OACvC,YAAY,CAAe,cAAc,CAAC,OAC3C,YAAY,CAAc,aAAa,CAAC,OACtC,YAAY,CAAgB,eAAe,CAAC,OAGlE,YAAY,CAAuB,sBAAsB,CAAC,QAK1D,YAAY,CAA4B,2BAA2B,CAAC,QAGjD,YAAY,CAAa,YAAY,CAAC,QACrC,YAAY,CAAc,aAAa,CAAC,QACxC,YAAY,CAAc,aAAa,CAAC,QACpC,YAAY,CAAkB,iBAAiB,CAAC,QACpD,YAAY,CAAc,aAAa,CAAC,QACrC,YAAY,CAAiB,gBAAgB,CAAC,QAChD,YAAY,CAAe,cAAc,CAAC,QACvC,YAAY,CAAkB,iBAAiB,CAAC,QAClD,YAAY,CAAgB,eAAe,CAAC,QAGlE,YAAY,CAAuB,sBAAsB,CAAC,QAW1D,GAAG,EAAE,CAAC,YAAY,CAAc,aAAa,CAAC,EAAE,CAAC,iBAAiB;AAKnF;CACN;;;;;;;;;;;;;;;;;;;;;ACpKwB;AAEyC;AACM;AACV;AAGvD;IACH,YAAoB,aAA4B,EAAU,WAAwB,EAAU,MAAc,EAC9F,gBAAkC;QAD1B,kBAAa,GAAb,aAAa,CAAe;QAAU,gBAAW,GAAX,WAAW,CAAa;QAAU,WAAM,GAAN,MAAM,CAAQ;QAC9F,qBAAgB,GAAhB,gBAAgB,CAAkB;IAAI,CAAC;IAE7C,WAAW;;YACb,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,eAAe,EAAE,CAAC;YAC1D,IAAI,CAAC,QAAQ,EAAE;gBACX,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBACrC,OAAO,KAAK,CAAC;aAChB;YAED,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC;YACjD,IAAI,CAAC,MAAM,EAAE;gBACT,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;gBAC/B,OAAO,KAAK,CAAC;aAChB;YAED,OAAO,IAAI,CAAC;QAChB,CAAC;KAAA;CACJ;;;;;;;;;;;AC9BqD;AAM7B;AAEyC;AACJ;AAGvD,MAAM,uCAAkB;IAC3B,YAAoB,aAA4B,EAAU,WAAwB,EAAU,MAAc;QAAtF,kBAAa,GAAb,aAAa,CAAe;QAAU,gBAAW,GAAX,WAAW,CAAa;QAAU,WAAM,GAAN,MAAM,CAAQ;IAAI,CAAC;IAEzG,WAAW;;YACb,IAAI,gCAAU,CAAC,iBAAiB,EAAE,IAAI,IAAI,EAAE;gBACxC,IAAI,gCAAU,CAAC,QAAQ,EAAE;oBACrB,2BAA2B;oBAC3B,OAAO,CAAC,GAAG,CAAC,8CAA8C,CAAC,CAAC;iBAC/D;gBACD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;gBACvC,OAAO,KAAK,CAAC;aAChB;YAED,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,eAAe,EAAE,CAAC;YAC1D,IAAI,CAAC,QAAQ,EAAE;gBACX,OAAO,IAAI,CAAC;aACf;YAED,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC;YACjD,IAAI,CAAC,MAAM,EAAE;gBACT,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;aAClC;iBAAM;gBACH,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;aAC1C;YAED,OAAO,KAAK,CAAC;QACjB,CAAC;KAAA;CACJ;;;ACnCwB;AAEoD;AAER;AAEG;AACd;AACA;AACA;AACE;AACM;AACkB;AACf;AACgC;AACf;AACtB;AACF;AACgB;AACd;AACA;AACA;AACE;AACR;AACT;AACa;AACO;AACR;AACO;AACH;AACa;AACvB;6BAiBzC,EAAE,KAAK,EAAE,MAAM,EAAE,yBAMjB,EAAE,KAAK,EAAE,OAAO,EAAE,yBAKlB,EAAE,KAAK,EAAE,MAAM,EAAE,yBAMjB,EAAE,KAAK,EAAE,KAAK,EAAE,yBAMhB,EAAE,KAAK,EAAE,aAAa,EAAE,yBAMxB,EAAE,KAAK,EAAE,UAAU,EAAE,yBAMrB,EAAE,KAAK,EAAE,MAAM,EAAE,yBAMjB,EAAE,KAAK,EAAE,aAAa,EAAE,yBAMxB,EAAE,KAAK,EAAE,SAAS,EAAE,yBAMpB,EAAE,KAAK,EAAE,aAAa,EAAE,0BAMxB,EAAE,KAAK,EAAE,yBAAyB,EAAE,0BAMpC,EAAE,KAAK,EAAE,YAAY,EAAE,0BAMvB,EAAE,KAAK,EAAE,aAAa,EAAE,0BAMxB,EAAE,KAAK,EAAE,aAAa,EAAE,0BAMxB,EAAE,KAAK,EAAE,WAAW,EAAE,0BAMtB,EAAE,KAAK,EAAE,mBAAmB,EAAE,0BAM9B,EAAE,KAAK,EAAE,QAAQ,EAAE,0BAMnB,EAAE,KAAK,EAAE,SAAS,EAAE,0BAMpB,EAAE,KAAK,EAAE,YAAY,EAAE,0BAMvB,EAAE,KAAK,EAAE,aAAa,EAAE,0BAMxB,EAAE,KAAK,EAAE,MAAM,EAAE,0BAMjB,EAAE,KAAK,EAAE,SAAS,EAAE,QAMpB,EAAE,KAAK,EAAE,SAAS,EAAE,QAKpB,EAAE,KAAK,EAAE,cAAc,EAAE,QAKzB,EAAE,KAAK,EAAE,MAAM,EAAE,QAWT,EAAE,KAAK,EAAE,cAAc,EAAE,QAMzB,EAAE,KAAK,EAAE,YAAY,EAAE,QAMvB,EAAE,KAAK,EAAE,gBAAgB,EAAE,QAM3B,EAAE,KAAK,EAAE,eAAe,EAAE;AAzLhD,MAAM,MAAM,GAAW;IACnB;QACI,IAAI,EAAE,EAAE;QACR,UAAU,EAAE,MAAM;QAClB,SAAS,EAAE,MAAM;KACpB;IACD;QACI,IAAI,EAAE,OAAO;QACb,UAAU,EAAE,aAAa;QACzB,SAAS,EAAE,MAAM;KACpB;IACD;QACI,IAAI,EAAE,MAAM;QACZ,SAAS,EAAE,aAAa;QACxB,WAAW,EAAE,CAAC,uCAAkB,CAAC;QACjC,IAAI,EAAE,oBAAiB;KAC1B;IACD;QACI,IAAI,EAAE,OAAO;QACb,SAAS,EAAE,uCAAc;QACzB,WAAW,EAAE,CAAC,uCAAkB,CAAC;QACjC,IAAI,EAAE,oBAAkB;KAC3B;IACD;QACI,IAAI,EAAE,MAAM;QACZ,SAAS,EAAE,qCAAa;QACxB,IAAI,EAAE,oBAAiB;KAC1B;IACD;QACI,IAAI,EAAE,KAAK;QACX,SAAS,EAAE,gDAAkB;QAC7B,WAAW,EAAE,CAAC,uCAAkB,CAAC;QACjC,IAAI,EAAE,oBAAgB;KACzB;IACD;QACI,IAAI,EAAE,aAAa;QACnB,SAAS,EAAE,+DAAyB;QACpC,WAAW,EAAE,CAAC,uCAAkB,CAAC;QACjC,IAAI,EAAE,oBAAwB;KACjC;IACD;QACI,IAAI,EAAE,UAAU;QAChB,SAAS,EAAE,6CAAiB;QAC5B,WAAW,EAAE,CAAC,uCAAkB,CAAC;QACjC,IAAI,EAAE,oBAAqB;KAC9B;IACD;QACI,IAAI,EAAE,MAAM;QACZ,SAAS,EAAE,qCAAa;QACxB,WAAW,EAAE,CAAC,uCAAkB,CAAC;QACjC,IAAI,EAAE,oBAAiB;KAC1B;IACD;QACI,IAAI,EAAE,aAAa;QACnB,SAAS,EAAE,mDAAoB;QAC/B,WAAW,EAAE,CAAC,uCAAkB,CAAC;QACjC,IAAI,EAAE,oBAAwB;KACjC;IACD;QACI,IAAI,EAAE,SAAS;QACf,SAAS,EAAE,wCAAgB;QAC3B,WAAW,EAAE,CAAC,gBAAgB,CAAC;QAC/B,IAAI,EAAE,oBAAoB;KAC7B;IACD;QACI,IAAI,EAAE,aAAa;QACnB,SAAS,EAAE,kCAAa;QACxB,WAAW,EAAE,CAAC,gBAAgB,CAAC;QAC/B,IAAI,EAAE,oBAAwB;KACjC;IACD;QACI,IAAI,EAAE,yBAAyB;QAC/B,SAAS,EAAE,yDAAwB;QACnC,WAAW,EAAE,CAAC,gBAAgB,CAAC;QAC/B,IAAI,EAAE,qBAAoC;KAC7C;IACD;QACI,IAAI,EAAE,YAAY;QAClB,SAAS,EAAE,yCAAgB;QAC3B,WAAW,EAAE,CAAC,gBAAgB,CAAC;QAC/B,IAAI,EAAE,qBAAuB;KAChC;IACD;QACI,IAAI,EAAE,aAAa;QACnB,SAAS,EAAE,yCAAgB;QAC3B,WAAW,EAAE,CAAC,gBAAgB,CAAC;QAC/B,IAAI,EAAE,qBAAwB;KACjC;IACD;QACI,IAAI,EAAE,aAAa;QACnB,SAAS,EAAE,gDAAoB;QAC/B,WAAW,EAAE,CAAC,gBAAgB,CAAC;QAC/B,IAAI,EAAE,qBAAwB;KACjC;IACD;QACI,IAAI,EAAE,WAAW;QACjB,SAAS,EAAE,iEAA0B;QACrC,WAAW,EAAE,CAAC,gBAAgB,CAAC;QAC/B,IAAI,EAAE,qBAAsB;KAC/B;IACD;QACI,IAAI,EAAE,mBAAmB;QACzB,SAAS,EAAE,gFAAiC;QAC5C,WAAW,EAAE,CAAC,gBAAgB,CAAC;QAC/B,IAAI,EAAE,qBAA8B;KACvC;IACD;QACI,IAAI,EAAE,QAAQ;QACd,SAAS,EAAE,yCAAe;QAC1B,WAAW,EAAE,CAAC,gBAAgB,CAAC;QAC/B,IAAI,EAAE,qBAAmB;KAC5B;IACD;QACI,IAAI,EAAE,SAAS;QACf,SAAS,EAAE,gBAAgB;QAC3B,WAAW,EAAE,CAAC,gBAAgB,CAAC;QAC/B,IAAI,EAAE,qBAAoB;KAC7B;IACD;QACI,IAAI,EAAE,YAAY;QAClB,SAAS,EAAE,yDAAsB;QACjC,WAAW,EAAE,CAAC,gBAAgB,CAAC;QAC/B,IAAI,EAAE,qBAAuB;KAChC;IACD;QACI,IAAI,EAAE,aAAa;QACnB,SAAS,EAAE,yDAAsB;QACjC,WAAW,EAAE,CAAC,gBAAgB,CAAC;QAC/B,IAAI,EAAE,qBAAwB;KACjC;IACD;QACI,IAAI,EAAE,MAAM;QACZ,SAAS,EAAE,aAAa;QACxB,WAAW,EAAE,CAAC,gBAAgB,CAAC;QAC/B,IAAI,EAAE,qBAAiB;KAC1B;IACD;QACI,IAAI,EAAE,SAAS;QACf,SAAS,EAAE,2CAAgB;QAC3B,WAAW,EAAE,CAAC,gBAAgB,CAAC;QAC/B,IAAI,EAAE,qBAAoB;KAC7B;IACD;QACI,IAAI,EAAE,SAAS;QACf,SAAS,EAAE,kCAAgB;QAC3B,WAAW,EAAE,CAAC,gBAAgB,CAAC;QAC/B,IAAI,KAAsB;KAC7B;IACD;QACI,IAAI,EAAE,cAAc;QACpB,SAAS,EAAE,2CAAoB;QAC/B,IAAI,KAA2B;KAClC;IACD;QACI,IAAI,EAAE,MAAM;QACZ,SAAS,EAAE,aAAa;QACxB,IAAI,KAAmB;QACvB,QAAQ,EAAE;YACN;gBACI,IAAI,EAAE,EAAE;gBACR,UAAU,EAAE,aAAa;gBACzB,SAAS,EAAE,MAAM;aACpB;YACD;gBACI,IAAI,EAAE,SAAS;gBACf,SAAS,EAAE,yCAAmB;gBAC9B,WAAW,EAAE,CAAC,gBAAgB,CAAC;gBAC/B,IAAI,KAA2B;aAClC;YACD;gBACI,IAAI,EAAE,OAAO;gBACb,SAAS,EAAE,4CAAkB;gBAC7B,WAAW,EAAE,CAAC,gBAAgB,CAAC;gBAC/B,IAAI,KAAyB;aAChC;YACD;gBACI,IAAI,EAAE,WAAW;gBACjB,SAAS,EAAE,iEAA0B;gBACrC,WAAW,EAAE,CAAC,gBAAgB,CAAC;gBAC/B,IAAI,KAA6B;aACpC;YACD;gBACI,IAAI,EAAE,UAAU;gBAChB,SAAS,EAAE,oCAAiB;gBAC5B,WAAW,EAAE,CAAC,gBAAgB,CAAC;gBAC/B,IAAI,KAA4B;aACnC;SACJ;KACJ;CACJ,CAAC;AASK;CAA0B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3Oc;AAEpB;AAE3B,2BAA2B;AAC3B,mBAAO,CAAC,GAAmB,CAAC,CAAC;AAEsB;;;AAGnD,IAAI,IAAgC,EAAE;IAClC,uCAAc,EAAE,CAAC;CACpB;AAED;IACI,IAAI,gCAAU,CAAC,QAAQ,EAAE;QACrB,MAAM,OAAO,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,KAAK,EAAE,IAAI,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACjG,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC,CAAC;QAC5D,IAAI,OAAO,EAAE;YACT,MAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,qBAAqB,EAAE,CAAC;YACxE,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC;gBAClB,GAAG,EAAE,oCAAoC;gBACzC,IAAI,EAAE,OAAO;gBACb,KAAK,EAAE,QAAQ,CAAC,KAAK,GAAG,EAAE;gBAC1B,MAAM,EAAE,QAAQ,CAAC,MAAM;aAC1B,CAAC,CAAC;YACH,gCAAU,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;YAC9B,OAAO;SACV;KACJ;IAED,6CAAwB,uBAAgB,CAAC,oBAAW,EAAE,mBAAmB,EAAE,IAAI,EAAE,CAAC,CAAC;AACvF,CAAC;AAED,IAAI,EAAE,CAAC;;;;;;;;;AClCP;AAAA,IAAY,qBAQX;AARD,WAAY,qBAAqB;IAC7B,mFAAiB;IACjB,mEAAS;IACT,+DAAO;IACP,uEAAW;IACX,+DAAO;IACP,yEAAY;IACZ,uFAAmB;AACvB,CAAC,EARW,qBAAqB,KAArB,qBAAqB,QAQhC;;;;;;;;;;;;;;;;;;ACRM;IASH,MAAM,CAAO,yBAAyB;;YAClC,IAAI,UAAU,CAAC,WAAW,EAAE;gBACxB,OAAO,MAAM,UAAU,CAAC,cAAc,CAAC;oBACnC,MAAM,EAAE,IAAI;oBACZ,QAAQ,EAAE,MAAM,CAAC,OAAO,CAAC,iBAAiB;iBAC7C,CAAC,CAAC;aACN;iBAAM,IAAI,UAAU,CAAC,WAAW,EAAE;gBAC/B,OAAO,MAAM,UAAU,CAAC,uBAAuB,EAAE,CAAC;aACrD;QACL,CAAC;KAAA;IAED,MAAM,CAAO,uBAAuB;;YAChC,OAAO,MAAM,UAAU,CAAC,cAAc,CAAC;gBACnC,MAAM,EAAE,IAAI;gBACZ,aAAa,EAAE,IAAI;aACtB,CAAC,CAAC;QACP,CAAC;KAAA;IAED,MAAM,CAAO,aAAa;;YACtB,OAAO,MAAM,UAAU,CAAC,SAAS,CAAC;gBAC9B,MAAM,EAAE,IAAI;aACf,CAAC,CAAC;QACP,CAAC;KAAA;IAED,MAAM,CAAC,SAAS,CAAC,OAAY;QACzB,IAAI,UAAU,CAAC,WAAW,EAAE;YACxB,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;gBAC3B,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,IAAW,EAAE,EAAE;oBACvC,OAAO,CAAC,IAAI,CAAC,CAAC;gBAClB,CAAC,CAAC,CAAC;YACP,CAAC,CAAC,CAAC;SACN;aAAM,IAAI,UAAU,CAAC,WAAW,EAAE;YAC/B,IAAI,IAAI,GAAU,EAAE,CAAC;YACrB,IAAI,OAAO,CAAC,aAAa,EAAE;gBACvB,IAAI,MAAM,CAAC,WAAW,CAAC,mBAAmB,EAAE;oBACxC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,mBAAmB,CAAC,CAAC;iBACrD;aACJ;iBAAM;gBACH,IAAI,GAAG,MAAM,CAAC,WAAW,CAAC,cAAc,CAAC;aAC5C;YAED,MAAM,YAAY,GAAU,EAAE,CAAC;YAC/B,IAAI,CAAC,OAAO,CAAC,CAAC,GAAQ,EAAE,EAAE;gBACtB,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE;oBACX,OAAO;iBACV;gBAED,IAAI,OAAO,CAAC,MAAM,IAAI,GAAG,CAAC,SAAS,EAAE;oBACjC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;iBAC9D;qBAAM,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;oBACxB,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAQ,EAAE,EAAE;wBAC1B,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,CAAC;oBACrD,CAAC,CAAC,CAAC;iBACN;YACL,CAAC,CAAC,CAAC;YAEH,OAAO,OAAO,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;SACxC;IACL,CAAC;IAED,MAAM,CAAO,cAAc,CAAC,OAAY;;YACpC,MAAM,IAAI,GAAG,MAAM,UAAU,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;YACjD,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;gBACjB,OAAO,IAAI,CAAC,CAAC,CAAC,CAAC;aAClB;YAED,OAAO,IAAI,CAAC;QAChB,CAAC;KAAA;IAED,MAAM,CAAC,kBAAkB,CAAC,GAAQ,EAAE,OAAe,EAAE,OAAY,IAAI;QACjE,MAAM,GAAG,GAAQ;YACb,OAAO,EAAE,OAAO;SACnB,CAAC;QAEF,IAAI,IAAI,IAAI,IAAI,EAAE;YACd,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC;SACnB;QAED,OAAO,UAAU,CAAC,cAAc,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;IAC/C,CAAC;IAED,MAAM,CAAC,cAAc,CAAC,GAAQ,EAAE,GAAQ,EAAE,UAAe,IAAI;QACzD,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE;YACjB,OAAO;SACV;QAED,IAAI,UAAU,CAAC,WAAW,EAAE;YACxB,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;gBAC3B,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,EAAE,OAAO,EAAE,GAAG,EAAE;oBAC/C,IAAI,MAAM,CAAC,OAAO,CAAC,SAAS,EAAE;wBAC1B,sBAAsB;qBACzB;oBACD,OAAO,EAAE,CAAC;gBACd,CAAC,CAAC,CAAC;YACP,CAAC,CAAC,CAAC;SACN;aAAM,IAAI,UAAU,CAAC,WAAW,EAAE;YAC/B,IAAI,CAAC,GAAG,GAAG,CAAC,SAAS,CAAC;YACtB,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE;gBACf,MAAM,GAAG,GAAG,MAAM,CAAC,WAAW,CAAC,mBAAmB,CAAC;gBACnD,IAAI,MAAM,CAAC,WAAW,CAAC,cAAc,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,QAAQ,EAAE;oBACjE,OAAO,OAAO,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC;iBAC9C;gBAED,IAAI,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,KAAK,GAAG,CAAC,EAAE;oBACjC,OAAO,OAAO,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;iBAC3C;gBAED,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;aAC3B;YAED,IAAI,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,SAAS,EAAE;gBAC9B,OAAO,GAAG,CAAC,GAAG,CAAC,SAAS,CAAC;aAC5B;YAED,IAAI,OAAO,IAAI,IAAI,IAAI,OAAO,CAAC,OAAO,IAAI,IAAI,IAAI,GAAG,CAAC,gBAAgB,IAAI,IAAI,EAAE;gBAC5E,GAAG,CAAC,gBAAgB,GAAG,OAAO,CAAC,OAAO,CAAC;aAC1C;YAED,IAAI,CAAC,CAAC,IAAI,EAAE;gBACR,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC;aAC5C;YAED,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;SAC5B;IACL,CAAC;IAED,MAAM,CAAC,iBAAiB;QACpB,IAAI,UAAU,CAAC,WAAW,EAAE;YACxB,OAAO,MAAM,CAAC,SAAS,CAAC,iBAAiB,EAAE,CAAC;SAC/C;aAAM,IAAI,UAAU,CAAC,WAAW,EAAE;YAC/B,OAAO,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,aAAa,CAAC;SACpD;aAAM;YACH,OAAO,IAAI,CAAC;SACf;IACL,CAAC;IAED,MAAM,CAAC,qBAAqB;QACxB,IAAI,UAAU,CAAC,WAAW,EAAE;YACxB,OAAO,MAAM,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC;SAC/C;aAAM,IAAI,UAAU,CAAC,WAAW,EAAE;YAC/B,OAAO,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC;SAC1C;aAAM;YACH,OAAO,IAAI,CAAC;SACf;IACL,CAAC;IAED,MAAM,CAAC,WAAW;QACd,IAAI,UAAU,CAAC,WAAW,EAAE;YACxB,OAAO,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;SAClE;aAAM,IAAI,UAAU,CAAC,WAAW,EAAE;YAC/B,OAAO,MAAM,CAAC,SAAS,CAAC,QAAQ,IAAI,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM;gBAChE,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;SAC5C;aAAM;YACH,OAAO,IAAI,CAAC;SACf;IACL,CAAC;IAED,MAAM,CAAC,YAAY,CAAC,GAAW,EAAE,gBAAyB,KAAK;QAC3D,IAAI,UAAU,CAAC,WAAW,EAAE;YACxB,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;YACjC,OAAO,IAAI,CAAC;SACf;aAAM,IAAI,UAAU,CAAC,WAAW,EAAE;YAC/B,IAAI,aAAa,IAAI,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;gBACzC,GAAG,GAAG,UAAU,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;aACrC;YACD,MAAM,GAAG,GAAG,MAAM,CAAC,WAAW,CAAC,mBAAmB,CAAC,OAAO,EAAE,CAAC;YAC7D,IAAI,GAAG,EAAE;gBACL,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC;aACjB;YACD,OAAO,GAAG,CAAC;SACd;aAAM;YACH,OAAO;SACV;IACL,CAAC;IAED,MAAM,CAAC,WAAW,CAAC,IAAY;QAC3B,IAAI,UAAU,CAAC,WAAW,EAAE;YACxB,OAAO,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;SACxC;aAAM,IAAI,UAAU,CAAC,WAAW,EAAE;YAC/B,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;gBACzB,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;aACzB;YACD,OAAO,MAAM,CAAC,SAAS,CAAC,OAAO,GAAG,IAAI,CAAC;SAC1C;aAAM;YACH,OAAO,IAAI,CAAC;SACf;IACL,CAAC;IAED,MAAM,CAAC,eAAe,CAAC,QAA4D;QAC/E,IAAI,UAAU,CAAC,WAAW,EAAE;YACxB,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,GAAQ,EAAE,MAAW,EAAE,QAAa,EAAE,EAAE;gBAC1E,QAAQ,CAAC,GAAG,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;YACpC,CAAC,CAAC,CAAC;SACN;aAAM,IAAI,UAAU,CAAC,WAAW,EAAE;YAC/B,MAAM,CAAC,WAAW,CAAC,gBAAgB,CAAC,SAAS,EAAE,CAAO,QAAa,EAAE,EAAE;gBACnE,QAAQ,CAAC,QAAQ,CAAC,OAAO,EAAE;oBACvB,GAAG,EAAE,UAAU,CAAC,aAAa,CAAC,QAAQ,CAAC,MAAM,CAAC;oBAC9C,OAAO,EAAE,QAAQ,CAAC,OAAO,IAAI,IAAI,IAAI,QAAQ,CAAC,OAAO,CAAC,gBAAgB,IAAI,IAAI,CAAC,CAAC;wBAC5E,QAAQ,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC,CAAC,IAAI;iBAC/C,EAAE,GAAG,EAAE,GAAgC,CAAC,CAAC,CAAC;YAC/C,CAAC,GAAE,KAAK,CAAC,CAAC;SACb;IACL,CAAC;IAED,MAAM,CAAC,UAAU,CAAC,GAAW;QACzB,IAAI,UAAU,CAAC,kBAAkB,IAAI,UAAU,CAAC,kBAAkB,EAAE;YAChE,yEAAyE;YACzE,oFAAoF;YACpF,4DAA4D;YAC5D,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;SAC5D;aAAM,IAAI,UAAU,CAAC,kBAAkB,IAAI,UAAU,CAAC,WAAW,EAAE;YAChE,GAAG,CAAC,KAAK,EAAE,CAAC;SACf;aAAM,IAAI,UAAU,CAAC,WAAW,IAAI,MAAM,CAAC,SAAS,CAAC,QAAQ,IAAI,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;YACpG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;SACvC;IACL,CAAC;IAED,MAAM,CAAC,YAAY,CAAC,GAAW,EAAE,QAAa,EAAE,WAAgB,EAAE,QAAgB;QAC9E,IAAI,UAAU,CAAC,WAAW,EAAE;YACxB,MAAM,GAAG,GAAG,UAAU,CAAC,YAAY,CAAC,UAAU,CAAC,WAAW,CAAC,uBAAuB,CAAC,CAAC,CAAC;YACrF,MAAM,SAAS,GAAG,UAAU,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YAChD,UAAU,CAAC,GAAS,EAAE;gBAClB,UAAU,CAAC,cAAc,CAAC,SAAS,EAAE;oBACjC,OAAO,EAAE,oBAAoB;oBAC7B,IAAI,EAAE;wBACF,QAAQ,EAAE,QAAQ;wBAClB,WAAW,EAAE,WAAW;wBACxB,QAAQ,EAAE,QAAQ;qBACrB;iBACJ,CAAC,CAAC;YACP,CAAC,GAAE,IAAI,CAAC,CAAC;SACZ;aAAM;YACH,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,QAAQ,CAAC,EAAE,WAAW,CAAC,CAAC;YAC/C,IAAI,SAAS,CAAC,gBAAgB,EAAE;gBAC5B,SAAS,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;aACxC;iBAAM;gBACH,MAAM,CAAC,GAAG,GAAG,CAAC,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;gBAC1C,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;gBACvC,CAAC,CAAC,QAAQ,GAAG,QAAQ,CAAC;gBACtB,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;gBACjC,CAAC,CAAC,KAAK,EAAE,CAAC;gBACV,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;aACpC;SACJ;IACL,CAAC;IAED,MAAM,CAAC,aAAa,CAAC,GAAQ;QACzB,IAAI,UAAU,CAAC,WAAW,EAAE;YACxB,OAAO,GAAG,CAAC;SACd;QAED,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE;YACpB,OAAO,EAAE,CAAC;SACb;QAED,MAAM,QAAQ,GAAG,MAAM,CAAC,WAAW,CAAC,cAAc,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QAC9E,MAAM,QAAQ,GAAG,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QACrD,OAAO;YACH,EAAE,EAAE,QAAQ,GAAG,GAAG,GAAG,QAAQ;YAC7B,KAAK,EAAE,QAAQ;YACf,QAAQ,EAAE,QAAQ;YAClB,KAAK,EAAE,GAAG,CAAC,KAAK;YAChB,MAAM,EAAE,GAAG,KAAK,GAAG,CAAC,aAAa,CAAC,SAAS;YAC3C,GAAG,EAAE,GAAG,CAAC,GAAG,IAAI,aAAa;YAC7B,SAAS,EAAE,GAAG;SACjB,CAAC;IACN,CAAC;IAED,MAAM,CAAC,QAAQ;QACX,OAAO,YAAe,KAAK,YAAY;YACnC,CAAC,UAAU,CAAC,WAAW,IAAI,MAAM,CAAC,WAAW,CAAC,mBAAmB,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;IAC7F,CAAC;IAED,MAAM,CAAC,aAAa,CAAC,GAAW;QAC5B,IAAI,UAAU,CAAC,WAAW,EAAE;YACxB,OAAO,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC;SACjC;aAAM;YACH,OAAO,MAAM,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC;SACtC;IACL,CAAC;;AA/RM,6BAAkB,GAAY,CAAC,OAAO,OAAO,KAAK,WAAW,CAAC,CAAC;AAC/D,sBAAW,GAAY,CAAC,OAAO,MAAM,KAAK,WAAW,CAAC;IACzD,SAAS,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,IAAI,SAAS,CAAC,SAAS,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;AAC5F,sBAAW,GAAY,CAAC,UAAU,CAAC,WAAW,IAAI,CAAC,OAAO,MAAM,KAAK,WAAW,CAAC,CAAC;AAClF,6BAAkB,GAAY,SAAS,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;IAC/E,SAAS,CAAC,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;AAC3C,mBAAQ,GAAY,SAAS,CAAC,SAAS,CAAC,OAAO,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC;;;;;;;;;ACP/E;AAAA;AAAoD;AAa7C;IAqBH,YAAY,CAAU;QAdtB,aAAQ,GAAG,KAAK,CAAC;QACjB,wBAAmB,GAAG,KAAK,CAAC;QAC5B,SAAI,GAAG,KAAK,CAAC;QAaT,IAAI,CAAC,CAAC,EAAE;YACJ,OAAO;SACV;QAED,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC;QACf,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC,cAAc,CAAC;QACvC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC;QAC3B,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC;QAC3B,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC,mBAAmB,CAAC;QACjD,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;QACnB,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;QACnB,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;QAC7B,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,aAAa,CAAC;QACrC,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC;IACvC,CAAC;IAED,IAAI,QAAQ;QACR,QAAQ,IAAI,CAAC,IAAI,EAAE;YACf,KAAK,oEAAU,CAAC,KAAK;gBACjB,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;YAC/B,KAAK,oEAAU,CAAC,UAAU;gBACtB,OAAO,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC;YACpC,KAAK,oEAAU,CAAC,IAAI;gBAChB,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;YAC9B,KAAK,oEAAU,CAAC,QAAQ;gBACpB,OAAO,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC;YAClC;gBACI,MAAM;SACb;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,IAAI,kBAAkB;QAClB,OAAO,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,CAAC;IACnE,CAAC;IAED,IAAI,cAAc;QACd,OAAO,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC;IAC3D,CAAC;IAED,IAAI,SAAS;QACT,OAAO,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;IACjD,CAAC;IAED,IAAI,2BAA2B;QAC3B,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,EAAE;YACpB,OAAO,IAAI,CAAC;SACf;aAAM,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,KAAK,EAAE,EAAE;YAClE,OAAO,IAAI,CAAC;SACf;QACD,OAAO,IAAI,CAAC,KAAK,CAAC,oBAAoB,CAAC;IAC3C,CAAC;CACJ;;;;;;;;;;;;;;ACtFM;IAAP;QACI,cAAS,GAAY,KAAK,CAAC;QAC3B,uBAAkB,GAA2D,IAAI,CAAC;IACtF,CAAC;CAAA;;;ACDM;IAMH,YAAY,KAAa,EAAE,oBAA0C;QACjE,IAAI,CAAC,IAAI,GAAG,oBAAoB,CAAC,SAAS,EAAE,CAAC;QAC7C,IAAI,CAAC,IAAI,GAAG,oBAAoB,CAAC,eAAe,EAAE,CAAC;QACnD,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IAC1B,CAAC;CACJ;;;;;;AChBM;IAGH,YAAY,KAAa;QACrB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACvB,CAAC;CACJ;;;ACFM;IAQH,YAAY,KAAa,EAAE,kBAA0B,EAAE,QAA+B,EAClF,KAAa,EAAE,QAAiB,EAAE,MAAsB;QACxD,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;QAC7C,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,MAAM,GAAG,MAAM,IAAI,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC;IACjD,CAAC;IAED,eAAe,CAAC,QAAgB;QAC5B,MAAM,GAAG,GAAQ;YACb,UAAU,EAAE,UAAU;YACtB,QAAQ,EAAE,IAAI,CAAC,KAAK;YACpB,QAAQ,EAAE,IAAI,CAAC,kBAAkB;YACjC,KAAK,EAAE,oBAAoB;YAC3B,SAAS,EAAE,QAAQ;SACtB,CAAC;QAEF,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;YAClC,GAAG,CAAC,gBAAgB,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC;YAC9C,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;YAClC,sCAAsC;YACtC,+CAA+C;SAClD;QAED,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,EAAE;YACrC,GAAG,CAAC,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC;YAChC,GAAG,CAAC,iBAAiB,GAAG,IAAI,CAAC,QAAQ,CAAC;YACtC,GAAG,CAAC,iBAAiB,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC;SACrD;QAED,OAAO,GAAG,CAAC;IACf,CAAC;CACJ;;;;;;;;;;;;;AC9CsE;AAEd;AAGO;AACJ;AACQ;AACN;AAevD,MAAM,kBAAkB,GAAG;IAC9B,CAAC,sDAAqB,CAAC,aAAa,CAAC,EAAE;QACnC,IAAI,EAAE,sDAAqB,CAAC,aAAa;QACzC,IAAI,EAAE,IAAc;QACpB,WAAW,EAAE,IAAc;QAC3B,QAAQ,EAAE,CAAC;QACX,IAAI,EAAE,CAAC;QACP,OAAO,EAAE,KAAK;KACjB;IACD,CAAC,sDAAqB,CAAC,OAAO,CAAC,EAAE;QAC7B,IAAI,EAAE,sDAAqB,CAAC,OAAO;QACnC,IAAI,EAAE,IAAc;QACpB,WAAW,EAAE,IAAc;QAC3B,QAAQ,EAAE,CAAC;QACX,IAAI,EAAE,CAAC;QACP,OAAO,EAAE,IAAI;KAChB;IACD,CAAC,sDAAqB,CAAC,GAAG,CAAC,EAAE;QACzB,IAAI,EAAE,sDAAqB,CAAC,GAAG;QAC/B,IAAI,EAAE,KAAK;QACX,WAAW,EAAE,IAAc;QAC3B,QAAQ,EAAE,CAAC;QACX,IAAI,EAAE,CAAC;QACP,OAAO,EAAE,IAAI;KAChB;IACD,CAAC,sDAAqB,CAAC,eAAe,CAAC,EAAE;QACrC,IAAI,EAAE,sDAAqB,CAAC,eAAe;QAC3C,IAAI,EAAE,oBAAoB;QAC1B,WAAW,EAAE,IAAc;QAC3B,QAAQ,EAAE,EAAE;QACZ,IAAI,EAAE,CAAC;QACP,OAAO,EAAE,KAAK;KACjB;IACD,CAAC,sDAAqB,CAAC,GAAG,CAAC,EAAE;QACzB,IAAI,EAAE,sDAAqB,CAAC,GAAG;QAC/B,IAAI,EAAE,IAAc;QACpB,WAAW,EAAE,IAAc;QAC3B,QAAQ,EAAE,CAAC;QACX,IAAI,EAAE,CAAC;QACP,OAAO,EAAE,IAAI;KAChB;IACD,CAAC,sDAAqB,CAAC,KAAK,CAAC,EAAE;QAC3B,IAAI,EAAE,sDAAqB,CAAC,KAAK;QACjC,IAAI,EAAE,IAAc;QACpB,WAAW,EAAE,IAAc;QAC3B,QAAQ,EAAE,CAAC;QACX,IAAI,EAAE,CAAC;QACP,OAAO,EAAE,KAAK;KACjB;CACJ,CAAC;AAEK,MAAM,wBAAW;IAUpB,YAAoB,aAA4B,EAAU,UAAsB,EACpE,WAAwB,EAAU,YAA0B,EAC5D,YAA0B,EAAU,WAAwB,EAC5D,oBAA0C,EAAU,gBAAkC,EACtF,gBAAgB,IAAI;QAJZ,kBAAa,GAAb,aAAa,CAAe;QAAU,eAAU,GAAV,UAAU,CAAY;QACpE,gBAAW,GAAX,WAAW,CAAa;QAAU,iBAAY,GAAZ,YAAY,CAAc;QAC5D,iBAAY,GAAZ,YAAY,CAAc;QAAU,gBAAW,GAAX,WAAW,CAAa;QAC5D,yBAAoB,GAApB,oBAAoB,CAAsB;QAAU,qBAAgB,GAAhB,gBAAgB,CAAkB;QACtF,kBAAa,GAAb,aAAa,CAAO;QAVhC,kCAA6B,GAA0B,IAAI,CAAC;IAUxB,CAAC;IAErC,IAAI;QACA,kBAAkB,CAAC,sDAAqB,CAAC,KAAK,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC;QACxF,kBAAkB,CAAC,sDAAqB,CAAC,KAAK,CAAC,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;QAE9F,kBAAkB,CAAC,sDAAqB,CAAC,aAAa,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,uBAAuB,CAAC,CAAC;QAC3G,kBAAkB,CAAC,sDAAqB,CAAC,aAAa,CAAC,CAAC,WAAW;YAC/D,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,sBAAsB,CAAC,CAAC;QAE/C,kBAAkB,CAAC,sDAAqB,CAAC,GAAG,CAAC,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;QAE1F,kBAAkB,CAAC,sDAAqB,CAAC,eAAe,CAAC,CAAC,IAAI;YAC1D,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,cAAc,CAAC,GAAG,GAAG,CAAC;QACvD,kBAAkB,CAAC,sDAAqB,CAAC,eAAe,CAAC,CAAC,WAAW;YACjE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,qBAAqB,CAAC,CAAC;QAE9C,kBAAkB,CAAC,sDAAqB,CAAC,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;QACpF,kBAAkB,CAAC,sDAAqB,CAAC,GAAG,CAAC,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;QAE1F,kBAAkB,CAAC,sDAAqB,CAAC,OAAO,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC;QAC5F,kBAAkB,CAAC,sDAAqB,CAAC,OAAO,CAAC,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC;IACtG,CAAC;IAEK,KAAK,CAAC,KAAa,EAAE,cAAsB;;YAC7C,IAAI,CAAC,6BAA6B,GAAG,IAAI,CAAC;YAC1C,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;YAC9D,MAAM,cAAc,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;YAClF,OAAO,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,cAAc,EAAE,GAAG,CAAC,CAAC;QAC9D,CAAC;KAAA;IAEK,cAAc,CAAC,iBAAwC,EAAE,cAAsB,EACjF,QAAkB;;YAClB,OAAO,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,GAAG,EAAE,iBAAiB,EAC1F,cAAc,EAAE,QAAQ,CAAC,CAAC;QAClC,CAAC;KAAA;IAEK,aAAa,CAAC,KAAa,EAAE,cAAsB,EAAE,iBAAwC,EAC/F,cAAsB,EAAE,QAAkB;;YAC1C,IAAI,CAAC,6BAA6B,GAAG,IAAI,CAAC;YAC1C,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;YAC9D,MAAM,cAAc,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;YAClF,OAAO,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,cAAc,EAAE,GAAG,EAAE,iBAAiB,EAAE,cAAc,EAAE,QAAQ,CAAC,CAAC;QAC3G,CAAC;KAAA;IAED,MAAM,CAAC,QAAkB;QACrB,QAAQ,EAAE,CAAC;QACX,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAC5C,CAAC;IAED,8BAA8B,CAAC,GAAW;QACtC,MAAM,SAAS,GAAU,EAAE,CAAC;QAC5B,IAAI,IAAI,CAAC,kBAAkB,IAAI,IAAI,EAAE;YACjC,OAAO,SAAS,CAAC;SACpB;QAED,IAAI,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,sDAAqB,CAAC,eAAe,CAAC;YAClE,IAAI,CAAC,oBAAoB,CAAC,WAAW,EAAE,EAAE;YACzC,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,sDAAqB,CAAC,eAAe,CAAC,CAAC,CAAC;SAC7E;QAED,IAAI,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,sDAAqB,CAAC,aAAa,CAAC,EAAE;YAClE,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,sDAAqB,CAAC,aAAa,CAAC,CAAC,CAAC;SAC3E;QAED,IAAI,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,sDAAqB,CAAC,OAAO,CAAC,EAAE;YAC5D,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,sDAAqB,CAAC,OAAO,CAAC,CAAC,CAAC;SACrE;QAED,IAAI,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,sDAAqB,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,oBAAoB,CAAC,WAAW,EAAE,EAAE;YACnG,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,sDAAqB,CAAC,GAAG,CAAC,CAAC,CAAC;SACjE;QAED,IAAI,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,sDAAqB,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,oBAAoB,CAAC,WAAW,CAAC,GAAG,CAAC,EAAE;YACtG,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,sDAAqB,CAAC,GAAG,CAAC,CAAC,CAAC;SACjE;QAED,IAAI,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,sDAAqB,CAAC,KAAK,CAAC,EAAE;YAC1D,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,sDAAqB,CAAC,KAAK,CAAC,CAAC,CAAC;SACnE;QAED,OAAO,SAAS,CAAC;IACrB,CAAC;IAED,2BAA2B,CAAC,YAAqB;QAC7C,IAAI,IAAI,CAAC,kBAAkB,IAAI,IAAI,EAAE;YACjC,OAAO,IAAI,CAAC;SACf;QAED,IAAI,IAAI,CAAC,6BAA6B,IAAI,IAAI;YAC1C,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,IAAI,CAAC,6BAA6B,CAAC,EAAE;YACjE,OAAO,IAAI,CAAC,6BAA6B,CAAC;SAC7C;QAED,IAAI,YAAY,GAA0B,IAAI,CAAC;QAC/C,IAAI,gBAAgB,GAAG,CAAC,CAAC,CAAC;QAC1B,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,IAAI,EAAE,EAAE;YAC5C,MAAM,QAAQ,GAAI,kBAA0B,CAAC,IAAI,CAAC,CAAC;YACnD,IAAI,QAAQ,IAAI,IAAI,IAAI,QAAQ,CAAC,QAAQ,GAAG,gBAAgB,EAAE;gBAC1D,IAAI,IAAI,KAAK,sDAAqB,CAAC,GAAG,IAAI,CAAC,YAAY,EAAE;oBACrD,OAAO;iBACV;gBAED,YAAY,GAAG,IAAI,CAAC;gBACpB,gBAAgB,GAAG,QAAQ,CAAC,QAAQ,CAAC;aACxC;QACL,CAAC,CAAC,CAAC;QAEH,OAAO,YAAY,CAAC;IACxB,CAAC;IAEK,eAAe,CAAC,cAAsB,EAAE,KAAa;;YACvD,KAAK,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;YACnC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC;YAChB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;YAC1B,IAAI;gBACA,MAAM,gBAAgB,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,eAAe,CAAC,KAAK,CAAC,CAAC,CAAC;gBACxF,IAAI,gBAAgB,IAAI,IAAI,EAAE;oBAC1B,IAAI,CAAC,GAAG,GAAG,gBAAgB,CAAC,GAAG,CAAC;oBAChC,IAAI,CAAC,aAAa,GAAG,gBAAgB,CAAC,aAAa,CAAC;iBACvD;aACJ;YAAC,OAAO,CAAC,EAAE;gBACR,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,UAAU,KAAK,GAAG,EAAE;oBACnC,MAAM,CAAC,CAAC;iBACX;aACJ;YACD,OAAO,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,cAAc,EAAE,KAAK,EAAE,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;QAC3F,CAAC;KAAA;IAEa,WAAW,CAAC,KAAa,EAAE,cAAsB,EAAE,GAAuB,EACpF,iBAAyC,EAAE,cAAuB,EAAE,QAAkB;;YACtF,MAAM,oBAAoB,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;YAC9E,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;YACjD,MAAM,aAAa,GAAG,IAAI,aAAa,CAAC,KAAK,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;YAE1E,IAAI,OAAqB,CAAC;YAC1B,IAAI,cAAc,IAAI,IAAI,IAAI,iBAAiB,IAAI,IAAI,EAAE;gBACrD,OAAO,GAAG,IAAI,YAAY,CAAC,KAAK,EAAE,cAAc,EAAE,iBAAiB,EAAE,cAAc,EAAE,QAAQ,EACzF,aAAa,CAAC,CAAC;aACtB;iBAAM,IAAI,oBAAoB,IAAI,IAAI,EAAE;gBACrC,OAAO,GAAG,IAAI,YAAY,CAAC,KAAK,EAAE,cAAc,EAAE,sDAAqB,CAAC,QAAQ,EAC5E,oBAAoB,EAAE,KAAK,EAAE,aAAa,CAAC,CAAC;aACnD;iBAAM;gBACH,OAAO,GAAG,IAAI,YAAY,CAAC,KAAK,EAAE,cAAc,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,aAAa,CAAC,CAAC;aACvF;YAED,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;YAElE,IAAI,CAAC,UAAU,EAAE,CAAC;YAClB,MAAM,MAAM,GAAG,IAAI,UAAU,EAAE,CAAC;YAChC,MAAM,CAAC,SAAS,GAAG,CAAE,QAAgB,CAAC,WAAW,CAAC;YAElD,IAAI,MAAM,CAAC,SAAS,EAAE;gBAClB,sBAAsB;gBACtB,MAAM,iBAAiB,GAAG,QAAqC,CAAC;gBAChE,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;gBACnB,IAAI,CAAC,kBAAkB,GAAG,cAAc,CAAC;gBACzC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC;gBAC3C,IAAI,CAAC,kBAAkB,GAAG,iBAAiB,CAAC,mBAAmB,CAAC;gBAChE,MAAM,CAAC,kBAAkB,GAAG,iBAAiB,CAAC,mBAAmB,CAAC;gBAClE,OAAO,MAAM,CAAC;aACjB;YAED,MAAM,aAAa,GAAG,QAAiC,CAAC;YACxD,IAAI,aAAa,CAAC,cAAc,IAAI,IAAI,EAAE;gBACtC,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,aAAa,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;aAC5E;YAED,MAAM,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,aAAa,CAAC,WAAW,EAAE,aAAa,CAAC,YAAY,CAAC,CAAC;YACzF,MAAM,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,EAC7F,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;YAClC,IAAI,IAAI,CAAC,aAAa,EAAE;gBACpB,MAAM,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBACrC,MAAM,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,cAAc,CAAC,CAAC;gBACpD,MAAM,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;gBAEtD,8EAA8E;gBAC9E,IAAI,aAAa,CAAC,UAAU,IAAI,IAAI,EAAE;oBAClC,IAAI;wBACA,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;wBACvD,MAAM,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,IAAI,kCAAW,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;wBAC/F,aAAa,CAAC,UAAU,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC;qBACzD;oBAAC,OAAO,CAAC,EAAE;wBACR,2BAA2B;wBAC3B,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;qBACpB;iBACJ;gBAED,MAAM,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;aACvE;YAED,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YACvC,OAAO,MAAM,CAAC;QAClB,CAAC;KAAA;IAEO,UAAU;QACd,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;QAC/B,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;QAC/B,IAAI,CAAC,6BAA6B,GAAG,IAAI,CAAC;IAC9C,CAAC;CACJ;;;;;;;;;AC1RD;AAAA;AAAyC;AAElC;IAOH,gBAAgB;IAEhB,YAAY,CAAY;QARxB,UAAK,GAAiB,IAAI,CAAC;QASvB,IAAI,CAAC,CAAC,EAAE;YACJ,OAAO;SACV;QAED,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;IACzB,CAAC;IAED,IAAI,GAAG;QACH,OAAO,IAAI,CAAC,IAAI,CAAC;IACrB,CAAC;IACD,IAAI,GAAG,CAAC,KAAa;QACjB,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QAClB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IACxB,CAAC;IAED,IAAI,MAAM;QACN,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,IAAI,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE;YAC1C,MAAM,gBAAgB,GAAI,yDAAK,CAAC,MAAc,CAAC,yBAAyB,CAAC;YACzE,IAAI,gBAAgB,EAAE;gBAClB,MAAM,oBAAoB,GAAyB,gBAAgB,CAAC,uBAAuB,EAAE,CAAC;gBAC9F,IAAI,CAAC,OAAO,GAAG,oBAAoB,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACxD,IAAI,IAAI,CAAC,OAAO,KAAK,EAAE,EAAE;oBACrB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;iBACvB;aACJ;iBAAM;gBACH,MAAM,IAAI,KAAK,CAAC,mDAAmD,CAAC,CAAC;aACxE;SACJ;QAED,OAAO,IAAI,CAAC,OAAO,CAAC;IACxB,CAAC;IAED,IAAI,QAAQ;QACR,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,IAAI,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE;YAC5C,IAAI,CAAC,SAAS,GAAG,yDAAK,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAC7C,IAAI,IAAI,CAAC,SAAS,KAAK,EAAE,EAAE;gBACvB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;aACzB;SACJ;QAED,OAAO,IAAI,CAAC,SAAS,CAAC;IAC1B,CAAC;IAED,IAAI,aAAa;QACb,OAAO,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;IAC5D,CAAC;IAED,IAAI,SAAS;QACT,OAAO,IAAI,CAAC,GAAG,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC;IACzG,CAAC;IAED,IAAI,SAAS;QACT,OAAO,IAAI,CAAC,GAAG,IAAI,IAAI,IAAI,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;IAC5D,CAAC;CACJ;;;;;;;;;ACxED;AAAA,2BAA2B;AAC3B,MAAM,OAAO,GAAG,OAAO,MAAM,KAAK,WAAW,CAAC,CAAC,CAAC,mBAAO,CAAC,GAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;AAE/D;IAQH,MAAM,CAAC,IAAI;QACP,IAAI,KAAK,CAAC,MAAM,EAAE;YACd,OAAO;SACV;QAED,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;QACpB,KAAK,CAAC,MAAM,GAAG,OAAO,OAAO,KAAK,WAAW,IAAK,OAAe,CAAC,OAAO,IAAI,IAAI;YAC5E,OAAe,CAAC,OAAO,CAAC,IAAI,KAAK,MAAM,CAAC;QAC7C,KAAK,CAAC,SAAS,GAAG,OAAO,MAAM,KAAK,WAAW,CAAC;QAChD,KAAK,CAAC,cAAc,GAAG,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;QACzD,KAAK,CAAC,eAAe,GAAG,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACjE,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,IAAI,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;IAC9G,CAAC;IAED,MAAM,CAAC,cAAc,CAAC,GAAW;QAC7B,IAAI,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,cAAc,EAAE;YACtC,OAAO,IAAI,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC,CAAC;SACrD;aAAM;YACH,MAAM,YAAY,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACtC,MAAM,KAAK,GAAG,IAAI,UAAU,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;YAClD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,YAAY,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBAC1C,KAAK,CAAC,CAAC,CAAC,GAAG,YAAY,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzC;YACD,OAAO,KAAK,CAAC;SAChB;IACL,CAAC;IAED,MAAM,CAAC,cAAc,CAAC,GAAW;QAC7B,IAAI,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,cAAc,EAAE;YACtC,OAAO,IAAI,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC;SAClD;aAAM;YACH,MAAM,KAAK,GAAG,IAAI,UAAU,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YAC7C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;gBACpC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;aACjD;YACD,OAAO,KAAK,CAAC;SAChB;IACL,CAAC;IAED,MAAM,CAAC,eAAe,CAAC,GAAW;QAC9B,IAAI,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,cAAc,EAAE;YACtC,OAAO,IAAI,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,CAAC;SACnD;aAAM;YACH,MAAM,OAAO,GAAG,QAAQ,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC,CAAC;YAClD,MAAM,GAAG,GAAG,IAAI,UAAU,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;YAC3C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACrC,GAAG,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aAClC;YACD,OAAO,GAAG,CAAC;SACd;IACL,CAAC;IAED,MAAM,CAAC,qBAAqB,CAAC,GAAW;QACpC,MAAM,GAAG,GAAG,IAAI,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACvC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACjC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;SAC9B;QACD,OAAO,GAAG,CAAC;IACf,CAAC;IAED,MAAM,CAAC,eAAe,CAAC,MAAmB;QACtC,IAAI,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,cAAc,EAAE;YACtC,OAAO,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;SACjD;aAAM;YACH,IAAI,MAAM,GAAG,EAAE,CAAC;YAChB,MAAM,KAAK,GAAG,IAAI,UAAU,CAAC,MAAM,CAAC,CAAC;YACrC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,UAAU,EAAE,CAAC,EAAE,EAAE;gBACvC,MAAM,IAAI,MAAM,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;aAC3C;YACD,OAAO,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAC9B;IACL,CAAC;IAED,MAAM,CAAC,gBAAgB,CAAC,MAAmB;QACvC,IAAI,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,cAAc,EAAE;YACtC,OAAO,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;SAC/C;aAAM;YACH,MAAM,KAAK,GAAG,IAAI,UAAU,CAAC,MAAM,CAAC,CAAC;YACrC,MAAM,aAAa,GAAG,MAAM,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YAC7D,OAAO,kBAAkB,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC;SACpD;IACL,CAAC;IAED,MAAM,CAAC,sBAAsB,CAAC,MAAmB;QAC7C,OAAO,MAAM,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC;IACnE,CAAC;IAED,oDAAoD;IACpD,MAAM,CAAC,eAAe,CAAC,MAAmB;QACtC,IAAI,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,cAAc,EAAE;YACtC,OAAO,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;SAC9C;aAAM;YACH,MAAM,KAAK,GAAG,IAAI,UAAU,CAAC,MAAM,CAAC,CAAC;YACrC,OAAO,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAS,EAAE,EAAE,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;SACrG;IACL,CAAC;IAED,MAAM,CAAC,gBAAgB,CAAC,MAAc;QAClC,IAAI,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;QAC1D,QAAQ,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;YACvB,KAAK,CAAC;gBACF,MAAM;YACV,KAAK,CAAC;gBACF,MAAM,IAAI,IAAI,CAAC;gBACf,MAAM;YACV,KAAK,CAAC;gBACF,MAAM,IAAI,GAAG,CAAC;gBACd,MAAM;YACV;gBACI,MAAM,IAAI,KAAK,CAAC,2BAA2B,CAAC,CAAC;SACpD;QAED,OAAO,KAAK,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;IACvC,CAAC;IAED,MAAM,CAAC,aAAa,CAAC,MAAc;QAC/B,IAAI,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,cAAc,EAAE;YACtC,OAAO,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;SACzD;aAAM;YACH,OAAO,kBAAkB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;SAC1D;IACL,CAAC;IAED,kDAAkD;IAClD,MAAM,CAAC,OAAO;QACV,OAAO,sCAAsC,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,EAAE;YACjE,2BAA2B;YAC3B,MAAM,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;YACjC,2BAA2B;YAC3B,MAAM,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;YAC1C,OAAO,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QAC1B,CAAC,CAAC,CAAC;IACP,CAAC;IAED,MAAM,CAAC,WAAW,CAAC,SAAiB;QAChC,MAAM,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QACpC,IAAI;YACA,OAAO,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC;SAC5C;QAAC,WAAM;YACJ,OAAO,IAAI,CAAC;SACf;IACL,CAAC;IAED,MAAM,CAAC,OAAO,CAAC,SAAiB;QAC5B,MAAM,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QACpC,IAAI;YACA,OAAO,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC;SACxC;QAAC,WAAM;YACJ,OAAO,IAAI,CAAC;SACf;IACL,CAAC;IAED,MAAM,CAAC,cAAc,CAAC,SAAiB;QACnC,MAAM,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QACpC,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,CAAC,MAAM,IAAI,IAAI,IAAI,GAAG,CAAC,MAAM,KAAK,EAAE,EAAE;YACxD,OAAO,IAAI,CAAC;SACf;QACD,MAAM,GAAG,GAAG,IAAI,GAAG,EAAkB,CAAC;QACtC,MAAM,KAAK,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACrF,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;YACnB,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAC9B,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;gBAClB,OAAO;aACV;YACD,GAAG,CAAC,GAAG,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,EAAE,KAAK,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9G,CAAC,CAAC,CAAC;QACH,OAAO,GAAG,CAAC;IACf,CAAC;IAED,MAAM,CAAC,eAAe,CAAC,WAAwB,EAAE,IAAY;QACzD,OAAO,CAAC,CAAM,EAAE,CAAM,EAAE,EAAE;YACtB,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,EAAE;gBACpC,OAAO,CAAC,CAAC,CAAC;aACb;YACD,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,EAAE;gBACpC,OAAO,CAAC,CAAC;aACZ;YACD,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,EAAE;gBACpC,OAAO,CAAC,CAAC;aACZ;YAED,OAAO,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC1E,CAAC,CAAC,IAAI,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QACvC,CAAC,CAAC;IACN,CAAC;IAEO,MAAM,CAAC,QAAQ,CAAC,GAAW;QAC/B,IAAI,MAAM,GAAG,KAAK,CAAC;QACnB,CAAC,CAAC,CAAC,EAAE,EAAE;YACH,2BAA2B;YAC3B,IAAI,0TAA0T,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,ykDAAykD,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE;gBACt6D,MAAM,GAAG,IAAI,CAAC;aACjB;QACL,CAAC,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,SAAS,IAAI,GAAG,CAAC,SAAS,CAAC,MAAM,IAAK,GAAW,CAAC,KAAK,CAAC,CAAC;QAC1E,OAAO,MAAM,IAAI,GAAG,CAAC,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC;IACpE,CAAC;IAEO,MAAM,CAAC,MAAM,CAAC,SAAiB;QACnC,IAAI,SAAS,IAAI,IAAI,EAAE;YACnB,OAAO,IAAI,CAAC;SACf;QAED,SAAS,GAAG,SAAS,CAAC,IAAI,EAAE,CAAC;QAC7B,IAAI,SAAS,KAAK,EAAE,EAAE;YAClB,OAAO,IAAI,CAAC;SACf;QAED,MAAM,WAAW,GAAG,SAAS,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;QAClD,IAAI,CAAC,WAAW,IAAI,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;YAC7C,SAAS,GAAG,SAAS,GAAG,SAAS,CAAC;SACrC;aAAM,IAAI,CAAC,WAAW,EAAE;YACrB,OAAO,IAAI,CAAC;SACf;QAED,IAAI;YACA,IAAI,OAAO,IAAI,IAAI,EAAE;gBACjB,OAAO,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;aAC9E;iBAAM,IAAI,OAAO,GAAG,KAAK,UAAU,EAAE;gBAClC,OAAO,IAAI,GAAG,CAAC,SAAS,CAAC,CAAC;aAC7B;iBAAM,IAAI,MAAM,IAAI,IAAI,EAAE;gBACvB,MAAM,MAAM,GAAG,MAAM,CAAC,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;gBAClD,MAAM,CAAC,IAAI,GAAG,SAAS,CAAC;gBACxB,OAAO,MAAa,CAAC;aACxB;SACJ;QAAC,OAAO,CAAC,EAAE,GAAG;QAEf,OAAO,IAAI,CAAC;IAChB,CAAC;;AA1OM,YAAM,GAAG,KAAK,CAAC;AACf,oBAAc,GAAG,KAAK,CAAC;AACvB,YAAM,GAAG,KAAK,CAAC;AACf,eAAS,GAAG,IAAI,CAAC;AACjB,qBAAe,GAAG,KAAK,CAAC;AACxB,YAAM,GAAQ,IAAI,CAAC;AAwO9B,KAAK,CAAC,IAAI,EAAE,CAAC","file":"popup/main.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([609,9]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import { AppIdService } from '../abstractions/appId.service';\nimport { PlatformUtilsService } from '../abstractions/platformUtils.service';\nimport { StorageService } from '../abstractions/storage.service';\n\nimport { ConstantsService } from '../services/constants.service';\n\nimport { DeviceType } from '../enums/deviceType';\n\nconst GaObj = 'ga';\n\nexport const AnalyticsIds = {\n    [DeviceType.ChromeExtension]: 'UA-81915606-6',\n    [DeviceType.FirefoxExtension]: 'UA-81915606-7',\n    [DeviceType.OperaExtension]: 'UA-81915606-8',\n    [DeviceType.EdgeExtension]: 'UA-81915606-9',\n    [DeviceType.VivaldiExtension]: 'UA-81915606-15',\n    [DeviceType.SafariExtension]: 'UA-81915606-16',\n    [DeviceType.WindowsDesktop]: 'UA-81915606-17',\n    [DeviceType.LinuxDesktop]: 'UA-81915606-19',\n    [DeviceType.MacOsDesktop]: 'UA-81915606-18',\n};\n\nexport class Analytics {\n    private gaTrackingId: string = null;\n    private defaultDisabled = false;\n    private appVersion: string;\n\n    constructor(win: Window, private gaFilter?: () => boolean,\n        private platformUtilsService?: PlatformUtilsService, private storageService?: StorageService,\n        private appIdService?: AppIdService, private dependencyResolver?: () => any) {\n        if (dependencyResolver != null) {\n            const deps = dependencyResolver();\n            if (platformUtilsService == null && deps.platformUtilsService) {\n                this.platformUtilsService = deps.platformUtilsService as PlatformUtilsService;\n            }\n            if (storageService == null && deps.storageService) {\n                this.storageService = deps.storageService as StorageService;\n            }\n            if (appIdService == null && deps.appIdService) {\n                this.appIdService = deps.appIdService as AppIdService;\n            }\n        }\n\n        this.appVersion = this.platformUtilsService.getApplicationVersion();\n        this.defaultDisabled = this.platformUtilsService.getDevice() === DeviceType.FirefoxExtension ||\n            this.platformUtilsService.isMacAppStore();\n        this.gaTrackingId = this.platformUtilsService.analyticsId();\n\n        (win as any).GoogleAnalyticsObject = GaObj;\n        (win as any)[GaObj] = async (action: string, param1: any, param2?: any) => {\n            await this.ga(action, param1, param2);\n        };\n    }\n\n    async ga(action: string, param1: any, param2?: any) {\n        if (this.gaFilter != null && this.gaFilter()) {\n            return;\n        }\n\n        const disabled = await this.storageService.get<boolean>(ConstantsService.disableGaKey);\n        if ((this.defaultDisabled && disabled == null) || disabled != null && disabled) {\n            return;\n        }\n\n        if (action !== 'send' || !param1) {\n            return;\n        }\n\n        const gaAnonAppId = await this.appIdService.getAnonymousAppId();\n        const version = encodeURIComponent(this.appVersion);\n        let message = 'v=1&tid=' + this.gaTrackingId + '&cid=' + gaAnonAppId + '&cd1=' + version;\n\n        if (param1 === 'pageview' && param2) {\n            message += this.gaTrackPageView(param2);\n        } else if (typeof param1 === 'object' && param1.hitType === 'pageview') {\n            message += this.gaTrackPageView(param1.page);\n        } else if (param1 === 'event' && param2) {\n            message += this.gaTrackEvent(param2);\n        } else if (typeof param1 === 'object' && param1.hitType === 'event') {\n            message += this.gaTrackEvent(param1);\n        }\n\n        const request = new XMLHttpRequest();\n        request.open('POST', 'https://www.google-analytics.com/collect', true);\n        request.send(message);\n    }\n\n    private gaTrackEvent(options: any) {\n        return '&t=event&ec=' + (options.eventCategory ? encodeURIComponent(options.eventCategory) : 'Event') +\n            '&ea=' + encodeURIComponent(options.eventAction) +\n            (options.eventLabel ? '&el=' + encodeURIComponent(options.eventLabel) : '') +\n            (options.eventValue ? '&ev=' + encodeURIComponent(options.eventValue) : '') +\n            (options.page ? '&dp=' + this.cleanPagePath(options.page) : '');\n    }\n\n    private gaTrackPageView(pagePath: string) {\n        return '&t=pageview&dp=' + this.cleanPagePath(pagePath);\n    }\n\n    private cleanPagePath(pagePath: string) {\n        const paramIndex = pagePath.indexOf('?');\n        if (paramIndex > -1) {\n            pagePath = pagePath.substring(0, paramIndex);\n        }\n        if (pagePath.indexOf('!/') === 0 || pagePath.indexOf('#/') === 0) {\n            pagePath = pagePath.substring(1);\n        }\n        const pathParts = pagePath.split('/');\n        const newPathParts: string[] = [];\n        pathParts.forEach((p) => {\n            if (p.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i)) {\n                newPathParts.push('__guid__');\n            } else {\n                newPathParts.push(p);\n            }\n        });\n        return encodeURIComponent(newPathParts.join('/'));\n    }\n}\n","export class KeysRequest {\n    publicKey: string;\n    encryptedPrivateKey: string;\n\n    constructor(publicKey: string, encryptedPrivateKey: string) {\n        this.publicKey = publicKey;\n        this.encryptedPrivateKey = encryptedPrivateKey;\n    }\n}\n","import { LoginUriView } from './loginUriView';\nimport { View } from './view';\n\nimport { Login } from '../domain/login';\n\nexport class LoginView implements View {\n    username: string;\n    password: string;\n    passwordRevisionDate?: Date;\n    totp: string;\n    uris: LoginUriView[];\n\n    constructor(l?: Login) {\n        if (!l) {\n            return;\n        }\n\n        this.passwordRevisionDate = l.passwordRevisionDate;\n    }\n\n    get uri(): string {\n        return this.hasUris ? this.uris[0].uri : null;\n    }\n\n    get maskedPassword(): string {\n        return this.password != null ? '' : null;\n    }\n\n    get subTitle(): string {\n        return this.username;\n    }\n\n    get canLaunch(): boolean {\n        return this.hasUris && this.uris[0].canLaunch;\n    }\n\n    get hasUris(): boolean {\n        return this.uris != null && this.uris.length > 0;\n    }\n}\n","import { View } from './view';\n\nimport { Folder } from '../domain/folder';\n\nexport class FolderView implements View {\n    id: string = null;\n    name: string;\n    revisionDate: Date;\n\n    constructor(f?: Folder) {\n        if (!f) {\n            return;\n        }\n\n        this.id = f.id;\n        this.revisionDate = f.revisionDate;\n    }\n}\n","export enum DeviceType {\n    Android = 0,\n    iOS = 1,\n    ChromeExtension = 2,\n    FirefoxExtension = 3,\n    OperaExtension = 4,\n    EdgeExtension = 5,\n    WindowsDesktop = 6,\n    MacOsDesktop = 7,\n    LinuxDesktop = 8,\n    ChromeBrowser = 9,\n    FirefoxBrowser = 10,\n    OperaBrowser = 11,\n    EdgeBrowser = 12,\n    IEBrowser = 13,\n    UnknownBrowser = 14,\n    AndroidAmazon = 15,\n    UWP = 16,\n    SafariBrowser = 17,\n    VivaldiBrowser = 18,\n    VivaldiExtension = 19,\n    SafariExtension = 20,\n}\n","export class ConstantsService {\n    static readonly environmentUrlsKey: string = 'environmentUrls';\n    static readonly disableGaKey: string = 'disableGa';\n    static readonly disableAddLoginNotificationKey: string = 'disableAddLoginNotification';\n    static readonly disableChangedPasswordNotificationKey: string = 'disableChangedPasswordNotification';\n    static readonly disableContextMenuItemKey: string = 'disableContextMenuItem';\n    static readonly disableFaviconKey: string = 'disableFavicon';\n    static readonly disableAutoTotpCopyKey: string = 'disableAutoTotpCopy';\n    static readonly enableAutoFillOnPageLoadKey: string = 'enableAutoFillOnPageLoad';\n    static readonly lockOptionKey: string = 'lockOption';\n    static readonly lastActiveKey: string = 'lastActive';\n    static readonly neverDomainsKey: string = 'neverDomains';\n    static readonly installedVersionKey: string = 'installedVersion';\n    static readonly localeKey: string = 'locale';\n    static readonly themeKey: string = 'theme';\n\n    readonly environmentUrlsKey: string = ConstantsService.environmentUrlsKey;\n    readonly disableGaKey: string = ConstantsService.disableGaKey;\n    readonly disableAddLoginNotificationKey: string = ConstantsService.disableAddLoginNotificationKey;\n    readonly disableContextMenuItemKey: string = ConstantsService.disableContextMenuItemKey;\n    readonly disableFaviconKey: string = ConstantsService.disableFaviconKey;\n    readonly disableAutoTotpCopyKey: string = ConstantsService.disableAutoTotpCopyKey;\n    readonly enableAutoFillOnPageLoadKey: string = ConstantsService.enableAutoFillOnPageLoadKey;\n    readonly lockOptionKey: string = ConstantsService.lockOptionKey;\n    readonly lastActiveKey: string = ConstantsService.lastActiveKey;\n    readonly neverDomainsKey: string = ConstantsService.neverDomainsKey;\n    readonly installedVersionKey: string = ConstantsService.installedVersionKey;\n    readonly localeKey: string = ConstantsService.localeKey;\n    readonly themeKey: string = ConstantsService.themeKey;\n}\n","export enum SecureNoteType {\n    Generic = 0,\n}\n","import { StateService as StateServiceAbstraction } from '../abstractions/state.service';\n\nexport class StateService implements StateServiceAbstraction {\n    private state: any = {};\n\n    get<T>(key: string): Promise<T> {\n        if (this.state.hasOwnProperty(key)) {\n            return Promise.resolve(this.state[key]);\n        }\n        return Promise.resolve(null);\n    }\n\n    save(key: string, obj: any): Promise<any> {\n        this.state[key] = obj;\n        return Promise.resolve();\n    }\n\n    remove(key: string): Promise<any> {\n        delete this.state[key];\n        return Promise.resolve();\n    }\n\n    purge(): Promise<any> {\n        this.state = {};\n        return Promise.resolve();\n    }\n}\n","/**\n * Duo Web SDK v2\n * Copyright 2017, Duo Security\n */\n(function (root, factory) {\n    /*eslint-disable */\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define([], factory);\n        /*eslint-enable */\n    }\n    else if (typeof module === 'object' && module.exports) {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = factory();\n    }\n    else {\n        // Browser globals (root is window)\n        var Duo = factory();\n        // If the Javascript was loaded via a script tag, attempt to autoload\n        // the frame.\n        Duo._onReady(Duo.init);\n        // Attach Duo to the `window` object\n        root.Duo = Duo;\n    }\n}(this, function () {\n    var DUO_MESSAGE_FORMAT = /^(?:AUTH|ENROLL)+\\|[A-Za-z0-9\\+\\/=]+\\|[A-Za-z0-9\\+\\/=]+$/;\n    var DUO_ERROR_FORMAT = /^ERR\\|[\\w\\s\\.\\(\\)]+$/;\n    var DUO_OPEN_WINDOW_FORMAT = /^DUO_OPEN_WINDOW\\|/;\n    var VALID_OPEN_WINDOW_DOMAINS = [\n        'duo.com',\n        'duosecurity.com',\n        'duomobile.s3-us-west-1.amazonaws.com'\n    ];\n    var iframeId = 'duo_iframe', postAction = '', postArgument = 'sig_response', host, sigRequest, duoSig, appSig, iframe, submitCallback;\n    function throwError(message, url) {\n        throw new Error('Duo Web SDK error: ' + message +\n            (url ? ('\\n' + 'See ' + url + ' for more information') : ''));\n    }\n    function hyphenize(str) {\n        return str.replace(/([a-z])([A-Z])/, '$1-$2').toLowerCase();\n    }\n    // cross-browser data attributes\n    function getDataAttribute(element, name) {\n        if ('dataset' in element) {\n            return element.dataset[name];\n        }\n        else {\n            return element.getAttribute('data-' + hyphenize(name));\n        }\n    }\n    // cross-browser event binding/unbinding\n    function on(context, event, fallbackEvent, callback) {\n        if ('addEventListener' in window) {\n            context.addEventListener(event, callback, false);\n        }\n        else {\n            context.attachEvent(fallbackEvent, callback);\n        }\n    }\n    function off(context, event, fallbackEvent, callback) {\n        if ('removeEventListener' in window) {\n            context.removeEventListener(event, callback, false);\n        }\n        else {\n            context.detachEvent(fallbackEvent, callback);\n        }\n    }\n    function onReady(callback) {\n        on(document, 'DOMContentLoaded', 'onreadystatechange', callback);\n    }\n    function offReady(callback) {\n        off(document, 'DOMContentLoaded', 'onreadystatechange', callback);\n    }\n    function onMessage(callback) {\n        on(window, 'message', 'onmessage', callback);\n    }\n    function offMessage(callback) {\n        off(window, 'message', 'onmessage', callback);\n    }\n    /**\n     * Parse the sig_request parameter, throwing errors if the token contains\n     * a server error or if the token is invalid.\n     *\n     * @param {String} sig Request token\n     */\n    function parseSigRequest(sig) {\n        if (!sig) {\n            // nothing to do\n            return;\n        }\n        // see if the token contains an error, throwing it if it does\n        if (sig.indexOf('ERR|') === 0) {\n            throwError(sig.split('|')[1]);\n        }\n        // validate the token\n        if (sig.indexOf(':') === -1 || sig.split(':').length !== 2) {\n            throwError('Duo was given a bad token.  This might indicate a configuration ' +\n                'problem with one of Duo\\'s client libraries.', 'https://www.duosecurity.com/docs/duoweb#first-steps');\n        }\n        var sigParts = sig.split(':');\n        // hang on to the token, and the parsed duo and app sigs\n        sigRequest = sig;\n        duoSig = sigParts[0];\n        appSig = sigParts[1];\n        return {\n            sigRequest: sig,\n            duoSig: sigParts[0],\n            appSig: sigParts[1]\n        };\n    }\n    /**\n     * This function is set up to run when the DOM is ready, if the iframe was\n     * not available during `init`.\n     */\n    function onDOMReady() {\n        iframe = document.getElementById(iframeId);\n        if (!iframe) {\n            throw new Error('This page does not contain an iframe for Duo to use.' +\n                'Add an element like <iframe id=\"duo_iframe\"></iframe> ' +\n                'to this page.  ' +\n                'See https://www.duosecurity.com/docs/duoweb#3.-show-the-iframe ' +\n                'for more information.');\n        }\n        // we've got an iframe, away we go!\n        ready();\n        // always clean up after yourself\n        offReady(onDOMReady);\n    }\n    /**\n     * Validate that a MessageEvent came from the Duo service, and that it\n     * is a properly formatted payload.\n     *\n     * The Google Chrome sign-in page injects some JS into pages that also\n     * make use of postMessage, so we need to do additional validation above\n     * and beyond the origin.\n     *\n     * @param {MessageEvent} event Message received via postMessage\n     */\n    function isDuoMessage(event) {\n        return Boolean(event.origin === ('https://' + host) &&\n            typeof event.data === 'string' &&\n            (event.data.match(DUO_MESSAGE_FORMAT) ||\n                event.data.match(DUO_ERROR_FORMAT) ||\n                event.data.match(DUO_OPEN_WINDOW_FORMAT)));\n    }\n    /**\n     * Validate the request token and prepare for the iframe to become ready.\n     *\n     * All options below can be passed into an options hash to `Duo.init`, or\n     * specified on the iframe using `data-` attributes.\n     *\n     * Options specified using the options hash will take precedence over\n     * `data-` attributes.\n     *\n     * Example using options hash:\n     * ```javascript\n     * Duo.init({\n     *     iframe: \"some_other_id\",\n     *     host: \"api-main.duo.test\",\n     *     sig_request: \"...\",\n     *     post_action: \"/auth\",\n     *     post_argument: \"resp\"\n     * });\n     * ```\n     *\n     * Example using `data-` attributes:\n     * ```\n     * <iframe id=\"duo_iframe\"\n     *         data-host=\"api-main.duo.test\"\n     *         data-sig-request=\"...\"\n     *         data-post-action=\"/auth\"\n     *         data-post-argument=\"resp\"\n     *         >\n     * </iframe>\n     * ```\n     *\n     * @param {Object} options\n     * @param {String} options.iframe                         The iframe, or id of an iframe to set up\n     * @param {String} options.host                           Hostname\n     * @param {String} options.sig_request                    Request token\n     * @param {String} [options.post_action='']               URL to POST back to after successful auth\n     * @param {String} [options.post_argument='sig_response'] Parameter name to use for response token\n     * @param {Function} [options.submit_callback]            If provided, duo will not submit the form instead execute\n     *                                                        the callback function with reference to the \"duo_form\" form object\n     *                                                        submit_callback can be used to prevent the webpage from reloading.\n     */\n    function init(options) {\n        if (options) {\n            if (options.host) {\n                host = options.host;\n            }\n            if (options.sig_request) {\n                parseSigRequest(options.sig_request);\n            }\n            if (options.post_action) {\n                postAction = options.post_action;\n            }\n            if (options.post_argument) {\n                postArgument = options.post_argument;\n            }\n            if (options.iframe) {\n                if (options.iframe.tagName) {\n                    iframe = options.iframe;\n                }\n                else if (typeof options.iframe === 'string') {\n                    iframeId = options.iframe;\n                }\n            }\n            if (typeof options.submit_callback === 'function') {\n                submitCallback = options.submit_callback;\n            }\n        }\n        // if we were given an iframe, no need to wait for the rest of the DOM\n        if (false && iframe) {\n            ready();\n        }\n        else {\n            // try to find the iframe in the DOM\n            iframe = document.getElementById(iframeId);\n            // iframe is in the DOM, away we go!\n            if (iframe) {\n                ready();\n            }\n            else {\n                // wait until the DOM is ready, then try again\n                onReady(onDOMReady);\n            }\n        }\n        // always clean up after yourself!\n        offReady(init);\n    }\n    /**\n     * This function is called when a message was received from another domain\n     * using the `postMessage` API.  Check that the event came from the Duo\n     * service domain, and that the message is a properly formatted payload,\n     * then perform the post back to the primary service.\n     *\n     * @param event Event object (contains origin and data)\n     */\n    function onReceivedMessage(event) {\n        if (isDuoMessage(event)) {\n            if (event.data.match(DUO_OPEN_WINDOW_FORMAT)) {\n                var url = event.data.substring(\"DUO_OPEN_WINDOW|\".length);\n                if (isValidUrlToOpen(url)) {\n                    // Open the URL that comes after the DUO_WINDOW_OPEN token.\n                    window.open(url, \"_self\");\n                }\n            }\n            else {\n                // the event came from duo, do the post back\n                doPostBack(event.data);\n                // always clean up after yourself!\n                offMessage(onReceivedMessage);\n            }\n        }\n    }\n    /**\n     * Validate that this passed in URL is one that we will actually allow to\n     * be opened.\n     * @param url String URL that the message poster wants to open\n     * @returns {boolean} true if we allow this url to be opened in the window\n     */\n    function isValidUrlToOpen(url) {\n        if (!url) {\n            return false;\n        }\n        var parser = document.createElement('a');\n        parser.href = url;\n        if (parser.protocol === \"duotrustedendpoints:\") {\n            return true;\n        }\n        else if (parser.protocol !== \"https:\") {\n            return false;\n        }\n        for (var i = 0; i < VALID_OPEN_WINDOW_DOMAINS.length; i++) {\n            if (parser.hostname.endsWith(\".\" + VALID_OPEN_WINDOW_DOMAINS[i]) ||\n                parser.hostname === VALID_OPEN_WINDOW_DOMAINS[i]) {\n                return true;\n            }\n        }\n        return false;\n    }\n    /**\n     * Point the iframe at Duo, then wait for it to postMessage back to us.\n     */\n    function ready() {\n        if (!host) {\n            host = getDataAttribute(iframe, 'host');\n            if (!host) {\n                throwError('No API hostname is given for Duo to use.  Be sure to pass ' +\n                    'a `host` parameter to Duo.init, or through the `data-host` ' +\n                    'attribute on the iframe element.', 'https://www.duosecurity.com/docs/duoweb#3.-show-the-iframe');\n            }\n        }\n        if (!duoSig || !appSig) {\n            parseSigRequest(getDataAttribute(iframe, 'sigRequest'));\n            if (!duoSig || !appSig) {\n                throwError('No valid signed request is given.  Be sure to give the ' +\n                    '`sig_request` parameter to Duo.init, or use the ' +\n                    '`data-sig-request` attribute on the iframe element.', 'https://www.duosecurity.com/docs/duoweb#3.-show-the-iframe');\n            }\n        }\n        // if postAction/Argument are defaults, see if they are specified\n        // as data attributes on the iframe\n        if (postAction === '') {\n            postAction = getDataAttribute(iframe, 'postAction') || postAction;\n        }\n        if (postArgument === 'sig_response') {\n            postArgument = getDataAttribute(iframe, 'postArgument') || postArgument;\n        }\n        // point the iframe at Duo\n        iframe.src = [\n            'https://', host, '/frame/web/v1/auth?tx=', duoSig,\n            '&parent=', encodeURIComponent(document.location.href),\n            '&v=2.6'\n        ].join('');\n        // listen for the 'message' event\n        onMessage(onReceivedMessage);\n    }\n    /**\n     * We received a postMessage from Duo.  POST back to the primary service\n     * with the response token, and any additional user-supplied parameters\n     * given in form#duo_form.\n     */\n    function doPostBack(response) {\n        // create a hidden input to contain the response token\n        var input = document.createElement('input');\n        input.type = 'hidden';\n        input.name = postArgument;\n        input.value = response + ':' + appSig;\n        // user may supply their own form with additional inputs\n        var form = document.getElementById('duo_form');\n        // if the form doesn't exist, create one\n        if (!form) {\n            form = document.createElement('form');\n            // insert the new form after the iframe\n            iframe.parentElement.insertBefore(form, iframe.nextSibling);\n        }\n        // make sure we are actually posting to the right place\n        form.method = 'POST';\n        form.action = postAction;\n        // add the response token input to the form\n        form.appendChild(input);\n        // away we go!\n        if (typeof submitCallback === \"function\") {\n            submitCallback.call(null, form);\n        }\n        else {\n            form.submit();\n        }\n    }\n    return {\n        init: init,\n        _onReady: onReady,\n        _parseSigRequest: parseSigRequest,\n        _isDuoMessage: isDuoMessage,\n        _doPostBack: doPostBack\n    };\n}));\n//# sourceMappingURL=duo.js.map","export enum KdfType {\n    PBKDF2_SHA256 = 0,\n}\n","import { View } from './view';\n\nimport { Card } from '../domain/card';\n\nexport class CardView implements View {\n    cardholderName: string;\n    expMonth: string = null;\n    expYear: string;\n    code: string;\n\n    // tslint:disable\n    private _brand: string = null;\n    private _number: string;\n    private _subTitle: string;\n    // tslint:enable\n\n    constructor(c?: Card) {\n        // ctor\n    }\n\n    get maskedCode(): string {\n        return this.code != null ? ''.repeat(this.code.length) : null;\n    }\n\n    get brand(): string {\n        return this._brand;\n    }\n    set brand(value: string) {\n        this._brand = value;\n        this._subTitle = null;\n    }\n\n    get number(): string {\n        return this._number;\n    }\n    set number(value: string) {\n        this._number = value;\n        this._subTitle = null;\n    }\n\n    get subTitle(): string {\n        if (this._subTitle == null) {\n            this._subTitle = this.brand;\n            if (this.number != null && this.number.length >= 4) {\n                if (this._subTitle != null && this._subTitle !== '') {\n                    this._subTitle += ', ';\n                } else {\n                    this._subTitle = '';\n                }\n                this._subTitle += ('*' + this.number.substr(this.number.length - 4));\n            }\n        }\n        return this._subTitle;\n    }\n\n    get expiration(): string {\n        if (!this.expMonth && !this.expYear) {\n            return null;\n        }\n\n        let exp = this.expMonth != null ? ('0' + this.expMonth).slice(-2) : '__';\n        exp += (' / ' + (this.expYear != null ? this.formatYear(this.expYear) : '____'));\n        return exp;\n    }\n\n    private formatYear(year: string): string {\n        return year.length === 2 ? '20' + year : year;\n    }\n}\n","import { FieldType } from '../../enums/fieldType';\n\nimport { View } from './view';\n\nimport { Field } from '../domain/field';\n\nexport class FieldView implements View {\n    name: string;\n    value: string;\n    type: FieldType;\n\n    constructor(f?: Field) {\n        if (!f) {\n            return;\n        }\n\n        this.type = f.type;\n    }\n\n    get maskedValue(): string {\n        return this.value != null ? '' : null;\n    }\n}\n","import { View } from './view';\n\nimport { Identity } from '../domain/identity';\n\nexport class IdentityView implements View {\n    title: string = null;\n    middleName: string;\n    address1: string;\n    address2: string;\n    address3: string;\n    city: string;\n    state: string;\n    postalCode: string;\n    country: string;\n    company: string;\n    email: string;\n    phone: string;\n    ssn: string;\n    username: string;\n    passportNumber: string;\n    licenseNumber: string;\n\n    // tslint:disable\n    private _firstName: string;\n    private _lastName: string;\n    private _subTitle: string;\n    // tslint:enable\n\n    constructor(i?: Identity) {\n        // ctor\n    }\n\n    get firstName(): string {\n        return this._firstName;\n    }\n    set firstName(value: string) {\n        this._firstName = value;\n        this._subTitle = null;\n    }\n\n    get lastName(): string {\n        return this._lastName;\n    }\n    set lastName(value: string) {\n        this._lastName = value;\n        this._subTitle = null;\n    }\n\n    get subTitle(): string {\n        if (this._subTitle == null && (this.firstName != null || this.lastName != null)) {\n            this._subTitle = '';\n            if (this.firstName != null) {\n                this._subTitle = this.firstName;\n            }\n            if (this.lastName != null) {\n                if (this._subTitle !== '') {\n                    this._subTitle += ' ';\n                }\n                this._subTitle += this.lastName;\n            }\n        }\n\n        return this._subTitle;\n    }\n\n    get fullName(): string {\n        if (this.title != null || this.firstName != null || this.middleName != null || this.lastName != null) {\n            let name = '';\n            if (this.title != null) {\n                name += (this.title + ' ');\n            }\n            if (this.firstName != null) {\n                name += (this.firstName + ' ');\n            }\n            if (this.middleName != null) {\n                name += (this.middleName + ' ');\n            }\n            if (this.lastName != null) {\n                name += this.lastName;\n            }\n            return name.trim();\n        }\n\n        return null;\n    }\n}\n","import { SecureNoteType } from '../../enums/secureNoteType';\n\nimport { View } from './view';\n\nimport { SecureNote } from '../domain/secureNote';\n\nexport class SecureNoteView implements View {\n    type: SecureNoteType;\n\n    constructor(n?: SecureNote) {\n        if (!n) {\n            return;\n        }\n\n        this.type = n.type;\n    }\n\n    get subTitle(): string {\n        return null;\n    }\n}\n","import { BrowserApi } from '../browser/browserApi';\n\nimport { MessagingService } from 'jslib/abstractions';\n\nexport default class BrowserMessagingService implements MessagingService {\n    send(subscriber: string, arg: any = {}) {\n        const message = Object.assign({}, { command: subscriber }, arg);\n\n        if (BrowserApi.isSafariApi) {\n            const bgPage = BrowserApi.getBackgroundPage();\n            bgPage.bitwardenMain.sendInternalRuntimeMessage(message);\n\n            if (!safari.extension.popovers || !safari.extension.popovers.length) {\n                return;\n            }\n\n            const popover = safari.extension.popovers[0];\n            const popoverPage = popover.contentWindow;\n            if (popover.visible && popoverPage.bitwardenPopupMainMessageListener) {\n                popoverPage.bitwardenPopupMainMessageListener(message);\n            }\n        } else {\n            chrome.runtime.sendMessage(message);\n        }\n    }\n}\n","import * as lunr from 'lunr';\n\nimport { CipherView } from '../models/view/cipherView';\n\nimport { CipherService } from '../abstractions/cipher.service';\nimport { PlatformUtilsService } from '../abstractions/platformUtils.service';\nimport { SearchService as SearchServiceAbstraction } from '../abstractions/search.service';\n\nimport { CipherType } from '../enums/cipherType';\nimport { DeviceType } from '../enums/deviceType';\nimport { FieldType } from '../enums/fieldType';\nimport { UriMatchType } from '../enums/uriMatchType';\n\nexport class SearchService implements SearchServiceAbstraction {\n    private indexing = false;\n    private index: lunr.Index = null;\n    private onlySearchName = false;\n\n    constructor(private cipherService: CipherService, platformUtilsService: PlatformUtilsService) {\n        this.onlySearchName = platformUtilsService == null ||\n            platformUtilsService.getDevice() === DeviceType.EdgeExtension;\n    }\n\n    clearIndex(): void {\n        this.index = null;\n    }\n\n    isSearchable(query: string): boolean {\n        const notSearchable = query == null || (this.index == null && query.length < 2) ||\n            (this.index != null && query.length < 2 && query.indexOf('>') !== 0);\n        return !notSearchable;\n    }\n\n    async indexCiphers(): Promise<void> {\n        if (this.indexing) {\n            return;\n        }\n        // tslint:disable-next-line\n        console.time('search indexing');\n        this.indexing = true;\n        this.index = null;\n        const builder = new lunr.Builder();\n        builder.ref('id');\n        (builder as any).field('shortid', { boost: 100, extractor: (c: CipherView) => c.id.substr(0, 8) });\n        (builder as any).field('name', { boost: 10 });\n        (builder as any).field('subtitle', {\n            boost: 5,\n            extractor: (c: CipherView) => {\n                if (c.subTitle != null && c.type === CipherType.Card) {\n                    return c.subTitle.replace(/\\*/g, '');\n                }\n                return c.subTitle;\n            },\n        });\n        builder.field('notes');\n        (builder as any).field('login.username', {\n            extractor: (c: CipherView) => c.login != null ? c.login.username : null,\n        });\n        (builder as any).field('login.uris', { boost: 2, extractor: (c: CipherView) => this.uriExtractor(c) });\n        (builder as any).field('fields', { extractor: (c: CipherView) => this.fieldExtractor(c, false) });\n        (builder as any).field('fields_joined', { extractor: (c: CipherView) => this.fieldExtractor(c, true) });\n        (builder as any).field('attachments', { extractor: (c: CipherView) => this.attachmentExtractor(c, false) });\n        (builder as any).field('attachments_joined',\n            { extractor: (c: CipherView) => this.attachmentExtractor(c, true) });\n        const ciphers = await this.cipherService.getAllDecrypted();\n        ciphers.forEach((c) => builder.add(c));\n        this.index = builder.build();\n        this.indexing = false;\n        // tslint:disable-next-line\n        console.timeEnd('search indexing');\n    }\n\n    async searchCiphers(query: string, filter: (cipher: CipherView) => boolean = null, ciphers: CipherView[] = null):\n        Promise<CipherView[]> {\n        const results: CipherView[] = [];\n        if (query != null) {\n            query = query.trim().toLowerCase();\n        }\n        if (query === '') {\n            query = null;\n        }\n\n        if (ciphers == null) {\n            ciphers = await this.cipherService.getAllDecrypted();\n        }\n        if (filter != null) {\n            ciphers = ciphers.filter(filter);\n        }\n\n        if (!this.isSearchable(query)) {\n            return ciphers;\n        }\n\n        const index = this.getIndexForSearch();\n        if (index == null) {\n            // Fall back to basic search if index is not available\n            return this.searchCiphersBasic(ciphers, query);\n        }\n\n        const ciphersMap = new Map<string, CipherView>();\n        ciphers.forEach((c) => ciphersMap.set(c.id, c));\n\n        let searchResults: lunr.Index.Result[] = null;\n        const isQueryString = query != null && query.length > 1 && query.indexOf('>') === 0;\n        if (isQueryString) {\n            try {\n                searchResults = index.search(query.substr(1).trim());\n            } catch { }\n        } else {\n            // tslint:disable-next-line\n            const soWild = lunr.Query.wildcard.LEADING | lunr.Query.wildcard.TRAILING;\n            searchResults = index.query((q) => {\n                q.term(query, { fields: ['name'], wildcard: soWild });\n                q.term(query, { fields: ['subtitle'], wildcard: soWild });\n                q.term(query, { fields: ['login.uris'], wildcard: soWild });\n                lunr.tokenizer(query).forEach((token) => {\n                    q.term(token.toString(), {});\n                });\n            });\n        }\n\n        if (searchResults != null) {\n            searchResults.forEach((r) => {\n                if (ciphersMap.has(r.ref)) {\n                    results.push(ciphersMap.get(r.ref));\n                }\n            });\n        }\n        return results;\n    }\n\n    searchCiphersBasic(ciphers: CipherView[], query: string) {\n        query = query.trim().toLowerCase();\n        return ciphers.filter((c) => {\n            if (c.name != null && c.name.toLowerCase().indexOf(query) > -1) {\n                return true;\n            }\n            if (this.onlySearchName) {\n                return false;\n            }\n            if (query.length >= 8 && c.id.startsWith(query)) {\n                return true;\n            }\n            if (c.subTitle != null && c.subTitle.toLowerCase().indexOf(query) > -1) {\n                return true;\n            }\n            if (c.login && c.login.uri != null && c.login.uri.toLowerCase().indexOf(query) > -1) {\n                return true;\n            }\n            return false;\n        });\n    }\n\n    getIndexForSearch(): lunr.Index {\n        return this.index;\n    }\n\n    private fieldExtractor(c: CipherView, joined: boolean) {\n        if (!c.hasFields) {\n            return null;\n        }\n        let fields: string[] = [];\n        c.fields.forEach((f) => {\n            if (f.name != null) {\n                fields.push(f.name);\n            }\n            if (f.type === FieldType.Text && f.value != null) {\n                fields.push(f.value);\n            }\n        });\n        fields = fields.filter((f) => f.trim() !== '');\n        if (fields.length === 0) {\n            return null;\n        }\n        return joined ? fields.join(' ') : fields;\n    }\n\n    private attachmentExtractor(c: CipherView, joined: boolean) {\n        if (!c.hasAttachments) {\n            return null;\n        }\n        let attachments: string[] = [];\n        c.attachments.forEach((a) => {\n            if (a != null && a.fileName != null) {\n                if (joined && a.fileName.indexOf('.') > -1) {\n                    attachments.push(a.fileName.substr(0, a.fileName.lastIndexOf('.')));\n                } else {\n                    attachments.push(a.fileName);\n                }\n            }\n        });\n        attachments = attachments.filter((f) => f.trim() !== '');\n        if (attachments.length === 0) {\n            return null;\n        }\n        return joined ? attachments.join(' ') : attachments;\n    }\n\n    private uriExtractor(c: CipherView) {\n        if (c.login == null || !c.login.hasUris) {\n            return null;\n        }\n        const uris: string[] = [];\n        c.login.uris.forEach((u) => {\n            if (u.uri == null || u.uri === '') {\n                return;\n            }\n            if (u.hostname != null) {\n                uris.push(u.hostname);\n                return;\n            }\n            let uri = u.uri;\n            if (u.match !== UriMatchType.RegularExpression) {\n                const protocolIndex = uri.indexOf('://');\n                if (protocolIndex > -1) {\n                    uri = uri.substr(protocolIndex + 3);\n                }\n                const queryIndex = uri.search(/\\?|&|#/);\n                if (queryIndex > -1) {\n                    uri = uri.substring(0, queryIndex);\n                }\n            }\n            uris.push(uri);\n        });\n        return uris.length > 0 ? uris : null;\n    }\n}\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 289;","export enum UriMatchType {\n    Domain = 0,\n    Host = 1,\n    StartsWith = 2,\n    Exact = 3,\n    RegularExpression = 4,\n    Never = 5,\n}\n","export enum FieldType {\n    Text = 0,\n    Hidden = 1,\n    Boolean = 2,\n}\n","// removed by extract-text-webpack-plugin","export enum CipherType {\n    Login = 1,\n    SecureNote = 2,\n    Card = 3,\n    Identity = 4,\n}\n","import 'core-js';\nimport 'zone.js/dist/zone';\n\nimport { ToasterModule } from 'angular2-toaster';\nimport { Angulartics2Module } from 'angulartics2';\nimport { Angulartics2GoogleAnalytics } from 'angulartics2/ga';\nimport { InfiniteScrollModule } from 'ngx-infinite-scroll';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { ServicesModule } from './services/services.module';\n\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n\nimport { EnvironmentComponent } from './accounts/environment.component';\nimport { HintComponent } from './accounts/hint.component';\nimport { HomeComponent } from './accounts/home.component';\nimport { LockComponent } from './accounts/lock.component';\nimport { LoginComponent } from './accounts/login.component';\nimport { RegisterComponent } from './accounts/register.component';\nimport { TwoFactorOptionsComponent } from './accounts/two-factor-options.component';\nimport { TwoFactorComponent } from './accounts/two-factor.component';\nimport { AppComponent } from './app.component';\nimport { PasswordGeneratorHistoryComponent } from './generator/password-generator-history.component';\nimport { PasswordGeneratorComponent } from './generator/password-generator.component';\nimport { PrivateModeComponent } from './private-mode.component';\nimport { ExportComponent } from './settings/export.component';\nimport { FolderAddEditComponent } from './settings/folder-add-edit.component';\nimport { FoldersComponent } from './settings/folders.component';\nimport { OptionsComponent } from './settings/options.component';\nimport { PremiumComponent } from './settings/premium.component';\nimport { SettingsComponent } from './settings/settings.component';\nimport { SyncComponent } from './settings/sync.component';\nimport { TabsComponent } from './tabs.component';\nimport { AddEditComponent } from './vault/add-edit.component';\nimport { AttachmentsComponent } from './vault/attachments.component';\nimport { CiphersComponent } from './vault/ciphers.component';\nimport { CurrentTabComponent } from './vault/current-tab.component';\nimport { GroupingsComponent } from './vault/groupings.component';\nimport { PasswordHistoryComponent } from './vault/password-history.component';\nimport { ViewComponent } from './vault/view.component';\n\nimport { ApiActionDirective } from 'jslib/angular/directives/api-action.directive';\nimport { AutofocusDirective } from 'jslib/angular/directives/autofocus.directive';\nimport { BlurClickDirective } from 'jslib/angular/directives/blur-click.directive';\nimport { BoxRowDirective } from 'jslib/angular/directives/box-row.directive';\nimport { FallbackSrcDirective } from 'jslib/angular/directives/fallback-src.directive';\nimport { InputVerbatimDirective } from 'jslib/angular/directives/input-verbatim.directive';\nimport { StopClickDirective } from 'jslib/angular/directives/stop-click.directive';\nimport { StopPropDirective } from 'jslib/angular/directives/stop-prop.directive';\nimport { TrueFalseValueDirective } from 'jslib/angular/directives/true-false-value.directive';\n\nimport { I18nPipe } from 'jslib/angular/pipes/i18n.pipe';\nimport { SearchCiphersPipe } from 'jslib/angular/pipes/search-ciphers.pipe';\n\nimport { ActionButtonsComponent } from './components/action-buttons.component';\nimport { CiphersListComponent } from './components/ciphers-list.component';\nimport { PopOutComponent } from './components/pop-out.component';\n\nimport { IconComponent } from 'jslib/angular/components/icon.component';\n\nimport {\n    CurrencyPipe,\n    registerLocaleData,\n} from '@angular/common';\nimport localeBg from '@angular/common/locales/bg';\nimport localeCs from '@angular/common/locales/cs';\nimport localeDa from '@angular/common/locales/da';\nimport localeDe from '@angular/common/locales/de';\nimport localeEs from '@angular/common/locales/es';\nimport localeEt from '@angular/common/locales/et';\nimport localeFa from '@angular/common/locales/fa';\nimport localeFi from '@angular/common/locales/fi';\nimport localeFr from '@angular/common/locales/fr';\nimport localeHr from '@angular/common/locales/hr';\nimport localeHu from '@angular/common/locales/hu';\nimport localeId from '@angular/common/locales/id';\nimport localeIt from '@angular/common/locales/it';\nimport localeJa from '@angular/common/locales/ja';\nimport localeKo from '@angular/common/locales/ko';\nimport localeNb from '@angular/common/locales/nb';\nimport localeNl from '@angular/common/locales/nl';\nimport localePl from '@angular/common/locales/pl';\nimport localePtBr from '@angular/common/locales/pt';\nimport localePtPt from '@angular/common/locales/pt-PT';\nimport localeRo from '@angular/common/locales/ro';\nimport localeRu from '@angular/common/locales/ru';\nimport localeSk from '@angular/common/locales/sk';\nimport localeSv from '@angular/common/locales/sv';\nimport localeTh from '@angular/common/locales/th';\nimport localeTr from '@angular/common/locales/tr';\nimport localeUk from '@angular/common/locales/uk';\nimport localeVi from '@angular/common/locales/vi';\nimport localeZhCn from '@angular/common/locales/zh-Hans';\nimport localeZhTw from '@angular/common/locales/zh-Hant';\n\nregisterLocaleData(localeBg, 'bg');\nregisterLocaleData(localeCs, 'cs');\nregisterLocaleData(localeDa, 'da');\nregisterLocaleData(localeDe, 'de');\nregisterLocaleData(localeEs, 'es');\nregisterLocaleData(localeEt, 'et');\nregisterLocaleData(localeFa, 'fa');\nregisterLocaleData(localeFi, 'fi');\nregisterLocaleData(localeFr, 'fr');\nregisterLocaleData(localeHr, 'hr');\nregisterLocaleData(localeHu, 'hu');\nregisterLocaleData(localeId, 'id');\nregisterLocaleData(localeIt, 'it');\nregisterLocaleData(localeJa, 'ja');\nregisterLocaleData(localeKo, 'ko');\nregisterLocaleData(localeNb, 'nb');\nregisterLocaleData(localeNl, 'nl');\nregisterLocaleData(localePl, 'pl');\nregisterLocaleData(localePtBr, 'pt-BR');\nregisterLocaleData(localePtPt, 'pt-PT');\nregisterLocaleData(localeRo, 'ro');\nregisterLocaleData(localeRu, 'ru');\nregisterLocaleData(localeSk, 'sk');\nregisterLocaleData(localeSv, 'sv');\nregisterLocaleData(localeTh, 'th');\nregisterLocaleData(localeTr, 'tr');\nregisterLocaleData(localeUk, 'uk');\nregisterLocaleData(localeVi, 'vi');\nregisterLocaleData(localeZhCn, 'zh-CN');\nregisterLocaleData(localeZhTw, 'zh-TW');\n\n@NgModule({\n    imports: [\n        BrowserModule,\n        BrowserAnimationsModule,\n        FormsModule,\n        AppRoutingModule,\n        ServicesModule,\n        Angulartics2Module.forRoot([Angulartics2GoogleAnalytics], {\n            pageTracking: {\n                clearQueryParams: true,\n            },\n        }),\n        ToasterModule.forRoot(),\n        InfiniteScrollModule,\n    ],\n    declarations: [\n        ActionButtonsComponent,\n        AddEditComponent,\n        ApiActionDirective,\n        AppComponent,\n        AttachmentsComponent,\n        AutofocusDirective,\n        BlurClickDirective,\n        BoxRowDirective,\n        CiphersComponent,\n        CiphersListComponent,\n        CurrentTabComponent,\n        EnvironmentComponent,\n        ExportComponent,\n        FallbackSrcDirective,\n        FolderAddEditComponent,\n        FoldersComponent,\n        GroupingsComponent,\n        HomeComponent,\n        HintComponent,\n        I18nPipe,\n        IconComponent,\n        InputVerbatimDirective,\n        LockComponent,\n        LoginComponent,\n        OptionsComponent,\n        PasswordGeneratorComponent,\n        PasswordGeneratorHistoryComponent,\n        PasswordHistoryComponent,\n        PopOutComponent,\n        PremiumComponent,\n        PrivateModeComponent,\n        RegisterComponent,\n        SearchCiphersPipe,\n        SettingsComponent,\n        StopClickDirective,\n        StopPropDirective,\n        SyncComponent,\n        TabsComponent,\n        TrueFalseValueDirective,\n        TwoFactorOptionsComponent,\n        TwoFactorComponent,\n        ViewComponent,\n    ],\n    entryComponents: [],\n    providers: [\n        CurrencyPipe,\n    ],\n    bootstrap: [AppComponent],\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class BroadcasterService {\n    subscribers: Map<string, (message: any) => any> = new Map<string, (message: any) => any>();\n\n    send(message: any, id?: string) {\n        if (id != null) {\n            if (this.subscribers.has(id)) {\n                this.subscribers.get(id)(message);\n            }\n            return;\n        }\n\n        this.subscribers.forEach((value) => {\n            value(message);\n        });\n    }\n\n    subscribe(id: string, messageCallback: (message: any) => any) {\n        if (this.subscribers.has(id)) {\n            return;\n        }\n\n        this.subscribers.set(id, messageCallback);\n    }\n\n    unsubscribe(id: string) {\n        if (this.subscribers.has(id)) {\n            this.subscribers.delete(id);\n        }\n    }\n}\n","import { TwoFactorProviderType } from '../enums/twoFactorProviderType';\n\nimport { AuthResult } from '../models/domain/authResult';\nimport { SymmetricCryptoKey } from '../models/domain/symmetricCryptoKey';\n\nexport abstract class AuthService {\n    email: string;\n    masterPasswordHash: string;\n    twoFactorProviders: Map<TwoFactorProviderType, { [key: string]: string; }>;\n    selectedTwoFactorProviderType: TwoFactorProviderType;\n\n    logIn: (email: string, masterPassword: string) => Promise<AuthResult>;\n    logInTwoFactor: (twoFactorProvider: TwoFactorProviderType, twoFactorToken: string,\n        remember?: boolean) => Promise<AuthResult>;\n    logInComplete: (email: string, masterPassword: string, twoFactorProvider: TwoFactorProviderType,\n        twoFactorToken: string, remember?: boolean) => Promise<AuthResult>;\n    logOut: (callback: Function) => void;\n    getSupportedTwoFactorProviders: (win: Window) => any[];\n    getDefaultTwoFactorProvider: (u2fSupported: boolean) => TwoFactorProviderType;\n    makePreloginKey: (masterPassword: string, email: string) => Promise<SymmetricCryptoKey>;\n}\n","export abstract class I18nService {\n    locale: string;\n    supportedTranslationLocales: string[];\n    translationLocale: string;\n    collator: Intl.Collator;\n    t: (id: string, p1?: string, p2?: string, p3?: string) => string;\n    translate: (id: string, p1?: string, p2?: string, p3?: string) => string;\n}\n","export abstract class MessagingService {\n    send: (subscriber: string, arg?: any) => void;\n}\n","export abstract class StateService {\n    get: <T>(key: string) => Promise<T>;\n    save: (key: string, obj: any) => Promise<any>;\n    remove: (key: string) => Promise<any>;\n    purge: () => Promise<any>;\n}\n","export abstract class StorageService {\n    get: <T>(key: string) => Promise<T>;\n    save: (key: string, obj: any) => Promise<any>;\n    remove: (key: string) => Promise<any>;\n}\n","import { BrowserApi } from '../browser/browserApi';\n\nimport {\n    BodyOutputType,\n    Toast,\n    ToasterConfig,\n    ToasterContainerComponent,\n    ToasterService,\n} from 'angular2-toaster';\nimport { Angulartics2GoogleAnalytics } from 'angulartics2/ga';\nimport swal from 'sweetalert';\n\nimport {\n    ChangeDetectorRef,\n    Component,\n    NgZone,\n    OnInit,\n    SecurityContext,\n} from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport {\n    NavigationEnd,\n    Router,\n    RouterOutlet,\n} from '@angular/router';\n\nimport { Angulartics2 } from 'angulartics2';\n\nimport { BroadcasterService } from 'jslib/angular/services/broadcaster.service';\n\nimport { AuthService } from 'jslib/abstractions/auth.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { StateService } from 'jslib/abstractions/state.service';\nimport { StorageService } from 'jslib/abstractions/storage.service';\n\nimport { ConstantsService } from 'jslib/services/constants.service';\n\nimport { routerTransition } from './app-routing.animations';\n\n@Component({\n    selector: 'app-root',\n    styles: [],\n    animations: [routerTransition],\n    template: `\n        <toaster-container [toasterconfig]=\"toasterConfig\"></toaster-container>\n        <main [@routerTransition]=\"getState(o)\">\n            <router-outlet #o=\"outlet\"></router-outlet>\n        </main>`,\n})\nexport class AppComponent implements OnInit {\n    toasterConfig: ToasterConfig = new ToasterConfig({\n        showCloseButton: false,\n        mouseoverTimerStop: true,\n        animation: 'slideUp',\n        limit: 2,\n        positionClass: 'toast-bottom-full-width',\n        newestOnTop: false,\n    });\n\n    private lastActivity: number = null;\n    private previousUrl: string = '';\n\n    constructor(private angulartics2GoogleAnalytics: Angulartics2GoogleAnalytics, private analytics: Angulartics2,\n        private toasterService: ToasterService, private storageService: StorageService,\n        private broadcasterService: BroadcasterService, private authService: AuthService,\n        private i18nService: I18nService, private router: Router,\n        private stateService: StateService, private messagingService: MessagingService,\n        private changeDetectorRef: ChangeDetectorRef, private ngZone: NgZone,\n        private sanitizer: DomSanitizer) { }\n\n    ngOnInit() {\n        if (BrowserApi.getBackgroundPage() == null) {\n            return;\n        }\n\n        this.ngZone.runOutsideAngular(() => {\n            window.onmousemove = () => this.recordActivity();\n            window.onmousedown = () => this.recordActivity();\n            window.ontouchstart = () => this.recordActivity();\n            window.onclick = () => this.recordActivity();\n            window.onscroll = () => this.recordActivity();\n            window.onkeypress = () => this.recordActivity();\n        });\n\n        (window as any).bitwardenPopupMainMessageListener = async (msg: any, sender: any, sendResponse: any) => {\n            if (msg.command === 'doneLoggingOut') {\n                this.ngZone.run(async () => {\n                    this.authService.logOut(() => {\n                        this.analytics.eventTrack.next({ action: 'Logged Out' });\n                        if (msg.expired) {\n                            this.showToast({\n                                type: 'warning',\n                                title: this.i18nService.t('loggedOut'),\n                                text: this.i18nService.t('loginExpired'),\n                            });\n                        }\n                        this.router.navigate(['home']);\n                        this.stateService.purge();\n                    });\n                    this.changeDetectorRef.detectChanges();\n                });\n            } else if (msg.command === 'locked') {\n                this.stateService.purge();\n            } else if (msg.command === 'showDialog') {\n                await this.showDialog(msg);\n            } else if (msg.command === 'showToast') {\n                this.ngZone.run(() => {\n                    this.showToast(msg);\n                });\n            } else if (msg.command === 'analyticsEventTrack') {\n                this.analytics.eventTrack.next({\n                    action: msg.action,\n                    properties: { label: msg.label },\n                });\n            } else {\n                msg.webExtSender = sender;\n                this.broadcasterService.send(msg);\n            }\n        };\n\n        BrowserApi.messageListener((window as any).bitwardenPopupMainMessageListener);\n\n        this.router.events.subscribe((event) => {\n            if (event instanceof NavigationEnd) {\n                const url = event.urlAfterRedirects || event.url || '';\n                if (url.startsWith('/tabs/') && this.previousUrl.startsWith('/tabs/')) {\n                    this.stateService.remove('GroupingsComponent');\n                    this.stateService.remove('CiphersComponent');\n                }\n                if (url.startsWith('/tabs/')) {\n                    this.stateService.remove('addEditCipher');\n                }\n                this.previousUrl = url;\n            }\n        });\n    }\n\n    getState(outlet: RouterOutlet) {\n        return BrowserApi.isEdge18 ? null : outlet.activatedRouteData.state;\n    }\n\n    private async recordActivity() {\n        const now = (new Date()).getTime();\n        if (this.lastActivity != null && now - this.lastActivity < 250) {\n            return;\n        }\n\n        this.lastActivity = now;\n        this.storageService.save(ConstantsService.lastActiveKey, now);\n    }\n\n    private showToast(msg: any) {\n        const toast: Toast = {\n            type: msg.type,\n            title: msg.title,\n        };\n        if (typeof (msg.text) === 'string') {\n            toast.body = msg.text;\n        } else if (msg.text.length === 1) {\n            toast.body = msg.text[0];\n        } else {\n            let message = '';\n            msg.text.forEach((t: string) =>\n                message += ('<p>' + this.sanitizer.sanitize(SecurityContext.HTML, t) + '</p>'));\n            toast.body = message;\n            toast.bodyOutputType = BodyOutputType.TrustedHtml;\n        }\n        if (msg.options != null) {\n            if (msg.options.trustedHtml === true) {\n                toast.bodyOutputType = BodyOutputType.TrustedHtml;\n            }\n            if (msg.options.timeout != null && msg.options.timeout > 0) {\n                toast.timeout = msg.options.timeout;\n            }\n        }\n        this.toasterService.popAsync(toast);\n    }\n\n    private async showDialog(msg: any) {\n        const buttons = [msg.confirmText == null ? this.i18nService.t('ok') : msg.confirmText];\n        if (msg.cancelText != null) {\n            buttons.unshift(msg.cancelText);\n        }\n\n        const contentDiv = document.createElement('div');\n        if (msg.type != null) {\n            const icon = document.createElement('i');\n            icon.classList.add('swal-custom-icon');\n            switch (msg.type) {\n                case 'success':\n                    icon.classList.add('fa', 'fa-check', 'text-success');\n                    break;\n                case 'warning':\n                    icon.classList.add('fa', 'fa-warning', 'text-warning');\n                    break;\n                case 'error':\n                    icon.classList.add('fa', 'fa-bolt', 'text-danger');\n                    break;\n                case 'info':\n                    icon.classList.add('fa', 'fa-info-circle', 'text-info');\n                    break;\n                default:\n                    break;\n            }\n            if (icon.classList.contains('fa')) {\n                contentDiv.appendChild(icon);\n            }\n        }\n\n        if (msg.title != null) {\n            const titleDiv = document.createElement('div');\n            titleDiv.classList.add('swal-title');\n            titleDiv.appendChild(document.createTextNode(msg.title));\n            contentDiv.appendChild(titleDiv);\n        }\n\n        if (msg.text != null) {\n            const textDiv = document.createElement('div');\n            textDiv.classList.add('swal-text');\n            textDiv.appendChild(document.createTextNode(msg.text));\n            contentDiv.appendChild(textDiv);\n        }\n\n        const confirmed = await swal({\n            content: { element: contentDiv },\n            buttons: buttons,\n            timer: 300000, // 5 minute timeout\n        });\n\n        this.messagingService.send('showDialogResolve', {\n            dialogId: msg.dialogId,\n            confirmed: confirmed,\n        });\n    }\n}\n","import {\n    Pipe,\n    PipeTransform,\n} from '@angular/core';\n\nimport { I18nService } from '../../abstractions/i18n.service';\n\n@Pipe({\n    name: 'i18n',\n})\nexport class I18nPipe implements PipeTransform {\n    constructor(private i18nService: I18nService) { }\n\n    transform(id: string, p1?: string, p2?: string, p3?: string): string {\n        return this.i18nService.t(id, p1, p2, p3);\n    }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'app-home',\n    templateUrl: 'home.component.html',\n})\nexport class HomeComponent { }\n","<div class=\"center-content\">\n    <div class=\"content\">\n        <div class=\"logo-image\"></div>\n        <p class=\"lead text-center\">{{'loginOrCreateNewAccount' | i18n}}</p>\n        <a class=\"btn primary block\" routerLink=\"/login\"><b>{{'login' | i18n}}</b></a>\n        <a class=\"btn block\" routerLink=\"/register\">{{'createAccount' | i18n}}</a>\n    </div>\n</div>\n<a routerLink=\"/environment\" class=\"settings-icon\">\n    <i class=\"fa fa-cog fa-lg\"></i><span>&nbsp;{{'settings' | i18n}}</span>\n</a>\n","import { DeviceType } from '../enums/deviceType';\n\nexport abstract class PlatformUtilsService {\n    identityClientId: string;\n    getDevice: () => DeviceType;\n    getDeviceString: () => string;\n    isFirefox: () => boolean;\n    isChrome: () => boolean;\n    isEdge: () => boolean;\n    isOpera: () => boolean;\n    isVivaldi: () => boolean;\n    isSafari: () => boolean;\n    isIE: () => boolean;\n    isMacAppStore: () => boolean;\n    analyticsId: () => string;\n    getDomain: (uriString: string) => string;\n    isViewOpen: () => boolean;\n    lockTimeout: () => number;\n    launchUri: (uri: string, options?: any) => void;\n    saveFile: (win: Window, blobData: any, blobOptions: any, fileName: string) => void;\n    getApplicationVersion: () => string;\n    supportsU2f: (win: Window) => boolean;\n    supportsDuo: () => boolean;\n    showToast: (type: 'error' | 'success' | 'warning' | 'info', title: string, text: string | string[],\n        options?: any) => void;\n    showDialog: (text: string, title?: string, confirmText?: string, cancelText?: string,\n        type?: string) => Promise<boolean>;\n    eventTrack: (action: string, label?: string, options?: any) => void;\n    isDev: () => boolean;\n    isSelfHost: () => boolean;\n    copyToClipboard: (text: string, options?: any) => void;\n}\n","import { Injectable } from '@angular/core';\n\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\n\n@Injectable()\nexport class ValidationService {\n    constructor(private i18nService: I18nService, private platformUtilsService: PlatformUtilsService) { }\n\n    showError(data: any): string[] {\n        const defaultErrorMessage = this.i18nService.t('unexpectedError');\n        const errors: string[] = [];\n\n        if (data != null && typeof data === 'string') {\n            errors.push(data);\n        } else if (data == null || typeof data !== 'object') {\n            errors.push(defaultErrorMessage);\n        } else if (data.validationErrors == null) {\n            errors.push(data.message ? data.message : defaultErrorMessage);\n        } else {\n            for (const key in data.validationErrors) {\n                if (!data.validationErrors.hasOwnProperty(key)) {\n                    continue;\n                }\n\n                data.validationErrors[key].forEach((item: string) => {\n                    let prefix = '';\n                    if (key.indexOf('[') > -1 && key.indexOf(']') > -1) {\n                        const lastSep = key.lastIndexOf('.');\n                        prefix = key.substr(0, lastSep > -1 ? lastSep : key.length) + ': ';\n                    }\n                    errors.push(prefix + item);\n                });\n            }\n        }\n\n        if (errors.length === 1) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'), errors[0]);\n        } else if (errors.length > 1) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'), errors, {\n                timeout: 5000 * errors.length,\n            });\n        }\n\n        return errors;\n    }\n}\n","import {\n    Directive,\n    ElementRef,\n    Input,\n    OnChanges,\n} from '@angular/core';\n\nimport { ValidationService } from '../services/validation.service';\n\n@Directive({\n    selector: '[appApiAction]',\n})\nexport class ApiActionDirective implements OnChanges {\n    @Input() appApiAction: Promise<any>;\n\n    constructor(private el: ElementRef, private validationService: ValidationService) { }\n\n    ngOnChanges(changes: any) {\n        if (this.appApiAction == null || this.appApiAction.then == null) {\n            return;\n        }\n\n        this.el.nativeElement.loading = true;\n\n        this.appApiAction.then((response: any) => {\n            this.el.nativeElement.loading = false;\n        }, (e: any) => {\n            this.el.nativeElement.loading = false;\n            this.validationService.showError(e);\n        });\n    }\n}\n","import {\n    Directive,\n    ElementRef,\n    HostListener,\n} from '@angular/core';\n\n@Directive({\n    selector: '[appBlurClick]',\n})\nexport class BlurClickDirective {\n    constructor(private el: ElementRef) {\n    }\n\n    @HostListener('click') onClick() {\n        this.el.nativeElement.blur();\n    }\n}\n","import {\n    Directive,\n    ElementRef,\n    HostListener,\n    OnInit,\n} from '@angular/core';\n\n@Directive({\n    selector: '[appBoxRow]',\n})\nexport class BoxRowDirective implements OnInit {\n    el: HTMLElement = null;\n    formEls: Element[];\n\n    constructor(private elRef: ElementRef) {\n        this.el = elRef.nativeElement;\n    }\n\n    ngOnInit(): void {\n        this.formEls = Array.from(this.el.querySelectorAll('input:not([type=\"hidden\"]), select, textarea'));\n        this.formEls.forEach((formEl) => {\n            formEl.addEventListener('focus', (event: Event) => {\n                this.el.classList.add('active');\n            }, false);\n\n            formEl.addEventListener('blur', (event: Event) => {\n                this.el.classList.remove('active');\n            }, false);\n        });\n    }\n\n    @HostListener('click', ['$event']) onClick(event: Event) {\n        if (event.target !== this.el) {\n            return;\n        }\n\n        if (this.formEls.length > 0) {\n            const formEl = (this.formEls[0] as HTMLElement);\n            if (formEl.tagName.toLowerCase() === 'input') {\n                const inputEl = (formEl as HTMLInputElement);\n                if (inputEl.type != null && inputEl.type.toLowerCase() === 'checkbox') {\n                    inputEl.click();\n                    return;\n                }\n            }\n            formEl.focus();\n        }\n    }\n}\n","import {\n    Directive,\n    ElementRef,\n    Input,\n    Renderer2,\n} from '@angular/core';\n\n@Directive({\n    selector: '[appInputVerbatim]',\n})\nexport class InputVerbatimDirective {\n    @Input() set appInputVerbatim(condition: boolean | string) {\n        this.disableComplete = condition === '' || condition === true;\n    }\n\n    private disableComplete: boolean;\n\n    constructor(private el: ElementRef, private renderer: Renderer2) { }\n\n    ngOnInit() {\n        if (this.disableComplete && !this.el.nativeElement.hasAttribute('autocomplete')) {\n            this.renderer.setAttribute(this.el.nativeElement, 'autocomplete', 'off');\n        }\n        if (!this.el.nativeElement.hasAttribute('autocapitalize')) {\n            this.renderer.setAttribute(this.el.nativeElement, 'autocapitalize', 'none');\n        }\n        if (!this.el.nativeElement.hasAttribute('autocorrect')) {\n            this.renderer.setAttribute(this.el.nativeElement, 'autocorrect', 'none');\n        }\n        if (!this.el.nativeElement.hasAttribute('spellcheck')) {\n            this.renderer.setAttribute(this.el.nativeElement, 'spellcheck', 'false');\n        }\n        if (!this.el.nativeElement.hasAttribute('inputmode')) {\n            this.renderer.setAttribute(this.el.nativeElement, 'inputmode', 'verbatim');\n        }\n    }\n}\n","import {\n    Directive,\n    HostListener,\n} from '@angular/core';\n\n@Directive({\n    selector: '[appStopClick]',\n})\nexport class StopClickDirective {\n    @HostListener('click', ['$event']) onClick($event: MouseEvent) {\n        $event.preventDefault();\n    }\n}\n","import {\n    SyncCipherNotification,\n    SyncFolderNotification,\n} from '../models/response/notificationResponse';\n\nexport abstract class SyncService {\n    syncInProgress: boolean;\n\n    getLastSync: () => Promise<Date>;\n    setLastSync: (date: Date) => Promise<any>;\n    fullSync: (forceSync: boolean) => Promise<boolean>;\n    syncUpsertFolder: (notification: SyncFolderNotification, isEdit: boolean) => Promise<boolean>;\n    syncDeleteFolder: (notification: SyncFolderNotification) => Promise<boolean>;\n    syncUpsertCipher: (notification: SyncCipherNotification, isEdit: boolean) => Promise<boolean>;\n    syncDeleteCipher: (notification: SyncFolderNotification) => Promise<boolean>;\n}\n","import {\n    Input,\n    OnInit,\n} from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { AuthResult } from '../../models/domain/authResult';\n\nimport { AuthService } from '../../abstractions/auth.service';\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\nimport { StorageService } from '../../abstractions/storage.service';\n\nimport { Utils } from '../../misc/utils';\n\nconst Keys = {\n    rememberedEmail: 'rememberedEmail',\n    rememberEmail: 'rememberEmail',\n};\n\nexport class LoginComponent implements OnInit {\n    @Input() email: string = '';\n    @Input() rememberEmail = true;\n\n    masterPassword: string = '';\n    showPassword: boolean = false;\n    formPromise: Promise<AuthResult>;\n    onSuccessfulLogin: () => Promise<any>;\n    onSuccessfulLoginNavigate: () => Promise<any>;\n\n    protected twoFactorRoute = '2fa';\n    protected successRoute = 'vault';\n\n    constructor(protected authService: AuthService, protected router: Router,\n        protected platformUtilsService: PlatformUtilsService, protected i18nService: I18nService,\n        private storageService: StorageService) { }\n\n    async ngOnInit() {\n        if (this.email == null || this.email === '') {\n            this.email = await this.storageService.get<string>(Keys.rememberedEmail);\n            if (this.email == null) {\n                this.email = '';\n            }\n        }\n        this.rememberEmail = await this.storageService.get<boolean>(Keys.rememberEmail);\n        if (this.rememberEmail == null) {\n            this.rememberEmail = true;\n        }\n        if (Utils.isBrowser) {\n            document.getElementById(this.email == null || this.email === '' ? 'email' : 'masterPassword').focus();\n        }\n    }\n\n    async submit() {\n        if (this.email == null || this.email === '') {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('emailRequired'));\n            return;\n        }\n        if (this.email.indexOf('@') === -1) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('invalidEmail'));\n            return;\n        }\n        if (this.masterPassword == null || this.masterPassword === '') {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('masterPassRequired'));\n            return;\n        }\n\n        try {\n            this.formPromise = this.authService.logIn(this.email, this.masterPassword);\n            const response = await this.formPromise;\n            await this.storageService.save(Keys.rememberEmail, this.rememberEmail);\n            if (this.rememberEmail) {\n                await this.storageService.save(Keys.rememberedEmail, this.email);\n            } else {\n                await this.storageService.remove(Keys.rememberedEmail);\n            }\n            if (response.twoFactor) {\n                this.platformUtilsService.eventTrack('Logged In To Two-step');\n                this.router.navigate([this.twoFactorRoute]);\n            } else {\n                if (this.onSuccessfulLogin != null) {\n                    this.onSuccessfulLogin();\n                }\n                this.platformUtilsService.eventTrack('Logged In');\n                if (this.onSuccessfulLoginNavigate != null) {\n                    this.onSuccessfulLoginNavigate();\n                } else {\n                    this.router.navigate([this.successRoute]);\n                }\n            }\n        } catch { }\n    }\n\n    togglePassword() {\n        this.platformUtilsService.eventTrack('Toggled Master Password on Login');\n        this.showPassword = !this.showPassword;\n        document.getElementById('masterPassword').focus();\n    }\n}\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { AuthService } from 'jslib/abstractions/auth.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { StorageService } from 'jslib/abstractions/storage.service';\nimport { SyncService } from 'jslib/abstractions/sync.service';\n\nimport { LoginComponent as BaseLoginComponent } from 'jslib/angular/components/login.component';\n\n@Component({\n    selector: 'app-login',\n    templateUrl: 'login.component.html',\n})\nexport class LoginComponent extends BaseLoginComponent {\n    constructor(authService: AuthService, router: Router,\n        platformUtilsService: PlatformUtilsService, i18nService: I18nService,\n        syncService: SyncService, storageService: StorageService) {\n        super(authService, router, platformUtilsService, i18nService, storageService);\n        super.onSuccessfulLogin = () => {\n            return syncService.fullSync(true);\n        };\n        super.successRoute = '/tabs/vault';\n    }\n\n    settings() {\n        this.router.navigate(['environment']);\n    }\n}\n","<form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\">\n    <header>\n        <div class=\"left\">\n            <a routerLink=\"/home\">{{'cancel' | i18n}}</a>\n        </div>\n        <div class=\"center\">\n            <span class=\"title\">{{'appName' | i18n}}</span>\n        </div>\n        <div class=\"right\">\n            <button type=\"submit\" appBlurClick [disabled]=\"form.loading\">\n                <span [hidden]=\"form.loading\">{{'login' | i18n}}</span>\n                <i class=\"fa fa-spinner fa-lg fa-spin\" [hidden]=\"!form.loading\"></i>\n            </button>\n        </div>\n    </header>\n    <content>\n        <div class=\"box\">\n            <div class=\"box-content\">\n                <div class=\"box-content-row\" appBoxRow>\n                    <label for=\"email\">{{'emailAddress' | i18n}}</label>\n                    <input id=\"email\" type=\"text\" name=\"Email\" [(ngModel)]=\"email\" required\n                           inputmode=\"email\" appInputVerbatim=\"false\">\n                </div>\n                <div class=\"box-content-row box-content-row-flex\" appBoxRow>\n                    <div class=\"row-main\">\n                        <label for=\"masterPassword\">{{'masterPass' | i18n}}</label>\n                        <input id=\"masterPassword\" type=\"{{showPassword ? 'text' : 'password'}}\" name=\"MasterPassword\"\n                               class=\"monospaced\" [(ngModel)]=\"masterPassword\" required appInputVerbatim>\n                    </div>\n                    <div class=\"action-buttons\">\n                        <a class=\"row-btn\" href=\"#\" appStopClick appBlurClick\n                           title=\"{{'toggleVisibility' | i18n}}\" (click)=\"togglePassword()\">\n                            <i class=\"fa fa-lg\"\n                               [ngClass]=\"{'fa-eye': !showPassword, 'fa-eye-slash': showPassword}\"></i>\n                        </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <p class=\"text-center\">\n            <a routerLink=\"/hint\">{{'getMasterPasswordHint' | i18n}}</a>\n        </p>\n    </content>\n</form>\n","import { CipherString } from '../models/domain/cipherString';\nimport { SymmetricCryptoKey } from '../models/domain/symmetricCryptoKey';\n\nimport { ProfileOrganizationResponse } from '../models/response/profileOrganizationResponse';\n\nimport { KdfType } from '../enums/kdfType';\n\nexport abstract class CryptoService {\n    setKey: (key: SymmetricCryptoKey) => Promise<any>;\n    setKeyHash: (keyHash: string) => Promise<{}>;\n    setEncKey: (encKey: string) => Promise<{}>;\n    setEncPrivateKey: (encPrivateKey: string) => Promise<{}>;\n    setOrgKeys: (orgs: ProfileOrganizationResponse[]) => Promise<{}>;\n    getKey: () => Promise<SymmetricCryptoKey>;\n    getKeyHash: () => Promise<string>;\n    getEncKey: () => Promise<SymmetricCryptoKey>;\n    getPublicKey: () => Promise<ArrayBuffer>;\n    getPrivateKey: () => Promise<ArrayBuffer>;\n    getOrgKeys: () => Promise<Map<string, SymmetricCryptoKey>>;\n    getOrgKey: (orgId: string) => Promise<SymmetricCryptoKey>;\n    hasKey: () => Promise<boolean>;\n    hasEncKey: () => Promise<boolean>;\n    clearKey: () => Promise<any>;\n    clearKeyHash: () => Promise<any>;\n    clearEncKey: (memoryOnly?: boolean) => Promise<any>;\n    clearKeyPair: (memoryOnly?: boolean) => Promise<any>;\n    clearOrgKeys: (memoryOnly?: boolean) => Promise<any>;\n    clearKeys: () => Promise<any>;\n    toggleKey: () => Promise<any>;\n    makeKey: (password: string, salt: string, kdf: KdfType, kdfIterations: number) => Promise<SymmetricCryptoKey>;\n    makeShareKey: () => Promise<[CipherString, SymmetricCryptoKey]>;\n    makeKeyPair: (key?: SymmetricCryptoKey) => Promise<[string, CipherString]>;\n    hashPassword: (password: string, key: SymmetricCryptoKey) => Promise<string>;\n    makeEncKey: (key: SymmetricCryptoKey) => Promise<[SymmetricCryptoKey, CipherString]>;\n    remakeEncKey: (key: SymmetricCryptoKey) => Promise<[SymmetricCryptoKey, CipherString]>;\n    encrypt: (plainValue: string | ArrayBuffer, key?: SymmetricCryptoKey) => Promise<CipherString>;\n    encryptToBytes: (plainValue: ArrayBuffer, key?: SymmetricCryptoKey) => Promise<ArrayBuffer>;\n    rsaEncrypt: (data: ArrayBuffer, publicKey?: ArrayBuffer, key?: SymmetricCryptoKey) => Promise<CipherString>;\n    decryptToBytes: (cipherString: CipherString, key?: SymmetricCryptoKey) => Promise<ArrayBuffer>;\n    decryptToUtf8: (cipherString: CipherString, key?: SymmetricCryptoKey) => Promise<string>;\n    decryptFromBytes: (encBuf: ArrayBuffer, key: SymmetricCryptoKey) => Promise<ArrayBuffer>;\n    randomNumber: (min: number, max: number) => Promise<number>;\n}\n","import { OrganizationData } from '../models/data/organizationData';\nimport { Organization } from '../models/domain/organization';\n\nimport { KdfType } from '../enums/kdfType';\n\nexport abstract class UserService {\n    setInformation: (userId: string, email: string, kdf: KdfType, kdfIterations: number) => Promise<any>;\n    setSecurityStamp: (stamp: string) => Promise<any>;\n    getUserId: () => Promise<string>;\n    getEmail: () => Promise<string>;\n    getSecurityStamp: () => Promise<string>;\n    getKdf: () => Promise<KdfType>;\n    getKdfIterations: () => Promise<number>;\n    clear: () => Promise<any>;\n    isAuthenticated: () => Promise<boolean>;\n    canAccessPremium: () => Promise<boolean>;\n    getOrganization: (id: string) => Promise<Organization>;\n    getAllOrganizations: () => Promise<Organization[]>;\n    replaceOrganizations: (organizations: { [id: string]: OrganizationData; }) => Promise<any>;\n    clearOrganizations: (userId: string) => Promise<any>;\n}\n","import { Router } from '@angular/router';\n\nimport { CryptoService } from '../../abstractions/crypto.service';\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { MessagingService } from '../../abstractions/messaging.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\nimport { UserService } from '../../abstractions/user.service';\n\nexport class LockComponent {\n    masterPassword: string = '';\n    showPassword: boolean = false;\n\n    protected successRoute: string = 'vault';\n\n    constructor(protected router: Router, protected i18nService: I18nService,\n        protected platformUtilsService: PlatformUtilsService, protected messagingService: MessagingService,\n        protected userService: UserService, protected cryptoService: CryptoService) { }\n\n    async submit() {\n        if (this.masterPassword == null || this.masterPassword === '') {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('masterPassRequired'));\n            return;\n        }\n\n        const email = await this.userService.getEmail();\n        const kdf = await this.userService.getKdf();\n        const kdfIterations = await this.userService.getKdfIterations();\n        const key = await this.cryptoService.makeKey(this.masterPassword, email, kdf, kdfIterations);\n        const keyHash = await this.cryptoService.hashPassword(this.masterPassword, key);\n        const storedKeyHash = await this.cryptoService.getKeyHash();\n\n        if (storedKeyHash != null && keyHash != null && storedKeyHash === keyHash) {\n            await this.cryptoService.setKey(key);\n            this.messagingService.send('unlocked');\n            this.router.navigate([this.successRoute]);\n        } else {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('invalidMasterPassword'));\n        }\n    }\n\n    async logOut() {\n        const confirmed = await this.platformUtilsService.showDialog(this.i18nService.t('logOutConfirmation'),\n            this.i18nService.t('logOut'), this.i18nService.t('logOut'), this.i18nService.t('cancel'));\n        if (confirmed) {\n            this.messagingService.send('logout');\n        }\n    }\n\n    togglePassword() {\n        this.platformUtilsService.eventTrack('Toggled Master Password on Unlock');\n        this.showPassword = !this.showPassword;\n        document.getElementById('masterPassword').focus();\n    }\n}\n","import {\n    Component,\n    OnInit,\n} from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { LockComponent as BaseLockComponent } from 'jslib/angular/components/lock.component';\n\n@Component({\n    selector: 'app-lock',\n    templateUrl: 'lock.component.html',\n})\nexport class LockComponent extends BaseLockComponent implements OnInit {\n    constructor(router: Router, i18nService: I18nService,\n        platformUtilsService: PlatformUtilsService, messagingService: MessagingService,\n        userService: UserService, cryptoService: CryptoService) {\n        super(router, i18nService, platformUtilsService, messagingService, userService, cryptoService);\n        this.successRoute = '/tabs/current';\n    }\n\n    ngOnInit() {\n        window.setTimeout(() => {\n            document.getElementById('masterPassword').focus();\n        }, 100);\n    }\n}\n","<form (ngSubmit)=\"submit()\">\n    <header>\n        <div class=\"left\"></div>\n        <div class=\"center\">\n            <span class=\"title\">{{'verifyMasterPassword' | i18n}}</span>\n        </div>\n        <div class=\"right\">\n            <button type=\"submit\" appBlurClick>{{'submit' | i18n}}</button>\n        </div>\n    </header>\n    <content>\n        <div class=\"box\">\n            <div class=\"box-content\">\n                <div class=\"box-content-row box-content-row-flex\" appBoxRow>\n                    <div class=\"row-main\">\n                        <label for=\"masterPassword\">{{'masterPass' | i18n}}</label>\n                        <input id=\"masterPassword\" type=\"{{showPassword ? 'text' : 'password'}}\" name=\"MasterPassword\"\n                               class=\"monospaced\" [(ngModel)]=\"masterPassword\" required appInputVerbatim>\n                    </div>\n                    <div class=\"action-buttons\">\n                        <a class=\"row-btn\" href=\"#\" appStopClick appBlurClick\n                           title=\"{{'toggleVisibility' | i18n}}\" (click)=\"togglePassword()\">\n                            <i class=\"fa fa-lg\"\n                               [ngClass]=\"{'fa-eye': !showPassword, 'fa-eye-slash': showPassword}\"></i>\n                        </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <p class=\"text-center\">\n            <a href=\"#\" appStopClick (click)=\"logOut()\">{{'logOut' | i18n}}</a>\n        </p>\n    </content>\n</form>\n","import {\n    Directive,\n    ElementRef,\n    Input,\n} from '@angular/core';\n\nimport { Utils } from '../../misc/utils';\n\n@Directive({\n    selector: '[appAutofocus]',\n})\nexport class AutofocusDirective {\n    @Input() set appAutofocus(condition: boolean | string) {\n        this.autofocus = condition === '' || condition === true;\n    }\n\n    private autofocus: boolean;\n\n    constructor(private el: ElementRef) { }\n\n    ngOnInit() {\n        if (!Utils.isMobileBrowser && this.autofocus) {\n            this.el.nativeElement.focus();\n        }\n    }\n}\n","import { EnvironmentUrls } from '../models/domain/environmentUrls';\n\nimport { CipherBulkDeleteRequest } from '../models/request/cipherBulkDeleteRequest';\nimport { CipherBulkMoveRequest } from '../models/request/cipherBulkMoveRequest';\nimport { CipherBulkShareRequest } from '../models/request/cipherBulkShareRequest';\nimport { CipherCollectionsRequest } from '../models/request/cipherCollectionsRequest';\nimport { CipherRequest } from '../models/request/cipherRequest';\nimport { CipherShareRequest } from '../models/request/cipherShareRequest';\nimport { CollectionRequest } from '../models/request/collectionRequest';\nimport { DeleteRecoverRequest } from '../models/request/deleteRecoverRequest';\nimport { EmailRequest } from '../models/request/emailRequest';\nimport { EmailTokenRequest } from '../models/request/emailTokenRequest';\nimport { FolderRequest } from '../models/request/folderRequest';\nimport { GroupRequest } from '../models/request/groupRequest';\nimport { ImportCiphersRequest } from '../models/request/importCiphersRequest';\nimport { ImportDirectoryRequest } from '../models/request/importDirectoryRequest';\nimport { ImportOrganizationCiphersRequest } from '../models/request/importOrganizationCiphersRequest';\nimport { KdfRequest } from '../models/request/kdfRequest';\nimport { KeysRequest } from '../models/request/keysRequest';\nimport { OrganizationCreateRequest } from '../models/request/organizationCreateRequest';\nimport { OrganizationUpdateRequest } from '../models/request/organizationUpdateRequest';\nimport { OrganizationUserAcceptRequest } from '../models/request/organizationUserAcceptRequest';\nimport { OrganizationUserConfirmRequest } from '../models/request/organizationUserConfirmRequest';\nimport { OrganizationUserInviteRequest } from '../models/request/organizationUserInviteRequest';\nimport { OrganizationUserUpdateGroupsRequest } from '../models/request/organizationUserUpdateGroupsRequest';\nimport { OrganizationUserUpdateRequest } from '../models/request/organizationUserUpdateRequest';\nimport { PasswordHintRequest } from '../models/request/passwordHintRequest';\nimport { PasswordRequest } from '../models/request/passwordRequest';\nimport { PasswordVerificationRequest } from '../models/request/passwordVerificationRequest';\nimport { PaymentRequest } from '../models/request/paymentRequest';\nimport { PreloginRequest } from '../models/request/preloginRequest';\nimport { RegisterRequest } from '../models/request/registerRequest';\nimport { SeatRequest } from '../models/request/seatRequest';\nimport { StorageRequest } from '../models/request/storageRequest';\nimport { TokenRequest } from '../models/request/tokenRequest';\nimport { TwoFactorEmailRequest } from '../models/request/twoFactorEmailRequest';\nimport { TwoFactorProviderRequest } from '../models/request/twoFactorProviderRequest';\nimport { TwoFactorRecoveryRequest } from '../models/request/twoFactorRecoveryRequest';\nimport { UpdateDomainsRequest } from '../models/request/updateDomainsRequest';\nimport { UpdateKeyRequest } from '../models/request/updateKeyRequest';\nimport { UpdateProfileRequest } from '../models/request/updateProfileRequest';\nimport { UpdateTwoFactorAuthenticatorRequest } from '../models/request/updateTwoFactorAuthenticatorRequest';\nimport { UpdateTwoFactorDuoRequest } from '../models/request/updateTwoFactorDuoRequest';\nimport { UpdateTwoFactorEmailRequest } from '../models/request/updateTwoFactorEmailRequest';\nimport { UpdateTwoFactorU2fDeleteRequest } from '../models/request/updateTwoFactorU2fDeleteRequest';\nimport { UpdateTwoFactorU2fRequest } from '../models/request/updateTwoFactorU2fRequest';\nimport { UpdateTwoFactorYubioOtpRequest } from '../models/request/updateTwoFactorYubioOtpRequest';\nimport { VerifyBankRequest } from '../models/request/verifyBankRequest';\nimport { VerifyDeleteRecoverRequest } from '../models/request/verifyDeleteRecoverRequest';\nimport { VerifyEmailRequest } from '../models/request/verifyEmailRequest';\n\nimport { BillingResponse } from '../models/response/billingResponse';\nimport { CipherResponse } from '../models/response/cipherResponse';\nimport {\n    CollectionGroupDetailsResponse,\n    CollectionResponse,\n} from '../models/response/collectionResponse';\nimport { CollectionUserResponse } from '../models/response/collectionUserResponse';\nimport { DomainsResponse } from '../models/response/domainsResponse';\nimport { EventResponse } from '../models/response/eventResponse';\nimport { FolderResponse } from '../models/response/folderResponse';\nimport {\n    GroupDetailsResponse,\n    GroupResponse,\n} from '../models/response/groupResponse';\nimport { GroupUserResponse } from '../models/response/groupUserResponse';\nimport { IdentityTokenResponse } from '../models/response/identityTokenResponse';\nimport { IdentityTwoFactorResponse } from '../models/response/identityTwoFactorResponse';\nimport { ListResponse } from '../models/response/listResponse';\nimport { OrganizationBillingResponse } from '../models/response/organizationBillingResponse';\nimport { OrganizationResponse } from '../models/response/organizationResponse';\nimport {\n    OrganizationUserDetailsResponse,\n    OrganizationUserUserDetailsResponse,\n} from '../models/response/organizationUserResponse';\nimport { PreloginResponse } from '../models/response/preloginResponse';\nimport { ProfileResponse } from '../models/response/profileResponse';\nimport { SyncResponse } from '../models/response/syncResponse';\nimport { TwoFactorAuthenticatorResponse } from '../models/response/twoFactorAuthenticatorResponse';\nimport { TwoFactorDuoResponse } from '../models/response/twoFactorDuoResponse';\nimport { TwoFactorEmailResponse } from '../models/response/twoFactorEmailResponse';\nimport { TwoFactorProviderResponse } from '../models/response/twoFactorProviderResponse';\nimport { TwoFactorRecoverResponse } from '../models/response/twoFactorRescoverResponse';\nimport {\n    ChallengeResponse,\n    TwoFactorU2fResponse,\n} from '../models/response/twoFactorU2fResponse';\nimport { TwoFactorYubiKeyResponse } from '../models/response/twoFactorYubiKeyResponse';\nimport { UserKeyResponse } from '../models/response/userKeyResponse';\n\nexport abstract class ApiService {\n    urlsSet: boolean;\n    apiBaseUrl: string;\n    identityBaseUrl: string;\n\n    setUrls: (urls: EnvironmentUrls) => void;\n    postIdentityToken: (request: TokenRequest) => Promise<IdentityTokenResponse | IdentityTwoFactorResponse>;\n    refreshIdentityToken: () => Promise<any>;\n\n    getProfile: () => Promise<ProfileResponse>;\n    getUserBilling: () => Promise<BillingResponse>;\n    putProfile: (request: UpdateProfileRequest) => Promise<ProfileResponse>;\n    postPrelogin: (request: PreloginRequest) => Promise<PreloginResponse>;\n    postEmailToken: (request: EmailTokenRequest) => Promise<any>;\n    postEmail: (request: EmailRequest) => Promise<any>;\n    postPassword: (request: PasswordRequest) => Promise<any>;\n    postSecurityStamp: (request: PasswordVerificationRequest) => Promise<any>;\n    deleteAccount: (request: PasswordVerificationRequest) => Promise<any>;\n    getAccountRevisionDate: () => Promise<number>;\n    postPasswordHint: (request: PasswordHintRequest) => Promise<any>;\n    postRegister: (request: RegisterRequest) => Promise<any>;\n    postPremium: (data: FormData) => Promise<any>;\n    postReinstatePremium: () => Promise<any>;\n    postCancelPremium: () => Promise<any>;\n    postAccountStorage: (request: StorageRequest) => Promise<any>;\n    postAccountPayment: (request: PaymentRequest) => Promise<any>;\n    postAccountLicense: (data: FormData) => Promise<any>;\n    postAccountKey: (request: UpdateKeyRequest) => Promise<any>;\n    postAccountKeys: (request: KeysRequest) => Promise<any>;\n    postAccountVerifyEmail: () => Promise<any>;\n    postAccountVerifyEmailToken: (request: VerifyEmailRequest) => Promise<any>;\n    postAccountRecoverDelete: (request: DeleteRecoverRequest) => Promise<any>;\n    postAccountRecoverDeleteToken: (request: VerifyDeleteRecoverRequest) => Promise<any>;\n    postAccountKdf: (request: KdfRequest) => Promise<any>;\n\n    getFolder: (id: string) => Promise<FolderResponse>;\n    postFolder: (request: FolderRequest) => Promise<FolderResponse>;\n    putFolder: (id: string, request: FolderRequest) => Promise<FolderResponse>;\n    deleteFolder: (id: string) => Promise<any>;\n\n    getCipher: (id: string) => Promise<CipherResponse>;\n    getCipherAdmin: (id: string) => Promise<CipherResponse>;\n    getCiphersOrganization: (organizationId: string) => Promise<ListResponse<CipherResponse>>;\n    postCipher: (request: CipherRequest) => Promise<CipherResponse>;\n    postCipherAdmin: (request: CipherRequest) => Promise<CipherResponse>;\n    putCipher: (id: string, request: CipherRequest) => Promise<CipherResponse>;\n    putCipherAdmin: (id: string, request: CipherRequest) => Promise<CipherResponse>;\n    deleteCipher: (id: string) => Promise<any>;\n    deleteCipherAdmin: (id: string) => Promise<any>;\n    deleteManyCiphers: (request: CipherBulkDeleteRequest) => Promise<any>;\n    putMoveCiphers: (request: CipherBulkMoveRequest) => Promise<any>;\n    putShareCipher: (id: string, request: CipherShareRequest) => Promise<any>;\n    putShareCiphers: (request: CipherBulkShareRequest) => Promise<any>;\n    putCipherCollections: (id: string, request: CipherCollectionsRequest) => Promise<any>;\n    putCipherCollectionsAdmin: (id: string, request: CipherCollectionsRequest) => Promise<any>;\n    postPurgeCiphers: (request: PasswordVerificationRequest, organizationId?: string) => Promise<any>;\n    postImportCiphers: (request: ImportCiphersRequest) => Promise<any>;\n    postImportOrganizationCiphers: (organizationId: string, request: ImportOrganizationCiphersRequest) => Promise<any>;\n\n    postCipherAttachment: (id: string, data: FormData) => Promise<CipherResponse>;\n    postCipherAttachmentAdmin: (id: string, data: FormData) => Promise<CipherResponse>;\n    deleteCipherAttachment: (id: string, attachmentId: string) => Promise<any>;\n    deleteCipherAttachmentAdmin: (id: string, attachmentId: string) => Promise<any>;\n    postShareCipherAttachment: (id: string, attachmentId: string, data: FormData,\n        organizationId: string) => Promise<any>;\n\n    getCollectionDetails: (organizationId: string, id: string) => Promise<CollectionGroupDetailsResponse>;\n    getCollections: (organizationId: string) => Promise<ListResponse<CollectionResponse>>;\n    getCollectionUsers: (organizationId: string, id: string) => Promise<ListResponse<CollectionUserResponse>>;\n    postCollection: (organizationId: string, request: CollectionRequest) => Promise<CollectionResponse>;\n    putCollection: (organizationId: string, id: string, request: CollectionRequest) => Promise<CollectionResponse>;\n    deleteCollection: (organizationId: string, id: string) => Promise<any>;\n    deleteCollectionUser: (organizationId: string, id: string, organizationUserId: string) => Promise<any>;\n\n    getGroupDetails: (organizationId: string, id: string) => Promise<GroupDetailsResponse>;\n    getGroups: (organizationId: string) => Promise<ListResponse<GroupResponse>>;\n    getGroupUsers: (organizationId: string, id: string) => Promise<ListResponse<GroupUserResponse>>;\n    postGroup: (organizationId: string, request: GroupRequest) => Promise<GroupResponse>;\n    putGroup: (organizationId: string, id: string, request: GroupRequest) => Promise<GroupResponse>;\n    deleteGroup: (organizationId: string, id: string) => Promise<any>;\n    deleteGroupUser: (organizationId: string, id: string, organizationUserId: string) => Promise<any>;\n\n    getOrganizationUser: (organizationId: string, id: string) => Promise<OrganizationUserDetailsResponse>;\n    getOrganizationUserGroups: (organizationId: string, id: string) => Promise<string[]>;\n    getOrganizationUsers: (organizationId: string) => Promise<ListResponse<OrganizationUserUserDetailsResponse>>;\n    postOrganizationUserInvite: (organizationId: string, request: OrganizationUserInviteRequest) => Promise<any>;\n    postOrganizationUserReinvite: (organizationId: string, id: string) => Promise<any>;\n    postOrganizationUserAccept: (organizationId: string, id: string,\n        request: OrganizationUserAcceptRequest) => Promise<any>;\n    postOrganizationUserConfirm: (organizationId: string, id: string,\n        request: OrganizationUserConfirmRequest) => Promise<any>;\n    putOrganizationUser: (organizationId: string, id: string, request: OrganizationUserUpdateRequest) => Promise<any>;\n    putOrganizationUserGroups: (organizationId: string, id: string,\n        request: OrganizationUserUpdateGroupsRequest) => Promise<any>;\n    deleteOrganizationUser: (organizationId: string, id: string) => Promise<any>;\n\n    getSync: () => Promise<SyncResponse>;\n    postImportDirectory: (organizationId: string, request: ImportDirectoryRequest) => Promise<any>;\n\n    getSettingsDomains: () => Promise<DomainsResponse>;\n    putSettingsDomains: (request: UpdateDomainsRequest) => Promise<DomainsResponse>;\n\n    getTwoFactorProviders: () => Promise<ListResponse<TwoFactorProviderResponse>>;\n    getTwoFactorOrganizationProviders: (organizationId: string) => Promise<ListResponse<TwoFactorProviderResponse>>;\n    getTwoFactorAuthenticator: (request: PasswordVerificationRequest) => Promise<TwoFactorAuthenticatorResponse>;\n    getTwoFactorEmail: (request: PasswordVerificationRequest) => Promise<TwoFactorEmailResponse>;\n    getTwoFactorDuo: (request: PasswordVerificationRequest) => Promise<TwoFactorDuoResponse>;\n    getTwoFactorOrganizationDuo: (organizationId: string,\n        request: PasswordVerificationRequest) => Promise<TwoFactorDuoResponse>;\n    getTwoFactorYubiKey: (request: PasswordVerificationRequest) => Promise<TwoFactorYubiKeyResponse>;\n    getTwoFactorU2f: (request: PasswordVerificationRequest) => Promise<TwoFactorU2fResponse>;\n    getTwoFactorU2fChallenge: (request: PasswordVerificationRequest) => Promise<ChallengeResponse>;\n    getTwoFactorRecover: (request: PasswordVerificationRequest) => Promise<TwoFactorRecoverResponse>;\n    putTwoFactorAuthenticator: (\n        request: UpdateTwoFactorAuthenticatorRequest) => Promise<TwoFactorAuthenticatorResponse>;\n    putTwoFactorEmail: (request: UpdateTwoFactorEmailRequest) => Promise<TwoFactorEmailResponse>;\n    putTwoFactorDuo: (request: UpdateTwoFactorDuoRequest) => Promise<TwoFactorDuoResponse>;\n    putTwoFactorOrganizationDuo: (organizationId: string,\n        request: UpdateTwoFactorDuoRequest) => Promise<TwoFactorDuoResponse>;\n    putTwoFactorYubiKey: (request: UpdateTwoFactorYubioOtpRequest) => Promise<TwoFactorYubiKeyResponse>;\n    putTwoFactorU2f: (request: UpdateTwoFactorU2fRequest) => Promise<TwoFactorU2fResponse>;\n    deleteTwoFactorU2f: (request: UpdateTwoFactorU2fDeleteRequest) => Promise<TwoFactorU2fResponse>;\n    putTwoFactorDisable: (request: TwoFactorProviderRequest) => Promise<TwoFactorProviderResponse>;\n    putTwoFactorOrganizationDisable: (organizationId: string,\n        request: TwoFactorProviderRequest) => Promise<TwoFactorProviderResponse>;\n    postTwoFactorRecover: (request: TwoFactorRecoveryRequest) => Promise<any>;\n    postTwoFactorEmailSetup: (request: TwoFactorEmailRequest) => Promise<any>;\n    postTwoFactorEmail: (request: TwoFactorEmailRequest) => Promise<any>;\n\n    getOrganization: (id: string) => Promise<OrganizationResponse>;\n    getOrganizationBilling: (id: string) => Promise<OrganizationBillingResponse>;\n    getOrganizationLicense: (id: string, installationId: string) => Promise<any>;\n    postOrganization: (request: OrganizationCreateRequest) => Promise<OrganizationResponse>;\n    putOrganization: (id: string, request: OrganizationUpdateRequest) => Promise<OrganizationResponse>;\n    postLeaveOrganization: (id: string) => Promise<any>;\n    postOrganizationLicense: (data: FormData) => Promise<OrganizationResponse>;\n    postOrganizationLicenseUpdate: (id: string, data: FormData) => Promise<any>;\n    postOrganizationSeat: (id: string, request: SeatRequest) => Promise<any>;\n    postOrganizationStorage: (id: string, request: StorageRequest) => Promise<any>;\n    postOrganizationPayment: (id: string, request: PaymentRequest) => Promise<any>;\n    postOrganizationVerifyBank: (id: string, request: VerifyBankRequest) => Promise<any>;\n    postOrganizationCancel: (id: string) => Promise<any>;\n    postOrganizationReinstate: (id: string) => Promise<any>;\n    deleteOrganization: (id: string, request: PasswordVerificationRequest) => Promise<any>;\n\n    getEvents: (start: string, end: string, token: string) => Promise<ListResponse<EventResponse>>;\n    getEventsCipher: (id: string, start: string, end: string, token: string) => Promise<ListResponse<EventResponse>>;\n    getEventsOrganization: (id: string, start: string, end: string,\n        token: string) => Promise<ListResponse<EventResponse>>;\n    getEventsOrganizationUser: (organizationId: string, id: string,\n        start: string, end: string, token: string) => Promise<ListResponse<EventResponse>>;\n\n    getUserPublicKey: (id: string) => Promise<UserKeyResponse>;\n\n    getActiveBearerToken: () => Promise<string>;\n    fetch: (request: Request) => Promise<Response>;\n}\n","export abstract class EnvironmentService {\n    baseUrl: string;\n    webVaultUrl: string;\n    apiUrl: string;\n    identityUrl: string;\n    iconsUrl: string;\n    notificationsUrl: string;\n\n    getWebVaultUrl: () => string;\n    setUrlsFromStorage: () => Promise<void>;\n    setUrls: (urls: any) => Promise<any>;\n}\n","export class PasswordVerificationRequest {\n    masterPasswordHash: string;\n}\n","import { PasswordVerificationRequest } from './passwordVerificationRequest';\n\nexport class TwoFactorEmailRequest extends PasswordVerificationRequest {\n    email: string;\n\n    constructor(email: string, masterPasswordHash: string) {\n        super();\n        this.masterPasswordHash = masterPasswordHash;\n        this.email = email;\n    }\n}\n","export class U2f {\n    private iframe: HTMLIFrameElement = null;\n    private connectorLink: HTMLAnchorElement;\n    private parseFunction = this.parseMessage.bind(this);\n\n    constructor(private win: Window, private webVaultUrl: string, private successCallback: Function,\n        private errorCallback: Function, private infoCallback: Function) {\n        this.connectorLink = win.document.createElement('a');\n        this.webVaultUrl = webVaultUrl != null && webVaultUrl !== '' ? webVaultUrl : 'https://vault.bitwarden.com';\n    }\n\n    init(data: any): void {\n        this.connectorLink.href = this.webVaultUrl + '/u2f-connector.html' +\n            '?data=' + this.base64Encode(JSON.stringify(data)) +\n            '&parent=' + encodeURIComponent(this.win.document.location.href) +\n            '&v=1';\n\n        this.iframe = this.win.document.getElementById('u2f_iframe') as HTMLIFrameElement;\n        this.iframe.src = this.connectorLink.href;\n\n        this.win.addEventListener('message', this.parseFunction, false);\n    }\n\n    stop() {\n        this.sendMessage('stop');\n    }\n\n    start() {\n        this.sendMessage('start');\n    }\n\n    sendMessage(message: any) {\n        if (!this.iframe || !this.iframe.src || !this.iframe.contentWindow) {\n            return;\n        }\n\n        this.iframe.contentWindow.postMessage(message, this.iframe.src);\n    }\n\n    base64Encode(str: string): string {\n        return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, (match, p1) => {\n            return String.fromCharCode(('0x' + p1) as any);\n        }));\n    }\n\n    cleanup() {\n        this.win.removeEventListener('message', this.parseFunction, false);\n    }\n\n    private parseMessage(event: MessageEvent) {\n        if (!this.validMessage(event)) {\n            return;\n        }\n\n        const parts: string[] = event.data.split('|');\n        if (parts[0] === 'success' && this.successCallback) {\n            this.successCallback(parts[1]);\n        } else if (parts[0] === 'error' && this.errorCallback) {\n            this.errorCallback(parts[1]);\n        } else if (parts[0] === 'info' && this.infoCallback) {\n            this.infoCallback(parts[1]);\n        }\n    }\n\n    private validMessage(event: MessageEvent) {\n        if (event.origin == null || event.origin === '' || event.origin !== (this.connectorLink as any).origin ||\n            event.data == null || typeof (event.data) !== 'string') {\n            return false;\n        }\n\n        return event.data.indexOf('success|') === 0 || event.data.indexOf('error|') === 0 ||\n            event.data.indexOf('info|') === 0;\n    }\n}\n","import {\n    OnDestroy,\n    OnInit,\n} from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { DeviceType } from '../../enums/deviceType';\nimport { TwoFactorProviderType } from '../../enums/twoFactorProviderType';\n\nimport { TwoFactorEmailRequest } from '../../models/request/twoFactorEmailRequest';\n\nimport { ApiService } from '../../abstractions/api.service';\nimport { AuthService } from '../../abstractions/auth.service';\nimport { EnvironmentService } from '../../abstractions/environment.service';\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\n\nimport { TwoFactorProviders } from '../../services/auth.service';\n\nimport * as DuoWebSDK from '../../misc/duo';\nimport { U2f } from '../../misc/u2f';\n\nexport class TwoFactorComponent implements OnInit, OnDestroy {\n    token: string = '';\n    remember: boolean = false;\n    u2fReady: boolean = false;\n    providers = TwoFactorProviders;\n    providerType = TwoFactorProviderType;\n    selectedProviderType: TwoFactorProviderType = TwoFactorProviderType.Authenticator;\n    u2fSupported: boolean = false;\n    u2f: U2f = null;\n    title: string = '';\n    twoFactorEmail: string = null;\n    formPromise: Promise<any>;\n    emailPromise: Promise<any>;\n    onSuccessfulLogin: () => Promise<any>;\n    onSuccessfulLoginNavigate: () => Promise<any>;\n\n    protected loginRoute = 'login';\n    protected successRoute = 'vault';\n\n    constructor(protected authService: AuthService, protected router: Router,\n        protected i18nService: I18nService, protected apiService: ApiService,\n        protected platformUtilsService: PlatformUtilsService, protected win: Window,\n        protected environmentService: EnvironmentService) {\n        this.u2fSupported = this.platformUtilsService.supportsU2f(win);\n    }\n\n    async ngOnInit() {\n        if (this.authService.email == null || this.authService.masterPasswordHash == null ||\n            this.authService.twoFactorProviders == null) {\n            this.router.navigate([this.loginRoute]);\n            return;\n        }\n\n        if (this.win != null && this.u2fSupported) {\n            let customWebVaultUrl: string = null;\n            if (this.environmentService.baseUrl != null) {\n                customWebVaultUrl = this.environmentService.baseUrl;\n            } else if (this.environmentService.webVaultUrl != null) {\n                customWebVaultUrl = this.environmentService.webVaultUrl;\n            }\n\n            this.u2f = new U2f(this.win, customWebVaultUrl, (token: string) => {\n                this.token = token;\n                this.submit();\n            }, (error: string) => {\n                this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'), error);\n            }, (info: string) => {\n                if (info === 'ready') {\n                    this.u2fReady = true;\n                }\n            });\n        }\n\n        this.selectedProviderType = this.authService.getDefaultTwoFactorProvider(this.u2fSupported);\n        await this.init();\n    }\n\n    ngOnDestroy(): void {\n        this.cleanupU2f();\n        this.u2f = null;\n    }\n\n    async init() {\n        if (this.selectedProviderType == null) {\n            this.title = this.i18nService.t('loginUnavailable');\n            return;\n        }\n\n        this.cleanupU2f();\n        this.title = (TwoFactorProviders as any)[this.selectedProviderType].name;\n        const params = this.authService.twoFactorProviders.get(this.selectedProviderType);\n        switch (this.selectedProviderType) {\n            case TwoFactorProviderType.U2f:\n                if (!this.u2fSupported || this.u2f == null) {\n                    break;\n                }\n\n                if (params.Challenge != null) {\n                    this.u2f.init(JSON.parse(params.Challenge));\n                } else {\n                    // TODO: Deprecated. Remove in future version.\n                    const challenges = JSON.parse(params.Challenges);\n                    if (challenges != null && challenges.length > 0) {\n                        this.u2f.init({\n                            appId: challenges[0].appId,\n                            challenge: challenges[0].challenge,\n                            keys: challenges.map((c: any) => {\n                                return {\n                                    version: c.version,\n                                    keyHandle: c.keyHandle,\n                                };\n                            }),\n                        });\n                    }\n                }\n                break;\n            case TwoFactorProviderType.Duo:\n            case TwoFactorProviderType.OrganizationDuo:\n                if (this.platformUtilsService.getDevice() === DeviceType.SafariExtension) {\n                    break;\n                }\n\n                setTimeout(() => {\n                    DuoWebSDK.init({\n                        iframe: undefined,\n                        host: params.Host,\n                        sig_request: params.Signature,\n                        submit_callback: async (f: HTMLFormElement) => {\n                            const sig = f.querySelector('input[name=\"sig_response\"]') as HTMLInputElement;\n                            if (sig != null) {\n                                this.token = sig.value;\n                                await this.submit();\n                            }\n                        },\n                    });\n                }, 0);\n                break;\n            case TwoFactorProviderType.Email:\n                this.twoFactorEmail = params.Email;\n                if (this.authService.twoFactorProviders.size > 1) {\n                    await this.sendEmail(false);\n                }\n                break;\n            default:\n                break;\n        }\n    }\n\n    async submit() {\n        if (this.token == null || this.token === '') {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('verificationCodeRequired'));\n            return;\n        }\n\n        if (this.selectedProviderType === TwoFactorProviderType.U2f) {\n            if (this.u2f != null) {\n                this.u2f.stop();\n            } else {\n                return;\n            }\n        } else if (this.selectedProviderType === TwoFactorProviderType.Email ||\n            this.selectedProviderType === TwoFactorProviderType.Authenticator) {\n            this.token = this.token.replace(' ', '').trim();\n        }\n\n        try {\n            this.formPromise = this.authService.logInTwoFactor(this.selectedProviderType, this.token, this.remember);\n            await this.formPromise;\n            if (this.onSuccessfulLogin != null) {\n                this.onSuccessfulLogin();\n            }\n            this.platformUtilsService.eventTrack('Logged In From Two-step');\n            if (this.onSuccessfulLoginNavigate != null) {\n                this.onSuccessfulLoginNavigate();\n            } else {\n                this.router.navigate([this.successRoute]);\n            }\n        } catch {\n            if (this.selectedProviderType === TwoFactorProviderType.U2f && this.u2f != null) {\n                this.u2f.start();\n            }\n        }\n    }\n\n    async sendEmail(doToast: boolean) {\n        if (this.selectedProviderType !== TwoFactorProviderType.Email) {\n            return;\n        }\n\n        if (this.emailPromise != null) {\n            return;\n        }\n\n        try {\n            const request = new TwoFactorEmailRequest(this.authService.email, this.authService.masterPasswordHash);\n            this.emailPromise = this.apiService.postTwoFactorEmail(request);\n            await this.emailPromise;\n            if (doToast) {\n                this.platformUtilsService.showToast('success', null,\n                    this.i18nService.t('verificationCodeEmailSent', this.twoFactorEmail));\n            }\n        } catch { }\n\n        this.emailPromise = null;\n    }\n\n    private cleanupU2f() {\n        if (this.u2f != null) {\n            this.u2f.stop();\n            this.u2f.cleanup();\n        }\n    }\n}\n","import {\n    ChangeDetectorRef,\n    Component,\n    NgZone,\n} from '@angular/core';\n\nimport { Router } from '@angular/router';\n\nimport { BrowserApi } from '../../browser/browserApi';\n\nimport { TwoFactorProviderType } from 'jslib/enums/twoFactorProviderType';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { AuthService } from 'jslib/abstractions/auth.service';\nimport { EnvironmentService } from 'jslib/abstractions/environment.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { SyncService } from 'jslib/abstractions/sync.service';\n\nimport { BroadcasterService } from 'jslib/angular/services/broadcaster.service';\n\nimport { TwoFactorComponent as BaseTwoFactorComponent } from 'jslib/angular/components/two-factor.component';\n\nconst BroadcasterSubscriptionId = 'TwoFactorComponent';\n\n@Component({\n    selector: 'app-two-factor',\n    templateUrl: 'two-factor.component.html',\n})\nexport class TwoFactorComponent extends BaseTwoFactorComponent {\n    showNewWindowMessage = false;\n\n    constructor(authService: AuthService, router: Router,\n        i18nService: I18nService, apiService: ApiService,\n        platformUtilsService: PlatformUtilsService, syncService: SyncService,\n        environmentService: EnvironmentService, private ngZone: NgZone,\n        private broadcasterService: BroadcasterService, private changeDetectorRef: ChangeDetectorRef) {\n        super(authService, router, i18nService, apiService, platformUtilsService, window, environmentService);\n        super.onSuccessfulLogin = () => {\n            return syncService.fullSync(true);\n        };\n        super.successRoute = '/tabs/vault';\n    }\n\n    async ngOnInit() {\n        this.broadcasterService.subscribe(BroadcasterSubscriptionId, (message: any) => {\n            this.ngZone.run(async () => {\n                switch (message.command) {\n                    case '2faPageResponse':\n                        if (message.type === 'duo') {\n                            this.token = message.data.sigValue;\n                            this.submitWithTab(message.webExtSender.tab);\n                        }\n                    default:\n                        break;\n                }\n\n                this.changeDetectorRef.detectChanges();\n            });\n        });\n\n        this.showNewWindowMessage = this.platformUtilsService.isSafari();\n        await super.ngOnInit();\n\n        if (this.selectedProviderType == null) {\n            return;\n        }\n\n        const isDuo = this.selectedProviderType === TwoFactorProviderType.Duo ||\n            this.selectedProviderType === TwoFactorProviderType.OrganizationDuo;\n        if (!this.platformUtilsService.isSafari() || !isDuo) {\n            return;\n        }\n\n        const params = this.authService.twoFactorProviders.get(this.selectedProviderType);\n        const tab = BrowserApi.createNewTab(BrowserApi.getAssetUrl('2fa/index.html'));\n        const tabToSend = BrowserApi.makeTabObject(tab);\n        window.setTimeout(() => {\n            BrowserApi.tabSendMessage(tabToSend, {\n                command: '2faPageData',\n                data: {\n                    type: 'duo',\n                    host: params.Host,\n                    signature: params.Signature,\n                },\n            });\n        }, 500);\n    }\n\n    ngOnDestroy() {\n        this.broadcasterService.unsubscribe(BroadcasterSubscriptionId);\n        super.ngOnDestroy();\n    }\n\n    anotherMethod() {\n        this.router.navigate(['2fa-options']);\n    }\n\n    async submitWithTab(sendSuccessToTab: any) {\n        await super.submit();\n        if (sendSuccessToTab != null) {\n            window.setTimeout(() => {\n                BrowserApi.tabSendMessage(sendSuccessToTab, {\n                    command: '2faPageData',\n                    data: { type: 'success' },\n                });\n            }, 1000);\n        }\n    }\n}\n","<form id=\"two-factor-page\" #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\">\n    <header>\n        <div class=\"left\">\n            <a routerLink=\"/login\">{{'back' | i18n}}</a>\n        </div>\n        <div class=\"center\">\n            <span class=\"title\">{{title}}</span>\n        </div>\n        <div class=\"right\">\n            <button type=\"submit\" appBlurClick [disabled]=\"form.loading\"\n                    *ngIf=\"selectedProviderType != null && selectedProviderType !== providerType.Duo &&\n                        selectedProviderType !== providerType.OrganizationDuo &&\n                        (selectedProviderType !== providerType.U2f || form.loading)\">\n                <span [hidden]=\"form.loading\">{{'continue' | i18n}}</span>\n                <i class=\"fa fa-spinner fa-lg fa-spin\" [hidden]=\"!form.loading\"></i>\n            </button>\n        </div>\n    </header>\n    <content>\n        <ng-container *ngIf=\"selectedProviderType === providerType.Authenticator ||\n                  selectedProviderType === providerType.Email\">\n            <div class=\"content text-center\">\n                <span *ngIf=\"selectedProviderType === providerType.Authenticator\">\n                    {{'enterVerificationCodeApp' | i18n}}\n                </span>\n                <span *ngIf=\"selectedProviderType === providerType.Email\">\n                    {{'enterVerificationCodeEmail' | i18n : twoFactorEmail}}\n                </span>\n            </div>\n            <div class=\"box first\">\n                <div class=\"box-content\">\n                    <div class=\"box-content-row\" appBoxRow>\n                        <label for=\"code\">{{'verificationCode' | i18n}}</label>\n                        <input id=\"code\" type=\"text\" name=\"Code\" [(ngModel)]=\"token\" required appAutofocus\n                               inputmode=\"tel\" appInputVerbatim>\n                    </div>\n                    <div class=\"box-content-row box-content-row-checkbox\" appBoxRow>\n                        <label for=\"remember\">{{'rememberMe' | i18n}}</label>\n                        <input id=\"remember\" type=\"checkbox\" name=\"Remember\" [(ngModel)]=\"remember\">\n                    </div>\n                </div>\n            </div>\n        </ng-container>\n        <ng-container *ngIf=\"selectedProviderType === providerType.Yubikey\">\n            <div class=\"content text-center\">\n                <p class=\"text-center\">{{'insertYubiKey' | i18n}}</p>\n                <img src=\"./images/yubikey.jpg\" class=\"img-rounded img-responsive\" alt=\"\">\n            </div>\n            <div class=\"box first\">\n                <div class=\"box-content\">\n                    <div class=\"box-content-row\" appBoxRow>\n                        <label for=\"code\" class=\"sr-only\">{{'verificationCode' | i18n}}</label>\n                        <input id=\"code\" type=\"password\" name=\"Code\" [(ngModel)]=\"token\" required appAutofocus\n                               appInputVerbatim>\n                    </div>\n                    <div class=\"box-content-row box-content-row-checkbox\" appBoxRow>\n                        <label for=\"remember\">{{'rememberMe' | i18n}}</label>\n                        <input id=\"remember\" type=\"checkbox\" name=\"Remember\" [(ngModel)]=\"remember\">\n                    </div>\n                </div>\n            </div>\n        </ng-container>\n        <ng-container *ngIf=\"selectedProviderType === providerType.U2f\">\n            <div class=\"content text-center\">\n                <span *ngIf=\"!u2fReady\" class=\"text-center\"><i class=\"fa fa-spinner fa-spin\"></i></span>\n                <div *ngIf=\"u2fReady\">\n                    <p>{{'insertU2f' | i18n}}</p>\n                    <img src=\"./images/u2fkey.jpg\" alt=\"\" class=\"img-rounded img-responsive\" />\n                </div>\n            </div>\n            <div class=\"box first\">\n                <div class=\"box-content\">\n                    <div class=\"box-content-row box-content-row-checkbox\" appBoxRow>\n                        <label for=\"remember\">{{'rememberMe' | i18n}}</label>\n                        <input id=\"remember\" type=\"checkbox\" name=\"Remember\" [(ngModel)]=\"remember\">\n                    </div>\n                </div>\n            </div>\n        </ng-container>\n        <ng-container *ngIf=\"selectedProviderType === providerType.Duo ||\n                        selectedProviderType === providerType.OrganizationDuo\">\n            <div id=\"duo-frame\" *ngIf=\"!showNewWindowMessage\"><iframe id=\"duo_iframe\"></iframe></div>\n            <div *ngIf=\"showNewWindowMessage\" class=\"content text-center\">{{'twoStepNewWindowMessage' | i18n}}</div>\n            <div class=\"box\">\n                <div class=\"box-content\">\n                    <div class=\"box-content-row box-content-row-checkbox\" appBoxRow>\n                        <label for=\"remember\">{{'rememberMe' | i18n}}</label>\n                        <input id=\"remember\" type=\"checkbox\" name=\"Remember\" [(ngModel)]=\"remember\">\n                    </div>\n                </div>\n            </div>\n        </ng-container>\n        <div class=\"content\" *ngIf=\"selectedProviderType == null\">\n            <p class=\"text-center\">{{'noTwoStepProviders' | i18n}}</p>\n            <p class=\"text-center\">{{'noTwoStepProviders2' | i18n}}</p>\n        </div>\n        <div class=\"content no-vpad\" *ngIf=\"selectedProviderType != null\">\n            <p class=\"text-center\">\n                <a href=\"#\" appStopClick (click)=\"anotherMethod()\">{{'useAnotherTwoStepMethod' | i18n}}</a>\n            </p>\n            <p *ngIf=\"selectedProviderType === providerType.Email\" class=\"text-center\">\n                <a href=\"#\" appStopClick (click)=\"sendEmail(true)\" [appApiAction]=\"emailPromise\">\n                    {{'sendVerificationCodeEmailAgain' | i18n}}\n                </a>\n            </p>\n        </div>\n    </content>\n</form>\n<iframe id=\"u2f_iframe\" hidden></iframe>\n","import {\n    EventEmitter,\n    Input,\n    OnInit,\n    Output,\n} from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { TwoFactorProviderType } from '../../enums/twoFactorProviderType';\n\nimport { AuthService } from '../../abstractions/auth.service';\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\n\nexport class TwoFactorOptionsComponent implements OnInit {\n    @Output() onProviderSelected = new EventEmitter<TwoFactorProviderType>();\n    @Output() onRecoverSelected = new EventEmitter();\n\n    providers: any[] = [];\n\n    constructor(protected authService: AuthService, protected router: Router,\n        protected i18nService: I18nService, protected platformUtilsService: PlatformUtilsService,\n        protected win: Window) { }\n\n    ngOnInit() {\n        this.providers = this.authService.getSupportedTwoFactorProviders(this.win);\n    }\n\n    choose(p: any) {\n        this.onProviderSelected.emit(p.type);\n    }\n\n    recover() {\n        this.platformUtilsService.eventTrack('Selected Recover');\n        this.platformUtilsService.launchUri('https://help.bitwarden.com/article/lost-two-step-device/');\n        this.onRecoverSelected.emit();\n    }\n}\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { AuthService } from 'jslib/abstractions/auth.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport {\n    TwoFactorOptionsComponent as BaseTwoFactorOptionsComponent,\n} from 'jslib/angular/components/two-factor-options.component';\n\n@Component({\n    selector: 'app-two-factor-options',\n    templateUrl: 'two-factor-options.component.html',\n})\nexport class TwoFactorOptionsComponent extends BaseTwoFactorOptionsComponent {\n    constructor(authService: AuthService, router: Router,\n        i18nService: I18nService, platformUtilsService: PlatformUtilsService) {\n        super(authService, router, i18nService, platformUtilsService, window);\n    }\n\n    choose(p: any) {\n        super.choose(p);\n        this.authService.selectedTwoFactorProviderType = p.type;\n        this.router.navigate(['2fa']);\n    }\n}\n","<header>\n    <div class=\"left\">\n        <a routerLink=\"/2fa\">{{'close' | i18n}}</a>\n    </div>\n    <div class=\"center\">\n        <span class=\"title\">{{'twoStepOptions' | i18n}}</span>\n    </div>\n    <div class=\"right\"></div>\n</header>\n<content>\n    <div class=\"box\">\n        <div class=\"box-content\">\n            <a href=\"#\" appStopClick *ngFor=\"let p of providers\" class=\"box-content-row\"\n               (click)=\"choose(p)\">\n                <span class=\"text\">{{p.name}}</span>\n                <span class=\"detail\">{{p.description}}</span>\n            </a>\n            <a href=\"#\" appStopClick class=\"box-content-row\" (click)=\"recover()\">\n                <span class=\"text\">{{'recoveryCodeTitle' | i18n}}</span>\n                <span class=\"detail\">{{'recoveryCodeDesc' | i18n}}</span>\n            </a>\n        </div>\n    </div>\n</content>\n","import { KeysRequest } from './keysRequest';\n\nimport { KdfType } from '../../enums/kdfType';\n\nexport class RegisterRequest {\n    name: string;\n    email: string;\n    masterPasswordHash: string;\n    masterPasswordHint: string;\n    key: string;\n    keys: KeysRequest;\n    token: string;\n    organizationUserId: string;\n    kdf: KdfType;\n    kdfIterations: number;\n\n    constructor(email: string, name: string, masterPasswordHash: string, masterPasswordHint: string, key: string,\n        kdf: KdfType, kdfIterations: number) {\n        this.name = name;\n        this.email = email;\n        this.masterPasswordHash = masterPasswordHash;\n        this.masterPasswordHint = masterPasswordHint ? masterPasswordHint : null;\n        this.key = key;\n        this.kdf = kdf;\n        this.kdfIterations = kdfIterations;\n    }\n}\n","import { Router } from '@angular/router';\n\nimport { KeysRequest } from '../../models/request/keysRequest';\nimport { RegisterRequest } from '../../models/request/registerRequest';\n\nimport { ApiService } from '../../abstractions/api.service';\nimport { AuthService } from '../../abstractions/auth.service';\nimport { CryptoService } from '../../abstractions/crypto.service';\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\nimport { StateService } from '../../abstractions/state.service';\n\nimport { KdfType } from '../../enums/kdfType';\n\nexport class RegisterComponent {\n    name: string = '';\n    email: string = '';\n    masterPassword: string = '';\n    confirmMasterPassword: string = '';\n    hint: string = '';\n    showPassword: boolean = false;\n    formPromise: Promise<any>;\n\n    protected successRoute = 'login';\n\n    constructor(protected authService: AuthService, protected router: Router,\n        protected i18nService: I18nService, protected cryptoService: CryptoService,\n        protected apiService: ApiService, protected stateService: StateService,\n        protected platformUtilsService: PlatformUtilsService) { }\n\n    async submit() {\n        if (this.email == null || this.email === '') {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('emailRequired'));\n            return;\n        }\n        if (this.email.indexOf('@') === -1) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('invalidEmail'));\n            return;\n        }\n        if (this.masterPassword == null || this.masterPassword === '') {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('masterPassRequired'));\n            return;\n        }\n        if (this.masterPassword.length < 8) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('masterPassLength'));\n            return;\n        }\n        if (this.masterPassword !== this.confirmMasterPassword) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('masterPassDoesntMatch'));\n            return;\n        }\n\n        this.name = this.name === '' ? null : this.name;\n        this.email = this.email.trim().toLowerCase();\n        const kdf = KdfType.PBKDF2_SHA256;\n        const useLowerKdf = this.platformUtilsService.isEdge() || this.platformUtilsService.isIE();\n        const kdfIterations = useLowerKdf ? 10000 : 100000;\n        const key = await this.cryptoService.makeKey(this.masterPassword, this.email, kdf, kdfIterations);\n        const encKey = await this.cryptoService.makeEncKey(key);\n        const hashedPassword = await this.cryptoService.hashPassword(this.masterPassword, key);\n        const keys = await this.cryptoService.makeKeyPair(encKey[0]);\n        const request = new RegisterRequest(this.email, this.name, hashedPassword,\n            this.hint, encKey[1].encryptedString, kdf, kdfIterations);\n        request.keys = new KeysRequest(keys[0], keys[1].encryptedString);\n        const orgInvite = await this.stateService.get<any>('orgInvitation');\n        if (orgInvite != null && orgInvite.token != null && orgInvite.organizationUserId != null) {\n            request.token = orgInvite.token;\n            request.organizationUserId = orgInvite.organizationUserId;\n        }\n\n        try {\n            this.formPromise = this.apiService.postRegister(request);\n            await this.formPromise;\n            this.platformUtilsService.eventTrack('Registered');\n            this.platformUtilsService.showToast('success', null, this.i18nService.t('newAccountCreated'));\n            this.router.navigate([this.successRoute], { queryParams: { email: this.email } });\n        } catch { }\n    }\n\n    togglePassword(confirmField: boolean) {\n        this.platformUtilsService.eventTrack('Toggled Master Password on Register');\n        this.showPassword = !this.showPassword;\n        document.getElementById(confirmField ? 'masterPasswordRetype' : 'masterPassword').focus();\n    }\n}\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { AuthService } from 'jslib/abstractions/auth.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { StateService } from 'jslib/abstractions/state.service';\n\nimport { RegisterComponent as BaseRegisterComponent } from 'jslib/angular/components/register.component';\n\n@Component({\n    selector: 'app-register',\n    templateUrl: 'register.component.html',\n})\nexport class RegisterComponent extends BaseRegisterComponent {\n    constructor(authService: AuthService, router: Router,\n        i18nService: I18nService, cryptoService: CryptoService,\n        apiService: ApiService, stateService: StateService,\n        platformUtilsService: PlatformUtilsService) {\n        super(authService, router, i18nService, cryptoService, apiService, stateService, platformUtilsService);\n    }\n}\n","<form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\">\n    <header>\n        <div class=\"left\">\n            <a routerLink=\"/home\">{{'cancel' | i18n}}</a>\n        </div>\n        <div class=\"center\">\n            <span class=\"title\">{{'createAccount' | i18n}}</span>\n        </div>\n        <div class=\"right\">\n            <button type=\"submit\" appBlurClick [disabled]=\"form.loading\">\n                <span [hidden]=\"form.loading\">{{'submit' | i18n}}</span>\n                <i class=\"fa fa-spinner fa-lg fa-spin\" [hidden]=\"!form.loading\"></i>\n            </button>\n        </div>\n    </header>\n    <content>\n        <div class=\"box\">\n            <div class=\"box-content\">\n                <div class=\"box-content-row\" appBoxRow>\n                    <label for=\"email\">{{'emailAddress' | i18n}}</label>\n                    <input id=\"email\" type=\"text\" name=\"Email\" [(ngModel)]=\"email\" required\n                           [appAutofocus]=\"email === ''\" inputmode=\"email\" appInputVerbatim=\"false\">\n                </div>\n                <div class=\"box-content-row box-content-row-flex\" appBoxRow>\n                    <div class=\"row-main\">\n                        <label for=\"masterPassword\">{{'masterPass' | i18n}}</label>\n                        <input id=\"masterPassword\" type=\"{{showPassword ? 'text' : 'password'}}\" name=\"MasterPassword\"\n                               class=\"monospaced\" [(ngModel)]=\"masterPassword\" required [appAutofocus]=\"email !== ''\"\n                               appInputVerbatim>\n                    </div>\n                    <div class=\"action-buttons\">\n                        <a class=\"row-btn\" href=\"#\" appStopClick appBlurClick\n                           title=\"{{'toggleVisibility' | i18n}}\" (click)=\"togglePassword(false)\">\n                            <i class=\"fa fa-lg\"\n                               [ngClass]=\"{'fa-eye': !showPassword, 'fa-eye-slash': showPassword}\"></i>\n                        </a>\n                    </div>\n                </div>\n            </div>\n            <div class=\"box-footer\">\n                {{'masterPassDesc' | i18n}}\n            </div>\n        </div>\n        <div class=\"box last\">\n            <div class=\"box-content\">\n                <div class=\"box-content-row box-content-row-flex\" appBoxRow>\n                    <div class=\"row-main\">\n                        <label for=\"masterPasswordRetype\">{{'reTypeMasterPass' | i18n}}</label>\n                        <input id=\"masterPasswordRetype\" type=\"{{showPassword ? 'text' : 'password'}}\"\n                               name=\"MasterPasswordRetype\" class=\"monospaced\" [(ngModel)]=\"confirmMasterPassword\"\n                               required appInputVerbatim>\n                    </div>\n                    <div class=\"action-buttons\">\n                        <a class=\"row-btn\" href=\"#\" appStopClick appBlurClick\n                           title=\"{{'toggleVisibility' | i18n}}\" (click)=\"togglePassword(true)\">\n                            <i class=\"fa fa-lg\"\n                               [ngClass]=\"{'fa-eye': !showPassword, 'fa-eye-slash': showPassword}\"></i>\n                        </a>\n                    </div>\n                </div>\n                <div class=\"box-content-row\" appBoxRow>\n                    <label for=\"hint\">{{'masterPassHint' | i18n}}</label>\n                    <input id=\"hint\" type=\"text\" name=\"Hint\" [(ngModel)]=\"hint\">\n                </div>\n            </div>\n            <div class=\"box-footer\">\n                {{'masterPassHintDesc' | i18n}}\n            </div>\n        </div>\n    </content>\n</form>\n","export class PasswordHintRequest {\n    email: string;\n\n    constructor(email: string) {\n        this.email = email;\n    }\n}\n","import { Router } from '@angular/router';\n\nimport { PasswordHintRequest } from '../../models/request/passwordHintRequest';\n\nimport { ApiService } from '../../abstractions/api.service';\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\n\nexport class HintComponent {\n    email: string = '';\n    formPromise: Promise<any>;\n\n    protected successRoute = 'login';\n\n    constructor(protected router: Router, protected i18nService: I18nService,\n        protected apiService: ApiService, protected platformUtilsService: PlatformUtilsService) { }\n\n    async submit() {\n        if (this.email == null || this.email === '') {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('emailRequired'));\n            return;\n        }\n        if (this.email.indexOf('@') === -1) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('invalidEmail'));\n            return;\n        }\n\n        try {\n            this.formPromise = this.apiService.postPasswordHint(new PasswordHintRequest(this.email));\n            await this.formPromise;\n            this.platformUtilsService.eventTrack('Requested Hint');\n            this.platformUtilsService.showToast('success', null, this.i18nService.t('masterPassSent'));\n            this.router.navigate([this.successRoute]);\n        } catch { }\n    }\n}\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport { HintComponent as BaseHintComponent } from 'jslib/angular/components/hint.component';\n\n@Component({\n    selector: 'app-hint',\n    templateUrl: 'hint.component.html',\n})\nexport class HintComponent extends BaseHintComponent {\n    constructor(router: Router, platformUtilsService: PlatformUtilsService,\n        i18nService: I18nService, apiService: ApiService) {\n        super(router, i18nService, apiService, platformUtilsService);\n    }\n}\n","<form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\">\n    <header>\n        <div class=\"left\">\n            <a routerLink=\"/login\">{{'cancel' | i18n}}</a>\n        </div>\n        <div class=\"center\">\n            <span class=\"title\">{{'passwordHint' | i18n}}</span>\n        </div>\n        <div class=\"right\">\n            <button type=\"submit\" appBlurClick [disabled]=\"form.loading\">\n                <span [hidden]=\"form.loading\">{{'submit' | i18n}}</span>\n                <i class=\"fa fa-spinner fa-lg fa-spin\" [hidden]=\"!form.loading\"></i>\n            </button>\n        </div>\n    </header>\n    <content>\n        <div class=\"box\">\n            <div class=\"box-content\">\n                <div class=\"box-content-row\" appBoxRow>\n                    <label for=\"email\">{{'emailAddress' | i18n}}</label>\n                    <input id=\"email\" type=\"text\" name=\"Email\" [(ngModel)]=\"email\" required appAutofocus\n                           inputmode=\"email\" appInputVerbatim=\"false\">\n                </div>\n            </div>\n            <div class=\"box-footer\">\n                {{'enterEmailToGetHint' | i18n}}\n            </div>\n        </div>\n    </content>\n</form>\n","import {\n    EventEmitter,\n    Output,\n} from '@angular/core';\n\nimport { EnvironmentService } from '../../abstractions/environment.service';\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\n\nexport class EnvironmentComponent {\n    @Output() onSaved = new EventEmitter();\n\n    iconsUrl: string;\n    identityUrl: string;\n    apiUrl: string;\n    webVaultUrl: string;\n    notificationsUrl: string;\n    baseUrl: string;\n    showCustom = false;\n\n    constructor(protected platformUtilsService: PlatformUtilsService, protected environmentService: EnvironmentService,\n        protected i18nService: I18nService) {\n        this.baseUrl = environmentService.baseUrl || '';\n        this.webVaultUrl = environmentService.webVaultUrl || '';\n        this.apiUrl = environmentService.apiUrl || '';\n        this.identityUrl = environmentService.identityUrl || '';\n        this.iconsUrl = environmentService.iconsUrl || '';\n        this.notificationsUrl = environmentService.notificationsUrl || '';\n    }\n\n    async submit() {\n        const resUrls = await this.environmentService.setUrls({\n            base: this.baseUrl,\n            api: this.apiUrl,\n            identity: this.identityUrl,\n            webVault: this.webVaultUrl,\n            icons: this.iconsUrl,\n            notifications: this.notificationsUrl,\n        });\n\n        // re-set urls since service can change them, ex: prefixing https://\n        this.baseUrl = resUrls.base;\n        this.apiUrl = resUrls.api;\n        this.identityUrl = resUrls.identity;\n        this.webVaultUrl = resUrls.webVault;\n        this.iconsUrl = resUrls.icons;\n        this.notificationsUrl = resUrls.notifications;\n\n        this.platformUtilsService.eventTrack('Set Environment URLs');\n        this.platformUtilsService.showToast('success', null, this.i18nService.t('environmentSaved'));\n        this.saved();\n    }\n\n    toggleCustom() {\n        this.showCustom = !this.showCustom;\n    }\n\n    protected saved() {\n        this.onSaved.emit();\n    }\n}\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { EnvironmentService } from 'jslib/abstractions/environment.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport { EnvironmentComponent as BaseEnvironmentComponent } from 'jslib/angular/components/environment.component';\n\n@Component({\n    selector: 'app-environment',\n    templateUrl: 'environment.component.html',\n})\nexport class EnvironmentComponent extends BaseEnvironmentComponent {\n    constructor(platformUtilsService: PlatformUtilsService, environmentService: EnvironmentService,\n        i18nService: I18nService, private router: Router) {\n        super(platformUtilsService, environmentService, i18nService);\n        this.showCustom = true;\n    }\n\n    saved() {\n        super.saved();\n        this.router.navigate(['']);\n    }\n}\n","<form #form class=\"modal-content\" (ngSubmit)=\"submit()\">\n    <header>\n        <div class=\"left\">\n            <a routerLink=\"/home\">{{'close' | i18n}}</a>\n        </div>\n        <div class=\"center\">\n            <span class=\"title\">{{'appName' | i18n}}</span>\n        </div>\n        <div class=\"right\">\n            <button type=\"submit\" appBlurClick [disabled]=\"form.loading\">\n                <span [hidden]=\"form.loading\">{{'save' | i18n}}</span>\n                <i class=\"fa fa-spinner fa-lg fa-spin\" [hidden]=\"!form.loading\"></i>\n            </button>\n        </div>\n    </header>\n    <content>\n        <div class=\"box\">\n            <div class=\"box-header\">\n                {{'selfHostedEnvironment' | i18n}}\n            </div>\n            <div class=\"box-content\">\n                <div class=\"box-content-row\" appBoxRow>\n                    <label for=\"baseUrl\">{{'baseUrl' | i18n}}</label>\n                    <input id=\"baseUrl\" type=\"text\" name=\"BaseUrl\" [(ngModel)]=\"baseUrl\"\n                           placeholder=\"ex. https://bitwarden.company.com\" appInputVerbatim>\n                </div>\n            </div>\n            <div class=\"box-footer\">\n                {{'selfHostedEnvironmentFooter' | i18n}}\n            </div>\n        </div>\n        <div class=\"box\">\n            <div class=\"box-header\">\n                {{'customEnvironment' | i18n}}\n            </div>\n            <div class=\"box-content\" [hidden]=\"!showCustom\">\n                <div class=\"box-content-row\" appBoxRow>\n                    <label for=\"webVaultUrl\">{{'webVaultUrl' | i18n}}</label>\n                    <input id=\"webVaultUrl\" type=\"text\" name=\"WebVaultUrl\" [(ngModel)]=\"webVaultUrl\" inputmode=\"url\"\n                           appInputVerbatim>\n                </div>\n                <div class=\"box-content-row\" appBoxRow>\n                    <label for=\"apiUrl\">{{'apiUrl' | i18n}}</label>\n                    <input id=\"apiUrl\" type=\"text\" name=\"ApiUrl\" [(ngModel)]=\"apiUrl\" inputmode=\"url\" appInputVerbatim>\n                </div>\n                <div class=\"box-content-row\" appBoxRow>\n                    <label for=\"identityUrl\">{{'identityUrl' | i18n}}</label>\n                    <input id=\"identityUrl\" type=\"text\" name=\"IdentityUrl\" [(ngModel)]=\"identityUrl\" inputmode=\"url\"\n                           appInputVerbatim>\n                </div>\n                <div class=\"box-content-row\" appBoxRow>\n                    <label for=\"notificationsUrl\">{{'notificationsUrl' | i18n}}</label>\n                    <input id=\"notificationsUrl\" type=\"text\" name=\"NotificationsUrl\" inputmode=\"url\"\n                           [(ngModel)]=\"notificationsUrl\" appInputVerbatim>\n                </div>\n                <div class=\"box-content-row\" appBoxRow>\n                    <label for=\"iconsUrl\">{{'iconsUrl' | i18n}}</label>\n                    <input id=\"iconsUrl\" type=\"text\" name=\"IconsUrl\" [(ngModel)]=\"iconsUrl\" inputmode=\"url\"\n                           appInputVerbatim>\n                </div>\n            </div>\n            <div class=\"box-footer\" [hidden]=\"!showCustom\">\n                {{'customEnvironmentFooter' | i18n}}\n            </div>\n        </div>\n    </content>\n</form>\n","import {\n    Directive,\n    ElementRef,\n    HostListener,\n    Input,\n} from '@angular/core';\n\n@Directive({\n    selector: '[appFallbackSrc]',\n})\nexport class FallbackSrcDirective {\n    @Input('appFallbackSrc') appFallbackSrc: string;\n\n    constructor(private el: ElementRef) {\n    }\n\n    @HostListener('error') onError() {\n        this.el.nativeElement.src = this.appFallbackSrc;\n    }\n}\n","import {\n    Component,\n    Input,\n    OnChanges,\n} from '@angular/core';\n\nimport { CipherType } from '../../enums/cipherType';\n\nimport { EnvironmentService } from '../../abstractions/environment.service';\nimport { StateService } from '../../abstractions/state.service';\n\nimport { ConstantsService } from '../../services/constants.service';\n\nimport { Utils } from '../../misc/utils';\n\n@Component({\n    selector: 'app-vault-icon',\n    templateUrl: 'icon.component.html',\n})\nexport class IconComponent implements OnChanges {\n    @Input() cipher: any;\n    icon: string;\n    image: string;\n    fallbackImage: string;\n    imageEnabled: boolean;\n\n    private iconsUrl: string;\n\n    constructor(private environmentService: EnvironmentService, private stateService: StateService) {\n        this.iconsUrl = environmentService.iconsUrl;\n        if (!this.iconsUrl) {\n            if (environmentService.baseUrl) {\n                this.iconsUrl = environmentService.baseUrl + '/icons';\n            } else {\n                this.iconsUrl = 'https://icons.bitwarden.net';\n            }\n        }\n    }\n\n    async ngOnChanges() {\n        this.imageEnabled = !(await this.stateService.get<boolean>(ConstantsService.disableFaviconKey));\n\n        switch (this.cipher.type) {\n            case CipherType.Login:\n                this.icon = 'fa-globe';\n                this.setLoginIcon();\n                break;\n            case CipherType.SecureNote:\n                this.icon = 'fa-sticky-note-o';\n                break;\n            case CipherType.Card:\n                this.icon = 'fa-credit-card';\n                break;\n            case CipherType.Identity:\n                this.icon = 'fa-id-card-o';\n                break;\n            default:\n                break;\n        }\n    }\n\n    private setLoginIcon() {\n        if (this.cipher.login.uri) {\n            let hostnameUri = this.cipher.login.uri;\n            let isWebsite = false;\n\n            if (hostnameUri.indexOf('androidapp://') === 0) {\n                this.icon = 'fa-android';\n                this.image = null;\n            } else if (hostnameUri.indexOf('iosapp://') === 0) {\n                this.icon = 'fa-apple';\n                this.image = null;\n            } else if (this.imageEnabled && hostnameUri.indexOf('://') === -1 && hostnameUri.indexOf('.') > -1) {\n                hostnameUri = 'http://' + hostnameUri;\n                isWebsite = true;\n            } else if (this.imageEnabled) {\n                isWebsite = hostnameUri.indexOf('http') === 0 && hostnameUri.indexOf('.') > -1;\n            }\n\n            if (this.imageEnabled && isWebsite) {\n                try {\n                    this.image = this.iconsUrl + '/' + Utils.getHostname(hostnameUri) + '/icon.png';\n                    this.fallbackImage = 'images/fa-globe.png';\n                } catch (e) { }\n            }\n        } else {\n            this.image = null;\n        }\n    }\n}\n","<div class=\"icon\">\n    <img [src]=\"image\" appFallbackSrc=\"{{fallbackImage}}\" *ngIf=\"imageEnabled && image\" alt=\"\" />\n    <i class=\"fa fa-fw fa-lg {{icon}}\" *ngIf=\"!imageEnabled || !image\"></i>\n</div>\n","import {\n    Directive,\n    HostListener,\n} from '@angular/core';\n\n@Directive({\n    selector: '[appStopProp]',\n})\nexport class StopPropDirective {\n    @HostListener('click', ['$event']) onClick($event: MouseEvent) {\n        $event.stopPropagation();\n    }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class PopupUtilsService {\n    inSidebar(win: Window): boolean {\n        return win.location.search !== '' && win.location.search.indexOf('uilocation=sidebar') > -1;\n    }\n\n    inTab(win: Window): boolean {\n        return win.location.search !== '' && win.location.search.indexOf('uilocation=tab') > -1;\n    }\n\n    inPopout(win: Window): boolean {\n        return win.location.search !== '' && win.location.search.indexOf('uilocation=popout') > -1;\n    }\n\n    inPopup(win: Window): boolean {\n        return win.location.search === '' || win.location.search.indexOf('uilocation=') === -1 ||\n            win.location.search.indexOf('uilocation=popup') > -1;\n    }\n\n    getContentScrollY(win: Window): number {\n        const content = win.document.getElementsByTagName('content')[0];\n        return content.scrollTop;\n    }\n\n    setContentScrollY(win: Window, scrollY: number): void {\n        if (scrollY != null) {\n            const content = win.document.getElementsByTagName('content')[0];\n            content.scrollTop = scrollY;\n        }\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n} from '@angular/core';\n\nimport { ToasterService } from 'angular2-toaster';\nimport { Angulartics2 } from 'angulartics2';\n\nimport { BrowserApi } from '../../browser/browserApi';\n\nimport { CipherType } from 'jslib/enums/cipherType';\n\nimport { CipherView } from 'jslib/models/view/cipherView';\n\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport { PopupUtilsService } from '../services/popup-utils.service';\n\n@Component({\n    selector: 'app-action-buttons',\n    templateUrl: 'action-buttons.component.html',\n})\nexport class ActionButtonsComponent {\n    @Output() onView = new EventEmitter<CipherView>();\n    @Input() cipher: CipherView;\n    @Input() showView = false;\n\n    cipherType = CipherType;\n\n    constructor(private analytics: Angulartics2, private toasterService: ToasterService,\n        private i18nService: I18nService, private platformUtilsService: PlatformUtilsService,\n        private popupUtilsService: PopupUtilsService) { }\n\n    launch() {\n        if (this.cipher.type !== CipherType.Login || !this.cipher.login.canLaunch) {\n            return;\n        }\n\n        this.analytics.eventTrack.next({ action: 'Launched URI From Listing' });\n        BrowserApi.createNewTab(this.cipher.login.uri);\n        if (this.popupUtilsService.inPopup(window)) {\n            BrowserApi.closePopup(window);\n        }\n    }\n\n    copy(value: string, typeI18nKey: string, aType: string) {\n        if (value == null) {\n            return;\n        }\n\n        this.analytics.eventTrack.next({ action: 'Copied ' + aType });\n        this.platformUtilsService.copyToClipboard(value, { window: window });\n        this.toasterService.popAsync('info', null,\n            this.i18nService.t('valueCopied', this.i18nService.t(typeI18nKey)));\n    }\n\n    view() {\n        this.onView.emit(this.cipher);\n    }\n}\n","<span class=\"row-btn\" (click)=\"view()\" appStopClick appStopProp title=\"{{'view' | i18n}}\" *ngIf=\"showView\">\n    <i class=\"fa fa-lg fa-list-alt\"></i>\n</span>\n<ng-container *ngIf=\"cipher.type === cipherType.Login\">\n    <span class=\"row-btn\" appStopClick appStopProp title=\"{{'launch' | i18n}}\" (click)=\"launch()\"\n          *ngIf=\"!showView\" [ngClass]=\"{disabled: !cipher.login.canLaunch}\">\n        <i class=\"fa fa-lg fa-share-square-o\"></i>\n    </span>\n    <span class=\"row-btn\" appStopClick appStopProp title=\"{{'copyUsername' | i18n}}\"\n          (click)=\"copy(cipher.login.username, 'username', 'Username')\"\n          [ngClass]=\"{disabled: !cipher.login.username}\">\n        <i class=\"fa fa-lg fa-user\"></i>\n    </span>\n    <span class=\"row-btn\" appStopClick appStopProp title=\"{{'copyPassword' | i18n}}\"\n          (click)=\"copy(cipher.login.password, 'password', 'Password')\"\n          [ngClass]=\"{disabled: !cipher.login.password}\">\n        <i class=\"fa fa-lg fa-key\"></i>\n    </span>\n</ng-container>\n<ng-container *ngIf=\"cipher.type === cipherType.Card\">\n    <span class=\"row-btn\" appStopClick appStopProp title=\"{{'copyNumber' | i18n}}\"\n          (click)=\"copy(cipher.card.number, 'number', 'Card Number')\"\n          [ngClass]=\"{disabled: !cipher.card.number}\">\n        <i class=\"fa fa-lg fa-hashtag\"></i>\n    </span>\n    <span class=\"row-btn\" appStopClick appStopProp title=\"{{'copySecurityCode' | i18n}}\"\n          (click)=\"copy(cipher.card.code, 'securityCode', 'Security Code')\"\n          [ngClass]=\"{disabled: !cipher.card.code}\">\n        <i class=\"fa fa-lg fa-key\"></i>\n    </span>\n</ng-container>\n<ng-container *ngIf=\"cipher.type === cipherType.SecureNote\">\n    <span class=\"row-btn\" appStopClick appStopProp title=\"{{'copyNote' | i18n}}\"\n          (click)=\"copy(cipher.notes, 'note', 'Note')\" [ngClass]=\"{disabled: !cipher.notes}\">\n        <i class=\"fa fa-lg fa-clipboard\"></i>\n    </span>\n</ng-container>\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n} from '@angular/core';\n\nimport { CipherType } from 'jslib/enums/cipherType';\n\nimport { CipherView } from 'jslib/models/view/cipherView';\n\n@Component({\n    selector: 'app-ciphers-list',\n    templateUrl: 'ciphers-list.component.html',\n})\nexport class CiphersListComponent {\n    @Output() onSelected = new EventEmitter<CipherView>();\n    @Output() onDoubleSelected = new EventEmitter<CipherView>();\n    @Output() onView = new EventEmitter<CipherView>();\n    @Input() ciphers: CipherView[];\n    @Input() showView = false;\n    @Input() title: string;\n\n    cipherType = CipherType;\n\n    selectCipher(c: CipherView) {\n        this.onSelected.emit(c);\n    }\n\n    doubleSelectCipher(c: CipherView) {\n        this.onDoubleSelected.emit(c);\n    }\n\n    viewCipher(c: CipherView) {\n        this.onView.emit(c);\n    }\n}\n","<a *ngFor=\"let c of ciphers\" (click)=\"selectCipher(c)\" (dblclick)=\"doubleSelectCipher(c)\"\n   href=\"#\" appStopClick title=\"{{title}} - {{c.name}}\" class=\"box-content-row box-content-row-flex\">\n    <div class=\"row-main\">\n        <app-vault-icon [cipher]=\"c\"></app-vault-icon>\n        <div class=\"row-main-content\">\n            <span class=\"text\">\n                {{c.name}}\n                <i class=\"fa fa-share-alt text-muted\" *ngIf=\"c.organizationId\" title=\"{{'shared' | i18n}}\"></i>\n                <i class=\"fa fa-paperclip text-muted\" *ngIf=\"c.hasAttachments\" title=\"{{'attachments' | i18n}}\"></i>\n            </span>\n            <span class=\"detail\">{{c.subTitle}}</span>\n        </div>\n    </div>\n    <app-action-buttons [cipher]=\"c\" [showView]=\"showView\" (onView)=\"viewCipher(c)\" class=\"action-buttons\">\n    </app-action-buttons>\n</a>\n","import { CollectionData } from '../models/data/collectionData';\n\nimport { Collection } from '../models/domain/collection';\n\nimport { CollectionView } from '../models/view/collectionView';\n\nexport abstract class CollectionService {\n    decryptedCollectionCache: CollectionView[];\n\n    clearCache: () => void;\n    encrypt: (model: CollectionView) => Promise<Collection>;\n    decryptMany: (collections: Collection[]) => Promise<CollectionView[]>;\n    get: (id: string) => Promise<Collection>;\n    getAll: () => Promise<Collection[]>;\n    getAllDecrypted: () => Promise<CollectionView[]>;\n    upsert: (collection: CollectionData | CollectionData[]) => Promise<any>;\n    replace: (collections: { [id: string]: CollectionData; }) => Promise<any>;\n    clear: (userId: string) => Promise<any>;\n    delete: (id: string | string[]) => Promise<any>;\n}\n","import { FolderData } from '../models/data/folderData';\n\nimport { Folder } from '../models/domain/folder';\nimport { SymmetricCryptoKey } from '../models/domain/symmetricCryptoKey';\n\nimport { FolderView } from '../models/view/folderView';\n\nexport abstract class FolderService {\n    decryptedFolderCache: FolderView[];\n\n    clearCache: () => void;\n    encrypt: (model: FolderView, key?: SymmetricCryptoKey) => Promise<Folder>;\n    get: (id: string) => Promise<Folder>;\n    getAll: () => Promise<Folder[]>;\n    getAllDecrypted: () => Promise<FolderView[]>;\n    saveWithServer: (folder: Folder) => Promise<any>;\n    upsert: (folder: FolderData | FolderData[]) => Promise<any>;\n    replace: (folders: { [id: string]: FolderData; }) => Promise<any>;\n    clear: (userId: string) => Promise<any>;\n    delete: (id: string | string[]) => Promise<any>;\n    deleteWithServer: (id: string) => Promise<any>;\n}\n","import { CipherView } from '../models/view/cipherView';\n\nexport abstract class SearchService {\n    clearIndex: () => void;\n    isSearchable: (query: string) => boolean;\n    indexCiphers: () => Promise<void>;\n    searchCiphers: (query: string, filter?: (cipher: CipherView) => boolean,\n        ciphers?: CipherView[]) => Promise<CipherView[]>;\n    searchCiphersBasic: (ciphers: CipherView[], query: string) => CipherView[];\n}\n","import {\n    EventEmitter,\n    Input,\n    Output,\n} from '@angular/core';\n\nimport { SearchService } from '../../abstractions/search.service';\n\nimport { CipherView } from '../../models/view/cipherView';\n\nexport class CiphersComponent {\n    @Input() activeCipherId: string = null;\n    @Output() onCipherClicked = new EventEmitter<CipherView>();\n    @Output() onCipherRightClicked = new EventEmitter<CipherView>();\n    @Output() onAddCipher = new EventEmitter();\n    @Output() onAddCipherOptions = new EventEmitter();\n\n    loaded: boolean = false;\n    ciphers: CipherView[] = [];\n    searchText: string;\n    searchPlaceholder: string = null;\n    filter: (cipher: CipherView) => boolean = null;\n\n    protected searchPending = false;\n\n    private searchTimeout: any = null;\n\n    constructor(protected searchService: SearchService) { }\n\n    async load(filter: (cipher: CipherView) => boolean = null) {\n        await this.applyFilter(filter);\n        this.loaded = true;\n    }\n\n    async refresh() {\n        this.loaded = false;\n        this.ciphers = [];\n        await this.load(this.filter);\n    }\n\n    async applyFilter(filter: (cipher: CipherView) => boolean = null) {\n        this.filter = filter;\n        await this.search(null);\n    }\n\n    async search(timeout: number = null) {\n        this.searchPending = false;\n        if (this.searchTimeout != null) {\n            clearTimeout(this.searchTimeout);\n        }\n        if (timeout == null) {\n            this.ciphers = await this.searchService.searchCiphers(this.searchText, this.filter);\n            return;\n        }\n        this.searchPending = true;\n        this.searchTimeout = setTimeout(async () => {\n            this.ciphers = await this.searchService.searchCiphers(this.searchText, this.filter);\n            this.searchPending = false;\n        }, timeout);\n    }\n\n    selectCipher(cipher: CipherView) {\n        this.onCipherClicked.emit(cipher);\n    }\n\n    rightClickCipher(cipher: CipherView) {\n        this.onCipherRightClicked.emit(cipher);\n    }\n\n    addCipher() {\n        this.onAddCipher.emit();\n    }\n\n    addCipherOptions() {\n        this.onAddCipherOptions.emit();\n    }\n}\n","import { Angulartics2 } from 'angulartics2';\n\nimport { Location } from '@angular/common';\nimport {\n    ChangeDetectorRef,\n    Component,\n    NgZone,\n    OnDestroy,\n    OnInit,\n} from '@angular/core';\nimport {\n    ActivatedRoute,\n    Router,\n} from '@angular/router';\n\nimport { BrowserApi } from '../../browser/browserApi';\n\nimport { CollectionService } from 'jslib/abstractions/collection.service';\nimport { FolderService } from 'jslib/abstractions/folder.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { SearchService } from 'jslib/abstractions/search.service';\nimport { StateService } from 'jslib/abstractions/state.service';\n\nimport { CipherType } from 'jslib/enums/cipherType';\n\nimport { CipherView } from 'jslib/models/view/cipherView';\n\nimport { BroadcasterService } from 'jslib/angular/services/broadcaster.service';\n\nimport { CiphersComponent as BaseCiphersComponent } from 'jslib/angular/components/ciphers.component';\n\nimport { PopupUtilsService } from '../services/popup-utils.service';\n\nconst ComponentId = 'CiphersComponent';\n\n@Component({\n    selector: 'app-vault-ciphers',\n    templateUrl: 'ciphers.component.html',\n})\nexport class CiphersComponent extends BaseCiphersComponent implements OnInit, OnDestroy {\n    groupingTitle: string;\n    state: any;\n    showAdd = true;\n    folderId: string = null;\n    type: CipherType = null;\n    pagedCiphers: CipherView[] = [];\n\n    private didScroll = false;\n    private selectedTimeout: number;\n    private preventSelected = false;\n    private pageSize = 100;\n\n    constructor(searchService: SearchService, private route: ActivatedRoute,\n        private router: Router, private location: Location,\n        private ngZone: NgZone, private broadcasterService: BroadcasterService,\n        private changeDetectorRef: ChangeDetectorRef, private stateService: StateService,\n        private popupUtils: PopupUtilsService, private i18nService: I18nService,\n        private folderService: FolderService, private collectionService: CollectionService,\n        private analytics: Angulartics2, private platformUtilsService: PlatformUtilsService) {\n        super(searchService);\n        this.pageSize = platformUtilsService.isEdge() ? 25 : 100;\n    }\n\n    async ngOnInit() {\n        this.route.queryParams.subscribe(async (params) => {\n            if (params.type) {\n                this.searchPlaceholder = this.i18nService.t('searchType');\n                this.type = parseInt(params.type, null);\n                switch (this.type) {\n                    case CipherType.Login:\n                        this.groupingTitle = this.i18nService.t('logins');\n                        break;\n                    case CipherType.Card:\n                        this.groupingTitle = this.i18nService.t('cards');\n                        break;\n                    case CipherType.Identity:\n                        this.groupingTitle = this.i18nService.t('identities');\n                        break;\n                    case CipherType.SecureNote:\n                        this.groupingTitle = this.i18nService.t('secureNotes');\n                        break;\n                    default:\n                        break;\n                }\n                await super.load((c) => c.type === this.type);\n            } else if (params.folderId) {\n                this.folderId = params.folderId === 'none' ? null : params.folderId;\n                this.searchPlaceholder = this.i18nService.t('searchFolder');\n                if (this.folderId != null) {\n                    const folder = await this.folderService.get(this.folderId);\n                    if (folder != null) {\n                        this.groupingTitle = (await folder.decrypt()).name;\n                    }\n                } else {\n                    this.groupingTitle = this.i18nService.t('noneFolder');\n                }\n                await super.load((c) => c.folderId === this.folderId);\n            } else if (params.collectionId) {\n                this.showAdd = false;\n                this.searchPlaceholder = this.i18nService.t('searchCollection');\n                const collection = await this.collectionService.get(params.collectionId);\n                if (collection != null) {\n                    this.groupingTitle = (await collection.decrypt()).name;\n                }\n                await super.load((c) => c.collectionIds != null && c.collectionIds.indexOf(params.collectionId) > -1);\n            } else {\n                this.groupingTitle = this.i18nService.t('allItems');\n                await super.load();\n            }\n\n            this.loadMore();\n            this.state = (await this.stateService.get<any>(ComponentId)) || {};\n            if (this.state.searchText) {\n                this.searchText = this.state.searchText;\n            }\n            window.setTimeout(() => this.popupUtils.setContentScrollY(window, this.state.scrollY), 0);\n        });\n\n        this.broadcasterService.subscribe(ComponentId, (message: any) => {\n            this.ngZone.run(async () => {\n                switch (message.command) {\n                    case 'syncCompleted':\n                        if (message.successfully) {\n                            window.setTimeout(() => {\n                                this.refresh();\n                            }, 500);\n                        }\n                        break;\n                    default:\n                        break;\n                }\n\n                this.changeDetectorRef.detectChanges();\n            });\n        });\n    }\n\n    ngOnDestroy() {\n        this.saveState();\n        this.broadcasterService.unsubscribe(ComponentId);\n    }\n\n    selectCipher(cipher: CipherView) {\n        this.selectedTimeout = window.setTimeout(() => {\n            if (!this.preventSelected) {\n                super.selectCipher(cipher);\n                this.router.navigate(['/view-cipher'], { queryParams: { cipherId: cipher.id } });\n            }\n            this.preventSelected = false;\n        }, 200);\n    }\n\n    async launchCipher(cipher: CipherView) {\n        if (cipher.type !== CipherType.Login || !cipher.login.canLaunch) {\n            return;\n        }\n\n        if (this.selectedTimeout != null) {\n            window.clearTimeout(this.selectedTimeout);\n        }\n        this.preventSelected = true;\n        this.analytics.eventTrack.next({ action: 'Launched URI From Listing' });\n        BrowserApi.createNewTab(cipher.login.uri);\n        if (this.popupUtils.inPopup(window)) {\n            BrowserApi.closePopup(window);\n        }\n    }\n\n    addCipher() {\n        super.addCipher();\n        this.router.navigate(['/add-cipher'], { queryParams: { folderId: this.folderId, type: this.type } });\n    }\n\n    back() {\n        this.location.back();\n    }\n\n    loadMore() {\n        if (this.ciphers.length <= this.pageSize) {\n            return;\n        }\n\n        const pagedLength = this.pagedCiphers.length;\n        if (this.ciphers.length > pagedLength) {\n            this.pagedCiphers = this.pagedCiphers.concat(this.ciphers.slice(pagedLength, pagedLength + this.pageSize));\n        }\n        this.didScroll = this.pagedCiphers.length > this.pageSize;\n    }\n\n    isSearching() {\n        return !this.searchPending && this.searchService.isSearchable(this.searchText);\n    }\n\n    isPaging() {\n        const searching = this.isSearching();\n        if (searching && this.didScroll) {\n            this.resetPaging();\n        }\n        return !searching && this.ciphers.length > this.pageSize;\n    }\n\n    async resetPaging() {\n        this.pagedCiphers = [];\n        this.loadMore();\n    }\n\n    private async saveState() {\n        this.state = {\n            scrollY: this.popupUtils.getContentScrollY(window),\n            searchText: this.searchText,\n        };\n        await this.stateService.save(ComponentId, this.state);\n    }\n}\n","<header>\n    <div class=\"left\">\n        <button type=\"button\" appBlurClick (click)=\"back()\">\n            <span class=\"header-icon\"><i class=\"fa fa-chevron-left\"></i></span>\n            <span>{{'back' | i18n}}</span>\n        </button>\n    </div>\n    <div class=\"search\">\n        <input type=\"search\" placeholder=\"{{searchPlaceholder || ('searchVault' | i18n)}}\" id=\"search\"\n               [(ngModel)]=\"searchText\" (input)=\"search(200)\" appAutofocus>\n        <i class=\"fa fa-search\"></i>\n    </div>\n    <div class=\"right\" *ngIf=\"showAdd\">\n        <button type=\"button\" appBlurClick (click)=\"addCipher()\" title=\"{{'addItem' | i18n}}\">\n            <i class=\"fa fa-plus fa-lg fa-fw\"></i>\n        </button>\n    </div>\n</header>\n<content>\n    <ng-container *ngIf=\"(!isPaging() ? ciphers : pagedCiphers) as filteredCiphers\">\n        <div class=\"no-items\" *ngIf=\"!filteredCiphers.length\">\n            <i class=\"fa fa-spinner fa-spin fa-3x\" *ngIf=\"!loaded\"></i>\n            <ng-container *ngIf=\"loaded\">\n                <p>{{'noItemsInList' | i18n}}</p>\n                <button (click)=\"addCipher()\" class=\"btn block primary link\" *ngIf=\"showAdd\">\n                    {{'addItem' | i18n}}\n                </button>\n            </ng-container>\n        </div>\n        <div class=\"box list only-list\" *ngIf=\"filteredCiphers.length > 0\"\n             infiniteScroll [infiniteScrollDistance]=\"1\" [infiniteScrollContainer]=\"'content'\" [fromRoot]=\"true\"\n             [infiniteScrollDisabled]=\"!isPaging()\" (scrolled)=\"loadMore()\">\n            <div class=\"box-header\">\n                {{groupingTitle}}\n                <span class=\"flex-right\">{{isSearching() ? filteredCiphers.length : ciphers.length}}</span>\n            </div>\n            <div class=\"box-content\">\n                <app-ciphers-list [ciphers]=\"filteredCiphers\" title=\"{{'viewItem' | i18n}}\"\n                                  (onSelected)=\"selectCipher($event)\"\n                                  (onDoubleSelected)=\"launchCipher($event)\"></app-ciphers-list>\n            </div>\n        </div>\n    </ng-container>\n</content>\n","import { BreachAccountResponse } from '../models/response/breachAccountResponse';\n\nexport abstract class AuditService {\n    passwordLeaked: (password: string) => Promise<number>;\n    breachedAccounts: (username: string) => Promise<BreachAccountResponse[]>;\n}\n","import { CipherType } from '../enums/cipherType';\n\nimport { CipherData } from '../models/data/cipherData';\n\nimport { Cipher } from '../models/domain/cipher';\nimport { Field } from '../models/domain/field';\nimport { SymmetricCryptoKey } from '../models/domain/symmetricCryptoKey';\n\nimport { AttachmentView } from '../models/view/attachmentView';\nimport { CipherView } from '../models/view/cipherView';\nimport { FieldView } from '../models/view/fieldView';\n\nexport abstract class CipherService {\n    decryptedCipherCache: CipherView[];\n\n    clearCache: () => void;\n    encrypt: (model: CipherView, key?: SymmetricCryptoKey, originalCipher?: Cipher) => Promise<Cipher>;\n    encryptFields: (fieldsModel: FieldView[], key: SymmetricCryptoKey) => Promise<Field[]>;\n    encryptField: (fieldModel: FieldView, key: SymmetricCryptoKey) => Promise<Field>;\n    get: (id: string) => Promise<Cipher>;\n    getAll: () => Promise<Cipher[]>;\n    getAllDecrypted: () => Promise<CipherView[]>;\n    getAllDecryptedForGrouping: (groupingId: string, folder?: boolean) => Promise<CipherView[]>;\n    getAllDecryptedForUrl: (url: string, includeOtherTypes?: CipherType[]) => Promise<CipherView[]>;\n    getLastUsedForUrl: (url: string) => Promise<CipherView>;\n    updateLastUsedDate: (id: string) => Promise<void>;\n    saveNeverDomain: (domain: string) => Promise<void>;\n    saveWithServer: (cipher: Cipher) => Promise<any>;\n    shareWithServer: (cipher: CipherView, organizationId: string, collectionIds: string[]) => Promise<any>;\n    shareManyWithServer: (ciphers: CipherView[], organizationId: string, collectionIds: string[]) => Promise<any>;\n    shareAttachmentWithServer: (attachmentView: AttachmentView, cipherId: string,\n        organizationId: string) => Promise<any>;\n    saveAttachmentWithServer: (cipher: Cipher, unencryptedFile: any, admin?: boolean) => Promise<Cipher>;\n    saveAttachmentRawWithServer: (cipher: Cipher, filename: string, data: ArrayBuffer,\n        admin?: boolean) => Promise<Cipher>;\n    saveCollectionsWithServer: (cipher: Cipher) => Promise<any>;\n    upsert: (cipher: CipherData | CipherData[]) => Promise<any>;\n    replace: (ciphers: { [id: string]: CipherData; }) => Promise<any>;\n    clear: (userId: string) => Promise<any>;\n    moveManyWithServer: (ids: string[], folderId: string) => Promise<any>;\n    delete: (id: string | string[]) => Promise<any>;\n    deleteWithServer: (id: string) => Promise<any>;\n    deleteManyWithServer: (ids: string[]) => Promise<any>;\n    deleteAttachment: (id: string, attachmentId: string) => Promise<void>;\n    deleteAttachmentWithServer: (id: string, attachmentId: string) => Promise<void>;\n    sortCiphersByLastUsed: (a: any, b: any) => number;\n    sortCiphersByLastUsedThenName: (a: any, b: any) => number;\n    getLocaleSortingFunction: () => (a: CipherView, b: CipherView) => number;\n}\n","export abstract class TokenService {\n    token: string;\n    decodedToken: any;\n    refreshToken: string;\n    setTokens: (accessToken: string, refreshToken: string) => Promise<any>;\n    setToken: (token: string) => Promise<any>;\n    getToken: () => Promise<string>;\n    setRefreshToken: (refreshToken: string) => Promise<any>;\n    getRefreshToken: () => Promise<string>;\n    setTwoFactorToken: (token: string, email: string) => Promise<any>;\n    getTwoFactorToken: (email: string) => Promise<string>;\n    clearTwoFactorToken: (email: string) => Promise<any>;\n    clearToken: () => Promise<any>;\n    decodeToken: () => any;\n    getTokenExpirationDate: () => Date;\n    tokenSecondsRemaining: (offsetSeconds?: number) => number;\n    tokenNeedsRefresh: (minutes?: number) => boolean;\n    getUserId: () => string;\n    getEmail: () => string;\n    getEmailVerified: () => boolean;\n    getName: () => string;\n    getPremium: () => boolean;\n    getIssuer: () => string;\n}\n","export abstract class TotpService {\n    getCode: (key: string) => Promise<string>;\n    getTimeInterval: (key: string) => number;\n    isAutoCopyEnabled: () => Promise<boolean>;\n}\n","import {\n    ChangeDetectorRef,\n    EventEmitter,\n    Input,\n    NgZone,\n    OnDestroy,\n    OnInit,\n    Output,\n} from '@angular/core';\n\nimport { CipherType } from '../../enums/cipherType';\nimport { FieldType } from '../../enums/fieldType';\n\nimport { AuditService } from '../../abstractions/audit.service';\nimport { CipherService } from '../../abstractions/cipher.service';\nimport { CryptoService } from '../../abstractions/crypto.service';\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\nimport { TokenService } from '../../abstractions/token.service';\nimport { TotpService } from '../../abstractions/totp.service';\nimport { UserService } from '../../abstractions/user.service';\n\nimport { AttachmentView } from '../../models/view/attachmentView';\nimport { CipherView } from '../../models/view/cipherView';\nimport { FieldView } from '../../models/view/fieldView';\nimport { LoginUriView } from '../../models/view/loginUriView';\nimport { BroadcasterService } from '../services/broadcaster.service';\n\nconst BroadcasterSubscriptionId = 'ViewComponent';\n\nexport class ViewComponent implements OnDestroy, OnInit {\n    @Input() cipherId: string;\n    @Output() onEditCipher = new EventEmitter<CipherView>();\n\n    cipher: CipherView;\n    showPassword: boolean;\n    showCardCode: boolean;\n    canAccessPremium: boolean;\n    totpCode: string;\n    totpCodeFormatted: string;\n    totpDash: number;\n    totpSec: number;\n    totpLow: boolean;\n    fieldType = FieldType;\n    checkPasswordPromise: Promise<number>;\n\n    private totpInterval: any;\n\n    constructor(protected cipherService: CipherService, protected totpService: TotpService,\n        protected tokenService: TokenService, protected i18nService: I18nService,\n        protected cryptoService: CryptoService, protected platformUtilsService: PlatformUtilsService,\n        protected auditService: AuditService, protected win: Window,\n        protected broadcasterService: BroadcasterService, protected ngZone: NgZone,\n        protected changeDetectorRef: ChangeDetectorRef, protected userService: UserService) { }\n\n    ngOnInit() {\n        this.broadcasterService.subscribe(BroadcasterSubscriptionId, (message: any) => {\n            this.ngZone.run(async () => {\n                switch (message.command) {\n                    case 'syncCompleted':\n                        if (message.successfully) {\n                            await this.load();\n                            this.changeDetectorRef.detectChanges();\n                        }\n                        break;\n                }\n            });\n        });\n    }\n\n    ngOnDestroy() {\n        this.broadcasterService.unsubscribe(BroadcasterSubscriptionId);\n        this.cleanUp();\n    }\n\n    async load() {\n        this.cleanUp();\n\n        const cipher = await this.cipherService.get(this.cipherId);\n        this.cipher = await cipher.decrypt();\n        this.canAccessPremium = await this.userService.canAccessPremium();\n\n        if (this.cipher.type === CipherType.Login && this.cipher.login.totp &&\n            (cipher.organizationUseTotp || this.canAccessPremium)) {\n            await this.totpUpdateCode();\n            const interval = this.totpService.getTimeInterval(this.cipher.login.totp);\n            await this.totpTick(interval);\n\n            this.totpInterval = setInterval(async () => {\n                await this.totpTick(interval);\n            }, 1000);\n        }\n    }\n\n    edit() {\n        this.onEditCipher.emit(this.cipher);\n    }\n\n    togglePassword() {\n        this.platformUtilsService.eventTrack('Toggled Password');\n        this.showPassword = !this.showPassword;\n    }\n\n    toggleCardCode() {\n        this.platformUtilsService.eventTrack('Toggled Card Code');\n        this.showCardCode = !this.showCardCode;\n    }\n\n    async checkPassword() {\n        if (this.cipher.login == null || this.cipher.login.password == null || this.cipher.login.password === '') {\n            return;\n        }\n\n        this.platformUtilsService.eventTrack('Check Password');\n        this.checkPasswordPromise = this.auditService.passwordLeaked(this.cipher.login.password);\n        const matches = await this.checkPasswordPromise;\n\n        if (matches > 0) {\n            this.platformUtilsService.showToast('warning', null,\n                this.i18nService.t('passwordExposed', matches.toString()));\n        } else {\n            this.platformUtilsService.showToast('success', null, this.i18nService.t('passwordSafe'));\n        }\n    }\n\n    toggleFieldValue(field: FieldView) {\n        const f = (field as any);\n        f.showValue = !f.showValue;\n    }\n\n    launch(uri: LoginUriView) {\n        if (!uri.canLaunch) {\n            return;\n        }\n\n        this.platformUtilsService.eventTrack('Launched Login URI');\n        this.platformUtilsService.launchUri(uri.uri);\n    }\n\n    copy(value: string, typeI18nKey: string, aType: string) {\n        if (value == null) {\n            return;\n        }\n\n        this.platformUtilsService.eventTrack('Copied ' + aType);\n        const copyOptions = this.win != null ? { window: this.win } : null;\n        this.platformUtilsService.copyToClipboard(value, copyOptions);\n        this.platformUtilsService.showToast('info', null,\n            this.i18nService.t('valueCopied', this.i18nService.t(typeI18nKey)));\n    }\n\n    async downloadAttachment(attachment: AttachmentView) {\n        const a = (attachment as any);\n        if (a.downloading) {\n            return;\n        }\n\n        if (this.cipher.organizationId == null && !this.canAccessPremium) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('premiumRequired'),\n                this.i18nService.t('premiumRequiredDesc'));\n            return;\n        }\n\n        a.downloading = true;\n        const response = await fetch(new Request(attachment.url, { cache: 'no-cache' }));\n        if (response.status !== 200) {\n            this.platformUtilsService.showToast('error', null, this.i18nService.t('errorOccurred'));\n            a.downloading = false;\n            return;\n        }\n\n        try {\n            const buf = await response.arrayBuffer();\n            const key = await this.cryptoService.getOrgKey(this.cipher.organizationId);\n            const decBuf = await this.cryptoService.decryptFromBytes(buf, key);\n            this.platformUtilsService.saveFile(this.win, decBuf, null, attachment.fileName);\n        } catch (e) {\n            this.platformUtilsService.showToast('error', null, this.i18nService.t('errorOccurred'));\n        }\n\n        a.downloading = false;\n    }\n\n    private cleanUp() {\n        this.totpCode = null;\n        this.cipher = null;\n        this.showPassword = false;\n        if (this.totpInterval) {\n            clearInterval(this.totpInterval);\n        }\n    }\n\n    private async totpUpdateCode() {\n        if (this.cipher == null || this.cipher.type !== CipherType.Login || this.cipher.login.totp == null) {\n            if (this.totpInterval) {\n                clearInterval(this.totpInterval);\n            }\n            return;\n        }\n\n        this.totpCode = await this.totpService.getCode(this.cipher.login.totp);\n        if (this.totpCode != null) {\n            if (this.totpCode.length > 4) {\n                const half = Math.floor(this.totpCode.length / 2);\n                this.totpCodeFormatted = this.totpCode.substring(0, half) + ' ' + this.totpCode.substring(half);\n            } else {\n                this.totpCodeFormatted = this.totpCode;\n            }\n        } else {\n            this.totpCodeFormatted = null;\n            if (this.totpInterval) {\n                clearInterval(this.totpInterval);\n            }\n        }\n    }\n\n    private async totpTick(intervalSeconds: number) {\n        const epoch = Math.round(new Date().getTime() / 1000.0);\n        const mod = epoch % intervalSeconds;\n\n        this.totpSec = intervalSeconds - mod;\n        this.totpDash = +(Math.round((((78.6 / intervalSeconds) * mod) + 'e+2') as any) + 'e-2');\n        this.totpLow = this.totpSec <= 7;\n        if (mod === 0) {\n            await this.totpUpdateCode();\n        }\n    }\n}\n","import { Location } from '@angular/common';\nimport {\n    ChangeDetectorRef,\n    Component,\n    NgZone,\n} from '@angular/core';\nimport {\n    ActivatedRoute,\n    Router,\n} from '@angular/router';\n\nimport { AuditService } from 'jslib/abstractions/audit.service';\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { TokenService } from 'jslib/abstractions/token.service';\nimport { TotpService } from 'jslib/abstractions/totp.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { BroadcasterService } from 'jslib/angular/services/broadcaster.service';\n\nimport { ViewComponent as BaseViewComponent } from 'jslib/angular/components/view.component';\n\n@Component({\n    selector: 'app-vault-view',\n    templateUrl: 'view.component.html',\n})\nexport class ViewComponent extends BaseViewComponent {\n    showAttachments = true;\n\n    constructor(cipherService: CipherService, totpService: TotpService,\n        tokenService: TokenService, i18nService: I18nService,\n        cryptoService: CryptoService, platformUtilsService: PlatformUtilsService,\n        auditService: AuditService, private route: ActivatedRoute,\n        private router: Router, private location: Location,\n        broadcasterService: BroadcasterService, ngZone: NgZone,\n        changeDetectorRef: ChangeDetectorRef, userService: UserService) {\n        super(cipherService, totpService, tokenService, i18nService, cryptoService, platformUtilsService,\n            auditService, window, broadcasterService, ngZone, changeDetectorRef, userService);\n    }\n\n    ngOnInit() {\n        this.showAttachments = !this.platformUtilsService.isEdge();\n        this.route.queryParams.subscribe(async (params) => {\n            if (params.cipherId) {\n                this.cipherId = params.cipherId;\n            } else {\n                this.close();\n            }\n\n            await this.load();\n        });\n        super.ngOnInit();\n    }\n\n    edit() {\n        super.edit();\n        this.router.navigate(['/edit-cipher'], { queryParams: { cipherId: this.cipher.id } });\n    }\n\n    close() {\n        this.location.back();\n    }\n}\n","<header>\n    <div class=\"left\">\n        <button type=\"button\" appBlurClick (click)=\"close()\">{{'close' | i18n}}</button>\n    </div>\n    <div class=\"center\">\n        <span class=\"title\">{{'viewItem' | i18n}}</span>\n    </div>\n    <div class=\"right\">\n        <button type=\"button\" appBlurClick (click)=\"edit()\">{{'edit' | i18n}}</button>\n    </div>\n</header>\n<content *ngIf=\"cipher\">\n    <div class=\"box\">\n        <div class=\"box-header\">\n            {{'itemInformation' | i18n}}\n        </div>\n        <div class=\"box-content\">\n            <div class=\"box-content-row\">\n                <span class=\"row-label\">{{'name' | i18n}}</span>\n                {{cipher.name}}\n            </div>\n            <!-- Login -->\n            <div *ngIf=\"cipher.login\">\n                <div class=\"box-content-row box-content-row-flex\" *ngIf=\"cipher.login.username\">\n                    <div class=\"row-main\">\n                        <span class=\"row-label\">{{'username' | i18n}}</span>\n                        {{cipher.login.username}}\n                    </div>\n                    <div class=\"action-buttons\">\n                        <a class=\"row-btn\" href=\"#\" appStopClick title=\"{{'copyUsername' | i18n}}\"\n                           (click)=\"copy(cipher.login.username, 'username', 'Username')\">\n                            <i class=\"fa fa-lg fa-clipboard\"></i>\n                        </a>\n                    </div>\n                </div>\n                <div class=\"box-content-row box-content-row-flex\" *ngIf=\"cipher.login.password\">\n                    <div class=\"row-main\">\n                        <span class=\"row-label\">{{'password' | i18n}}</span>\n                        <span [hidden]=\"showPassword\" class=\"monospaced\">{{cipher.login.maskedPassword}}</span>\n                        <span [hidden]=\"!showPassword\" class=\"monospaced\">{{cipher.login.password}}</span>\n                    </div>\n                    <div class=\"action-buttons\">\n                        <button type=\"button\" #checkPasswordBtn class=\"row-btn btn\" appBlurClick\n                                title=\"{{'checkPassword' | i18n}}\" (click)=\"checkPassword()\"\n                                [appApiAction]=\"checkPasswordPromise\" [disabled]=\"checkPasswordBtn.loading\">\n                            <i class=\"fa fa-lg fa-check-circle\" [hidden]=\"checkPasswordBtn.loading\"></i>\n                            <i class=\"fa fa-lg fa-spinner fa-spin\" [hidden]=\"!checkPasswordBtn.loading\"></i>\n                        </button>\n                        <a class=\"row-btn\" href=\"#\" appStopClick title=\"{{'toggleVisibility' | i18n}}\"\n                           (click)=\"togglePassword()\">\n                            <i class=\"fa fa-lg\"\n                               [ngClass]=\"{'fa-eye': !showPassword, 'fa-eye-slash': showPassword}\"></i>\n                        </a>\n                        <a class=\"row-btn\" href=\"#\" appStopClick title=\"{{'copyPassword' | i18n}}\"\n                           (click)=\"copy(cipher.login.password, 'password', 'Password')\">\n                            <i class=\"fa fa-lg fa-clipboard\"></i>\n                        </a>\n                    </div>\n                </div>\n                <div class=\"box-content-row box-content-row-flex totp\" [ngClass]=\"{'low': totpLow}\"\n                     *ngIf=\"cipher.login.totp && totpCode\">\n                    <div class=\"row-main\">\n                        <span class=\"row-label\">{{'verificationCodeTotp' | i18n}}</span>\n                        <span class=\"totp-code\">{{totpCodeFormatted}}</span>\n                    </div>\n                    <span class=\"totp-countdown\">\n                        <span class=\"totp-sec\">{{totpSec}}</span>\n                        <svg>\n                            <g>\n                                <circle class=\"totp-circle inner\" r=\"12.6\" cy=\"16\" cx=\"16\"\n                                        [ngStyle]=\"{'stroke-dashoffset.px': totpDash}\"></circle>\n                                <circle class=\"totp-circle outer\" r=\"14\" cy=\"16\" cx=\"16\"></circle>\n                            </g>\n                        </svg>\n                    </span>\n                    <div class=\"action-buttons\">\n                        <a class=\"row-btn\" href=\"#\" appStopClick title=\"{{'copyVerificationCode' | i18n}}\"\n                           (click)=\"copy(totpCode, 'verificationCodeTotp', 'TOTP')\">\n                            <i class=\"fa fa-lg fa-clipboard\"></i>\n                        </a>\n                    </div>\n                </div>\n            </div>\n            <!-- Card -->\n            <div *ngIf=\"cipher.card\">\n                <div class=\"box-content-row\" *ngIf=\"cipher.card.cardholderName\">\n                    <span class=\"row-label\">{{'cardholderName' | i18n}}</span>\n                    {{cipher.card.cardholderName}}\n                </div>\n                <div class=\"box-content-row box-content-row-flex\" *ngIf=\"cipher.card.number\">\n                    <div class=\"row-main\">\n                        <span class=\"row-label\">{{'number' | i18n}}</span>\n                        {{cipher.card.number}}\n                    </div>\n                    <div class=\"action-buttons\">\n                        <a class=\"row-btn\" href=\"#\" appStopClick title=\"{{'copyNumber' | i18n}}\"\n                           (click)=\"copy(cipher.card.number, 'number', 'Number')\">\n                            <i class=\"fa fa-lg fa-clipboard\"></i>\n                        </a>\n                    </div>\n                </div>\n                <div class=\"box-content-row\" *ngIf=\"cipher.card.brand\">\n                    <span class=\"row-label\">{{'brand' | i18n}}</span>\n                    {{cipher.card.brand}}\n                </div>\n                <div class=\"box-content-row\" *ngIf=\"cipher.card.expiration\">\n                    <span class=\"row-label\">{{'expiration' | i18n}}</span>\n                    {{cipher.card.expiration}}\n                </div>\n                <div class=\"box-content-row box-content-row-flex\" *ngIf=\"cipher.card.code\">\n                    <div class=\"row-main\">\n                        <span class=\"row-label\">{{'securityCode' | i18n}}</span>\n                        <span [hidden]=\"showCardCode\" class=\"monospaced\">{{cipher.card.maskedCode}}</span>\n                        <span [hidden]=\"!showCardCode\" class=\"monospaced\">{{cipher.card.code}}</span>\n                    </div>\n                    <div class=\"action-buttons\">\n                        <a class=\"row-btn\" href=\"#\" appStopClick title=\"{{'toggleVisibility' | i18n}}\"\n                           (click)=\"toggleCardCode()\">\n                            <i class=\"fa fa-lg\"\n                               [ngClass]=\"{'fa-eye': !showCardCode, 'fa-eye-slash': showCardCode}\"></i>\n                        </a>\n                        <a class=\"row-btn\" href=\"#\" appStopClick title=\"{{'copySecurityCode' | i18n}}\"\n                           (click)=\"copy(cipher.card.code, 'securityCode', 'Security Code')\">\n                            <i class=\"fa fa-lg fa-clipboard\"></i>\n                        </a>\n                    </div>\n                </div>\n            </div>\n            <!-- Identity -->\n            <div *ngIf=\"cipher.identity\">\n                <div class=\"box-content-row\" *ngIf=\"cipher.identity.fullName\">\n                    <span class=\"row-label\">{{'identityName' | i18n}}</span>\n                    {{cipher.identity.fullName}}\n                </div>\n                <div class=\"box-content-row\" *ngIf=\"cipher.identity.username\">\n                    <span class=\"row-label\">{{'username' | i18n}}</span>\n                    {{cipher.identity.username}}\n                </div>\n                <div class=\"box-content-row\" *ngIf=\"cipher.identity.company\">\n                    <span class=\"row-label\">{{'company' | i18n}}</span>\n                    {{cipher.identity.company}}\n                </div>\n                <div class=\"box-content-row\" *ngIf=\"cipher.identity.ssn\">\n                    <span class=\"row-label\">{{'ssn' | i18n}}</span>\n                    {{cipher.identity.ssn}}\n                </div>\n                <div class=\"box-content-row\" *ngIf=\"cipher.identity.passportNumber\">\n                    <span class=\"row-label\">{{'passportNumber' | i18n}}</span>\n                    {{cipher.identity.passportNumber}}\n                </div>\n                <div class=\"box-content-row\" *ngIf=\"cipher.identity.licenseNumber\">\n                    <span class=\"row-label\">{{'licenseNumber' | i18n}}</span>\n                    {{cipher.identity.licenseNumber}}\n                </div>\n                <div class=\"box-content-row\" *ngIf=\"cipher.identity.email\">\n                    <span class=\"row-label\">{{'email' | i18n}}</span>\n                    {{cipher.identity.email}}\n                </div>\n                <div class=\"box-content-row\" *ngIf=\"cipher.identity.phone\">\n                    <span class=\"row-label\">{{'phone' | i18n}}</span>\n                    {{cipher.identity.phone}}\n                </div>\n                <div class=\"box-content-row\"\n                     *ngIf=\"cipher.identity.address1 || cipher.identity.city || cipher.identity.country\">\n                    <span class=\"row-label\">{{'address' | i18n}}</span>\n                    <div *ngIf=\"cipher.identity.address1\">{{cipher.identity.address1}}</div>\n                    <div *ngIf=\"cipher.identity.address2\">{{cipher.identity.address2}}</div>\n                    <div *ngIf=\"cipher.identity.address3\">{{cipher.identity.address3}}</div>\n                    <div *ngIf=\"cipher.identity.city || cipher.identity.state || cipher.identity.postalCode\">\n                        {{cipher.identity.city || '-'}},\n                        {{cipher.identity.state || '-'}},\n                        {{cipher.identity.postalCode || '-'}}\n                    </div>\n                    <div *ngIf=\"cipher.identity.country\">{{cipher.identity.country}}</div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"box\" *ngIf=\"cipher.login && cipher.login.hasUris\">\n        <div class=\"box-content\">\n            <div class=\"box-content-row box-content-row-flex\" *ngFor=\"let u of cipher.login.uris; let i = index\">\n                <div class=\"row-main\">\n                    <span class=\"row-label\" *ngIf=\"!u.isWebsite\">{{'uri' | i18n}}</span>\n                    <span class=\"row-label\" *ngIf=\"u.isWebsite\">{{'website' | i18n}}</span>\n                    <span title=\"{{u.uri}}\">{{u.hostnameOrUri}}</span>\n                </div>\n                <div class=\"action-buttons\">\n                    <a class=\"row-btn\" href=\"#\" appStopClick title=\"{{'launch' | i18n}}\"\n                       *ngIf=\"u.canLaunch\" (click)=\"launch(u)\">\n                        <i class=\"fa fa-lg fa-share-square-o\"></i>\n                    </a>\n                    <a class=\"row-btn\" href=\"#\" appStopClick title=\"{{'copyUri' | i18n}}\"\n                       (click)=\"copy(u.uri, u.isWebsite ? 'website' : 'uri', 'URI')\">\n                        <i class=\"fa fa-lg fa-clipboard\"></i>\n                    </a>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"box\" *ngIf=\"cipher.notes\">\n        <div class=\"box-header\">\n            {{'notes' | i18n}}\n        </div>\n        <div class=\"box-content\">\n            <div class=\"box-content-row pre\">{{cipher.notes}}</div>\n        </div>\n    </div>\n    <div class=\"box\" *ngIf=\"cipher.hasFields\">\n        <div class=\"box-header\">\n            {{'customFields' | i18n}}\n        </div>\n        <div class=\"box-content\">\n            <div class=\"box-content-row box-content-row-flex\" *ngFor=\"let field of cipher.fields\">\n                <div class=\"row-main\">\n                    <span class=\"row-label\">{{field.name}}</span>\n                    <div *ngIf=\"field.type === fieldType.Text\">\n                        {{field.value || '&nbsp;'}}\n                    </div>\n                    <div *ngIf=\"field.type === fieldType.Hidden\">\n                        <span [hidden]=\"!field.showValue\" class=\"monospaced\">{{field.value}}</span>\n                        <span [hidden]=\"field.showValue\" class=\"monospaced\">{{field.maskedValue}}</span>\n                    </div>\n                    <div *ngIf=\"field.type === fieldType.Boolean\">\n                        <i class=\"fa fa-check-square-o\" *ngIf=\"field.value === 'true'\"></i>\n                        <i class=\"fa fa-square-o\" *ngIf=\"field.value !== 'true'\"></i>\n                    </div>\n                </div>\n                <div class=\"action-buttons\">\n                    <a class=\"row-btn\" href=\"#\" appStopClick title=\"{{'toggleVisibility' | i18n}}\"\n                       *ngIf=\"field.type === fieldType.Hidden\" (click)=\"toggleFieldValue(field)\">\n                        <i class=\"fa fa-lg\"\n                           [ngClass]=\"{'fa-eye': !field.showValue, 'fa-eye-slash': field.showValue}\"></i>\n                    </a>\n                    <a class=\"row-btn\" href=\"#\" appStopClick title=\"{{'copyValue' | i18n}}\"\n                       *ngIf=\"field.value && field.type !== fieldType.Boolean\"\n                       (click)=\"copy(field.value, 'value', 'Field')\">\n                        <i class=\"fa fa-lg fa-clipboard\"></i>\n                    </a>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"box\" *ngIf=\"cipher.hasAttachments && canAccessPremium && showAttachments\">\n        <div class=\"box-header\">\n            {{'attachments' | i18n}}\n        </div>\n        <div class=\"box-content\">\n            <a class=\"box-content-row box-content-row-flex text-default\"\n               *ngFor=\"let attachment of cipher.attachments\"\n               href=\"#\" appStopClick appBlurCLick (click)=\"downloadAttachment(attachment)\">\n                <span class=\"row-main\">{{attachment.fileName}}</span>\n                <small class=\"row-sub-label\">{{attachment.sizeName}}</small>\n                <i class=\"fa fa-download fa-fw row-sub-icon\" *ngIf=\"!attachment.downloading\"></i>\n                <i class=\"fa fa-spinner fa-fw fa-spin row-sub-icon\" *ngIf=\"attachment.downloading\"></i>\n            </a>\n        </div>\n    </div>\n    <div class=\"box\">\n        <div class=\"box-footer\">\n            <div>\n                <b class=\"font-weight-semibold\">{{'dateUpdated' | i18n}}:</b>\n                {{cipher.revisionDate | date:'medium'}}\n            </div>\n            <div *ngIf=\"cipher.passwordRevisionDisplayDate\">\n                <b class=\"font-weight-semibold\">{{'datePasswordUpdated' | i18n}}:</b>\n                {{cipher.passwordRevisionDisplayDate | date:'medium'}}\n            </div>\n            <div *ngIf=\"cipher.hasPasswordHistory\">\n                <b class=\"font-weight-semibold\">{{'passwordHistory' | i18n}}:</b> \n                <a routerLink=\"/cipher-password-history\" [queryParams]=\"{cipherId: cipher.id}\"\n                   appStopClick title=\"{{'passwordHistory' | i18n}}\">\n                    {{cipher.passwordHistory.length}}\n                </a>\n            </div>\n        </div>\n    </div>\n</content>\n","import { OnInit } from '@angular/core';\n\nimport { CipherService } from '../../abstractions/cipher.service';\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\n\nimport { PasswordHistoryView } from '../../models/view/passwordHistoryView';\n\nexport class PasswordHistoryComponent implements OnInit {\n    cipherId: string;\n    history: PasswordHistoryView[] = [];\n\n    constructor(protected cipherService: CipherService, protected platformUtilsService: PlatformUtilsService,\n        protected i18nService: I18nService, private win: Window) { }\n\n    async ngOnInit() {\n        const cipher = await this.cipherService.get(this.cipherId);\n        const decCipher = await cipher.decrypt();\n        this.history = decCipher.passwordHistory == null ? [] : decCipher.passwordHistory;\n    }\n\n    copy(password: string) {\n        this.platformUtilsService.eventTrack('Copied Password History');\n        const copyOptions = this.win != null ? { window: this.win } : null;\n        this.platformUtilsService.copyToClipboard(password, copyOptions);\n        this.platformUtilsService.showToast('info', null,\n            this.i18nService.t('valueCopied', this.i18nService.t('password')));\n    }\n}\n","import { Location } from '@angular/common';\nimport { Component } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport {\n    PasswordHistoryComponent as BasePasswordHistoryComponent,\n} from 'jslib/angular/components/password-history.component';\n\n@Component({\n    selector: 'app-password-history',\n    templateUrl: 'password-history.component.html',\n})\nexport class PasswordHistoryComponent extends BasePasswordHistoryComponent {\n    constructor(cipherService: CipherService, platformUtilsService: PlatformUtilsService,\n        i18nService: I18nService, private location: Location,\n        private route: ActivatedRoute) {\n        super(cipherService, platformUtilsService, i18nService, window);\n    }\n\n    async ngOnInit() {\n        this.route.queryParams.subscribe(async (params) => {\n            if (params.cipherId) {\n                this.cipherId = params.cipherId;\n            } else {\n                this.close();\n            }\n\n            await super.ngOnInit();\n        });\n    }\n\n    close() {\n        this.location.back();\n    }\n}\n","<header>\n    <div class=\"left\">\n        <button type=\"button\" appBlurClick (click)=\"close()\">{{'close' | i18n}}</button>\n    </div>\n    <div class=\"center\">\n        <span class=\"title\">{{'passwordHistory' | i18n}}</span>\n    </div>\n    <div class=\"right\"></div>\n</header>\n<content>\n    <div class=\"box list full-list\" *ngIf=\"history && history.length\">\n        <div class=\"box-content\">\n            <div class=\"box-content-row box-content-row-flex\" *ngFor=\"let h of history\">\n                <div class=\"row-main\">\n                    <div class=\"row-main-content\">\n                        <span class=\"text monospaced no-ellipsis\">\n                            {{h.password}}\n                        </span>\n                        <span class=\"detail\">{{h.lastUsedDate | date:'medium'}}</span>\n                    </div>\n                </div>\n                <div class=\"action-buttons\">\n                    <a class=\"row-btn\" href=\"#\" appStopClick title=\"{{'copyPassword' | i18n}}\"\n                       (click)=\"copy(h.password)\">\n                        <i class=\"fa fa-lg fa-clipboard\"></i>\n                    </a>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"no-items\" *ngIf=\"!history || !history.length\">\n        <p>{{'noPasswordsInList' | i18n}}</p>\n    </div>\n</content>\n","import {\n    Directive,\n    ElementRef,\n    forwardRef,\n    HostListener,\n    Input,\n    Renderer2,\n} from '@angular/core';\nimport {\n    ControlValueAccessor,\n    NG_VALUE_ACCESSOR,\n    NgControl,\n} from '@angular/forms';\n\n// ref: https://juristr.com/blog/2018/02/ng-true-value-directive/\n@Directive({\n    selector: 'input[type=checkbox][appTrueFalseValue]',\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => TrueFalseValueDirective),\n            multi: true,\n        },\n    ],\n})\nexport class TrueFalseValueDirective implements ControlValueAccessor {\n    @Input() trueValue = true;\n    @Input() falseValue = false;\n\n    constructor(private elementRef: ElementRef, private renderer: Renderer2) { }\n\n    @HostListener('change', ['$event'])\n    onHostChange(ev: any) {\n        this.propagateChange(ev.target.checked ? this.trueValue : this.falseValue);\n    }\n\n    writeValue(obj: any): void {\n        if (obj === this.trueValue) {\n            this.renderer.setProperty(this.elementRef.nativeElement, 'checked', true);\n        } else {\n            this.renderer.setProperty(this.elementRef.nativeElement, 'checked', false);\n        }\n    }\n\n    registerOnChange(fn: any): void {\n        this.propagateChange = fn;\n    }\n\n    registerOnTouched(fn: any): void { /* nothing */ }\n\n    setDisabledState?(isDisabled: boolean): void { /* nothing */ }\n\n    private propagateChange = (_: any) => { /* nothing */ };\n}\n","import {\n    EventEmitter,\n    Input,\n    Output,\n} from '@angular/core';\n\nimport { CipherType } from '../../enums/cipherType';\nimport { FieldType } from '../../enums/fieldType';\nimport { SecureNoteType } from '../../enums/secureNoteType';\nimport { UriMatchType } from '../../enums/uriMatchType';\n\nimport { AuditService } from '../../abstractions/audit.service';\nimport { CipherService } from '../../abstractions/cipher.service';\nimport { FolderService } from '../../abstractions/folder.service';\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\nimport { StateService } from '../../abstractions/state.service';\n\nimport { Cipher } from '../../models/domain/cipher';\n\nimport { CardView } from '../../models/view/cardView';\nimport { CipherView } from '../../models/view/cipherView';\nimport { FieldView } from '../../models/view/fieldView';\nimport { FolderView } from '../../models/view/folderView';\nimport { IdentityView } from '../../models/view/identityView';\nimport { LoginUriView } from '../../models/view/loginUriView';\nimport { LoginView } from '../../models/view/loginView';\nimport { SecureNoteView } from '../../models/view/secureNoteView';\n\nexport class AddEditComponent {\n    @Input() folderId: string = null;\n    @Input() cipherId: string;\n    @Input() type: CipherType;\n    @Output() onSavedCipher = new EventEmitter<CipherView>();\n    @Output() onDeletedCipher = new EventEmitter<CipherView>();\n    @Output() onCancelled = new EventEmitter<CipherView>();\n    @Output() onEditAttachments = new EventEmitter<CipherView>();\n    @Output() onGeneratePassword = new EventEmitter();\n\n    editMode: boolean = false;\n    cipher: CipherView;\n    folders: FolderView[];\n    title: string;\n    formPromise: Promise<any>;\n    deletePromise: Promise<any>;\n    checkPasswordPromise: Promise<number>;\n    showPassword: boolean = false;\n    showCardCode: boolean = false;\n    cipherType = CipherType;\n    fieldType = FieldType;\n    addFieldType: FieldType = FieldType.Text;\n    typeOptions: any[];\n    cardBrandOptions: any[];\n    cardExpMonthOptions: any[];\n    identityTitleOptions: any[];\n    addFieldTypeOptions: any[];\n    uriMatchOptions: any[];\n\n    constructor(protected cipherService: CipherService, protected folderService: FolderService,\n        protected i18nService: I18nService, protected platformUtilsService: PlatformUtilsService,\n        protected auditService: AuditService, protected stateService: StateService) {\n        this.typeOptions = [\n            { name: i18nService.t('typeLogin'), value: CipherType.Login },\n            { name: i18nService.t('typeCard'), value: CipherType.Card },\n            { name: i18nService.t('typeIdentity'), value: CipherType.Identity },\n            { name: i18nService.t('typeSecureNote'), value: CipherType.SecureNote },\n        ];\n        this.cardBrandOptions = [\n            { name: '-- ' + i18nService.t('select') + ' --', value: null },\n            { name: 'Visa', value: 'Visa' },\n            { name: 'Mastercard', value: 'Mastercard' },\n            { name: 'American Express', value: 'Amex' },\n            { name: 'Discover', value: 'Discover' },\n            { name: 'Diners Club', value: 'Diners Club' },\n            { name: 'JCB', value: 'JCB' },\n            { name: 'Maestro', value: 'Maestro' },\n            { name: 'UnionPay', value: 'UnionPay' },\n            { name: i18nService.t('other'), value: 'Other' },\n        ];\n        this.cardExpMonthOptions = [\n            { name: '-- ' + i18nService.t('select') + ' --', value: null },\n            { name: '01 - ' + i18nService.t('january'), value: '1' },\n            { name: '02 - ' + i18nService.t('february'), value: '2' },\n            { name: '03 - ' + i18nService.t('march'), value: '3' },\n            { name: '04 - ' + i18nService.t('april'), value: '4' },\n            { name: '05 - ' + i18nService.t('may'), value: '5' },\n            { name: '06 - ' + i18nService.t('june'), value: '6' },\n            { name: '07 - ' + i18nService.t('july'), value: '7' },\n            { name: '08 - ' + i18nService.t('august'), value: '8' },\n            { name: '09 - ' + i18nService.t('september'), value: '9' },\n            { name: '10 - ' + i18nService.t('october'), value: '10' },\n            { name: '11 - ' + i18nService.t('november'), value: '11' },\n            { name: '12 - ' + i18nService.t('december'), value: '12' },\n        ];\n        this.identityTitleOptions = [\n            { name: '-- ' + i18nService.t('select') + ' --', value: null },\n            { name: i18nService.t('mr'), value: i18nService.t('mr') },\n            { name: i18nService.t('mrs'), value: i18nService.t('mrs') },\n            { name: i18nService.t('ms'), value: i18nService.t('ms') },\n            { name: i18nService.t('dr'), value: i18nService.t('dr') },\n        ];\n        this.addFieldTypeOptions = [\n            { name: i18nService.t('cfTypeText'), value: FieldType.Text },\n            { name: i18nService.t('cfTypeHidden'), value: FieldType.Hidden },\n            { name: i18nService.t('cfTypeBoolean'), value: FieldType.Boolean },\n        ];\n        this.uriMatchOptions = [\n            { name: i18nService.t('defaultMatchDetection'), value: null },\n            { name: i18nService.t('baseDomain'), value: UriMatchType.Domain },\n            { name: i18nService.t('host'), value: UriMatchType.Host },\n            { name: i18nService.t('startsWith'), value: UriMatchType.StartsWith },\n            { name: i18nService.t('regEx'), value: UriMatchType.RegularExpression },\n            { name: i18nService.t('exact'), value: UriMatchType.Exact },\n            { name: i18nService.t('never'), value: UriMatchType.Never },\n        ];\n    }\n\n    async load() {\n        this.editMode = this.cipherId != null;\n        if (this.editMode) {\n            this.editMode = true;\n            this.title = this.i18nService.t('editItem');\n        } else {\n            this.title = this.i18nService.t('addItem');\n        }\n\n        this.cipher = await this.stateService.get<CipherView>('addEditCipher');\n        await this.stateService.remove('addEditCipher');\n        if (this.cipher == null) {\n            if (this.editMode) {\n                const cipher = await this.loadCipher();\n                this.cipher = await cipher.decrypt();\n            } else {\n                this.cipher = new CipherView();\n                this.cipher.folderId = this.folderId;\n                this.cipher.type = this.type == null ? CipherType.Login : this.type;\n                this.cipher.login = new LoginView();\n                this.cipher.login.uris = [new LoginUriView()];\n                this.cipher.card = new CardView();\n                this.cipher.identity = new IdentityView();\n                this.cipher.secureNote = new SecureNoteView();\n                this.cipher.secureNote.type = SecureNoteType.Generic;\n            }\n        }\n\n        this.folders = await this.folderService.getAllDecrypted();\n    }\n\n    async submit(): Promise<boolean> {\n        if (this.cipher.name == null || this.cipher.name === '') {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('nameRequired'));\n            return false;\n        }\n\n        if (!this.editMode && this.cipher.type === CipherType.Login &&\n            this.cipher.login.uris != null && this.cipher.login.uris.length === 1 &&\n            (this.cipher.login.uris[0].uri == null || this.cipher.login.uris[0].uri === '')) {\n            this.cipher.login.uris = null;\n        }\n\n        const cipher = await this.encryptCipher();\n        try {\n            this.formPromise = this.saveCipher(cipher);\n            await this.formPromise;\n            this.cipher.id = cipher.id;\n            this.platformUtilsService.eventTrack(this.editMode ? 'Edited Cipher' : 'Added Cipher');\n            this.platformUtilsService.showToast('success', null,\n                this.i18nService.t(this.editMode ? 'editedItem' : 'addedItem'));\n            this.onSavedCipher.emit(this.cipher);\n            return true;\n        } catch { }\n\n        return false;\n    }\n\n    addUri() {\n        if (this.cipher.type !== CipherType.Login) {\n            return;\n        }\n\n        if (this.cipher.login.uris == null) {\n            this.cipher.login.uris = [];\n        }\n\n        this.cipher.login.uris.push(new LoginUriView());\n    }\n\n    removeUri(uri: LoginUriView) {\n        if (this.cipher.type !== CipherType.Login || this.cipher.login.uris == null) {\n            return;\n        }\n\n        const i = this.cipher.login.uris.indexOf(uri);\n        if (i > -1) {\n            this.cipher.login.uris.splice(i, 1);\n        }\n    }\n\n    addField() {\n        if (this.cipher.fields == null) {\n            this.cipher.fields = [];\n        }\n\n        const f = new FieldView();\n        f.type = this.addFieldType;\n        this.cipher.fields.push(f);\n    }\n\n    removeField(field: FieldView) {\n        const i = this.cipher.fields.indexOf(field);\n        if (i > -1) {\n            this.cipher.fields.splice(i, 1);\n        }\n    }\n\n    cancel() {\n        this.onCancelled.emit(this.cipher);\n    }\n\n    attachments() {\n        this.onEditAttachments.emit(this.cipher);\n    }\n\n    async delete(): Promise<boolean> {\n        const confirmed = await this.platformUtilsService.showDialog(\n            this.i18nService.t('deleteItemConfirmation'), this.i18nService.t('deleteItem'),\n            this.i18nService.t('yes'), this.i18nService.t('no'), 'warning');\n        if (!confirmed) {\n            return false;\n        }\n\n        try {\n            this.deletePromise = this.deleteCipher();\n            await this.deletePromise;\n            this.platformUtilsService.eventTrack('Deleted Cipher');\n            this.platformUtilsService.showToast('success', null, this.i18nService.t('deletedItem'));\n            this.onDeletedCipher.emit(this.cipher);\n        } catch { }\n\n        return true;\n    }\n\n    async generatePassword(): Promise<boolean> {\n        if (this.cipher.login != null && this.cipher.login.password != null && this.cipher.login.password.length) {\n            const confirmed = await this.platformUtilsService.showDialog(\n                this.i18nService.t('overwritePasswordConfirmation'), this.i18nService.t('overwritePassword'),\n                this.i18nService.t('yes'), this.i18nService.t('no'));\n            if (!confirmed) {\n                return false;\n            }\n        }\n\n        this.onGeneratePassword.emit();\n        return true;\n    }\n\n    togglePassword() {\n        this.platformUtilsService.eventTrack('Toggled Password on Edit');\n        this.showPassword = !this.showPassword;\n        document.getElementById('loginPassword').focus();\n    }\n\n    toggleCardCode() {\n        this.platformUtilsService.eventTrack('Toggled CardCode on Edit');\n        this.showCardCode = !this.showCardCode;\n        document.getElementById('cardCode').focus();\n    }\n\n    toggleFieldValue(field: FieldView) {\n        const f = (field as any);\n        f.showValue = !f.showValue;\n    }\n\n    toggleUriOptions(uri: LoginUriView) {\n        const u = (uri as any);\n        u.showOptions = u.showOptions == null && uri.match != null ? false : !u.showOptions;\n    }\n\n    loginUriMatchChanged(uri: LoginUriView) {\n        const u = (uri as any);\n        u.showOptions = u.showOptions == null ? true : u.showOptions;\n    }\n\n    async checkPassword() {\n        if (this.checkPasswordPromise != null) {\n            return;\n        }\n\n        if (this.cipher.login == null || this.cipher.login.password == null || this.cipher.login.password === '') {\n            return;\n        }\n\n        this.platformUtilsService.eventTrack('Check Password');\n        this.checkPasswordPromise = this.auditService.passwordLeaked(this.cipher.login.password);\n        const matches = await this.checkPasswordPromise;\n        this.checkPasswordPromise = null;\n\n        if (matches > 0) {\n            this.platformUtilsService.showToast('warning', null,\n                this.i18nService.t('passwordExposed', matches.toString()));\n        } else {\n            this.platformUtilsService.showToast('success', null, this.i18nService.t('passwordSafe'));\n        }\n    }\n\n    protected loadCipher() {\n        return this.cipherService.get(this.cipherId);\n    }\n\n    protected encryptCipher() {\n        return this.cipherService.encrypt(this.cipher);\n    }\n\n    protected saveCipher(cipher: Cipher) {\n        return this.cipherService.saveWithServer(cipher);\n    }\n\n    protected deleteCipher() {\n        return this.cipherService.deleteWithServer(this.cipher.id);\n    }\n}\n","import { Location } from '@angular/common';\nimport {\n    Component,\n    OnInit,\n} from '@angular/core';\nimport {\n    ActivatedRoute,\n    Router,\n} from '@angular/router';\n\nimport { AuditService } from 'jslib/abstractions/audit.service';\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { FolderService } from 'jslib/abstractions/folder.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { StateService } from 'jslib/abstractions/state.service';\n\nimport { AddEditComponent as BaseAddEditComponent } from 'jslib/angular/components/add-edit.component';\n\n@Component({\n    selector: 'app-vault-add-edit',\n    templateUrl: 'add-edit.component.html',\n})\nexport class AddEditComponent extends BaseAddEditComponent implements OnInit {\n    showAttachments = true;\n\n    constructor(cipherService: CipherService, folderService: FolderService,\n        i18nService: I18nService, platformUtilsService: PlatformUtilsService,\n        auditService: AuditService, stateService: StateService,\n        private route: ActivatedRoute, private router: Router,\n        private location: Location) {\n        super(cipherService, folderService, i18nService, platformUtilsService, auditService, stateService);\n    }\n\n    ngOnInit() {\n        this.showAttachments = !this.platformUtilsService.isEdge();\n        this.route.queryParams.subscribe(async (params) => {\n            if (params.cipherId) {\n                this.cipherId = params.cipherId;\n            }\n            if (params.folderId) {\n                this.folderId = params.folderId;\n            }\n            if (params.type) {\n                const type = parseInt(params.type, null);\n                this.type = type;\n            }\n            this.editMode = !params.cipherId;\n            await this.load();\n\n            if (!this.editMode) {\n                if (params.name && (this.cipher.name == null || this.cipher.name === '')) {\n                    this.cipher.name = params.name;\n                }\n                if (params.uri && (this.cipher.login.uris[0].uri == null || this.cipher.login.uris[0].uri === '')) {\n                    this.cipher.login.uris[0].uri = params.uri;\n                }\n            }\n        });\n\n        window.setTimeout(() => {\n            if (!this.editMode) {\n                if (this.cipher.name != null && this.cipher.name !== '') {\n                    document.getElementById('loginUsername').focus();\n                } else {\n                    document.getElementById('name').focus();\n                }\n            }\n        }, 200);\n    }\n\n    async submit(): Promise<boolean> {\n        if (await super.submit()) {\n            this.location.back();\n            return true;\n        }\n\n        return false;\n    }\n\n    attachments() {\n        super.attachments();\n        this.router.navigate(['/attachments'], { queryParams: { cipherId: this.cipher.id } });\n    }\n\n    cancel() {\n        super.cancel();\n        this.location.back();\n    }\n\n    async generatePassword(): Promise<boolean> {\n        const confirmed = await super.generatePassword();\n        if (confirmed) {\n            this.stateService.save('addEditCipher', this.cipher);\n            this.router.navigate(['generator']);\n        }\n        return confirmed;\n    }\n\n    async delete(): Promise<boolean> {\n        const confirmed = await super.delete();\n        if (confirmed) {\n            this.router.navigate(['/tabs/vault']);\n        }\n        return confirmed;\n    }\n}\n","<form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\">\n    <header>\n        <div class=\"left\">\n            <button type=\"button\" appBlurClick (click)=\"cancel()\">{{'cancel' | i18n}}</button>\n        </div>\n        <div class=\"center\">\n            <span class=\"title\">{{title}}</span>\n        </div>\n        <div class=\"right\">\n            <button type=\"submit\" appBlurClick [disabled]=\"form.loading\">\n                <span [hidden]=\"form.loading\">{{'save' | i18n}}</span>\n                <i class=\"fa fa-spinner fa-lg fa-spin\" [hidden]=\"!form.loading\"></i>\n            </button>\n        </div>\n    </header>\n    <content *ngIf=\"cipher\">\n        <div class=\"box\">\n            <div class=\"box-header\">\n                {{'itemInformation' | i18n}}\n            </div>\n            <div class=\"box-content\">\n                <div class=\"box-content-row\" *ngIf=\"!editMode\" appBoxRow>\n                    <label for=\"type\">{{'type' | i18n}}</label>\n                    <select id=\"type\" name=\"Type\" [(ngModel)]=\"cipher.type\">\n                        <option *ngFor=\"let o of typeOptions\" [ngValue]=\"o.value\">{{o.name}}</option>\n                    </select>\n                </div>\n                <div class=\"box-content-row\" appBoxRow>\n                    <label for=\"name\">{{'name' | i18n}}</label>\n                    <input id=\"name\" type=\"text\" name=\"Name\" [(ngModel)]=\"cipher.name\">\n                </div>\n                <!-- Login -->\n                <div *ngIf=\"cipher.type === cipherType.Login\">\n                    <div class=\"box-content-row\" appBoxRow>\n                        <label for=\"loginUsername\">{{'username' | i18n}}</label>\n                        <input id=\"loginUsername\" type=\"text\" name=\"Login.Username\"\n                               [(ngModel)]=\"cipher.login.username\" inputmode=\"email\" appInputVerbatim>\n                    </div>\n                    <div class=\"box-content-row box-content-row-flex\" appBoxRow>\n                        <div class=\"row-main\">\n                            <label for=\"loginPassword\">{{'password' | i18n}}</label>\n                            <input id=\"loginPassword\" class=\"monospaced\"\n                                   type=\"{{showPassword ? 'text' : 'password'}}\" name=\"Login.Password\"\n                                   [(ngModel)]=\"cipher.login.password\" appInputVerbatim>\n                        </div>\n                        <div class=\"action-buttons\">\n                            <button type=\"button\" #checkPasswordBtn class=\"row-btn btn\" appBlurClick\n                                    title=\"{{'checkPassword' | i18n}}\" (click)=\"checkPassword()\"\n                                    [appApiAction]=\"checkPasswordPromise\" [disabled]=\"checkPasswordBtn.loading\">\n                                <i class=\"fa fa-lg fa-check-circle\" [hidden]=\"checkPasswordBtn.loading\"></i>\n                                <i class=\"fa fa-lg fa-spinner fa-spin\" [hidden]=\"!checkPasswordBtn.loading\"></i>\n                            </button>\n                            <a class=\"row-btn\" href=\"#\" appStopClick appBlurClick\n                               title=\"{{'toggleVisibility' | i18n}}\" (click)=\"togglePassword()\">\n                                <i class=\"fa fa-lg\"\n                                   [ngClass]=\"{'fa-eye': !showPassword, 'fa-eye-slash': showPassword}\"></i>\n                            </a>\n                            <a class=\"row-btn\" href=\"#\" appStopClick appBlurClick\n                               title=\"{{'generatePassword' | i18n}}\" (click)=\"generatePassword()\">\n                                <i class=\"fa fa-lg fa-refresh\"></i>\n                            </a>\n                        </div>\n                    </div>\n                    <div class=\"box-content-row\" appBoxRow>\n                        <label for=\"loginTotp\">{{'authenticatorKeyTotp' | i18n}}</label>\n                        <input id=\"loginTotp\" type=\"text\" name=\"Login.Totp\" class=\"monospaced\"\n                               [(ngModel)]=\"cipher.login.totp\" appInputVerbatim>\n                    </div>\n                </div>\n                <!-- Card -->\n                <div *ngIf=\"cipher.type === cipherType.Card\">\n                    <div class=\"box-content-row\" appBoxRow>\n                        <label for=\"cardCardholderName\">{{'cardholderName' | i18n}}</label>\n                        <input id=\"cardCardholderName\" type=\"text\" name=\"Card.CardCardholderName\"\n                               [(ngModel)]=\"cipher.card.cardholderName\">\n                    </div>\n                    <div class=\"box-content-row\" appBoxRow>\n                        <label for=\"cardNumber\">{{'number' | i18n}}</label>\n                        <input id=\"cardNumber\" type=\"text\" name=\"Card.Number\" [(ngModel)]=\"cipher.card.number\"\n                               appInputVerbatim>\n                    </div>\n                    <div class=\"box-content-row\" appBoxRow>\n                        <label for=\"cardBrand\">{{'brand' | i18n}}</label>\n                        <select id=\"cardBrand\" name=\"Card.Brand\" [(ngModel)]=\"cipher.card.brand\">\n                            <option *ngFor=\"let o of cardBrandOptions\" [ngValue]=\"o.value\">{{o.name}}</option>\n                        </select>\n                    </div>\n                    <div class=\"box-content-row\" appBoxRow>\n                        <label for=\"cardExpMonth\">{{'expirationMonth' | i18n}}</label>\n                        <select id=\"cardExpMonth\" name=\"Card.ExpMonth\" [(ngModel)]=\"cipher.card.expMonth\">\n                            <option *ngFor=\"let o of cardExpMonthOptions\" [ngValue]=\"o.value\">{{o.name}}</option>\n                        </select>\n                    </div>\n                    <div class=\"box-content-row\" appBoxRow>\n                        <label for=\"cardExpYear\">{{'expirationYear' | i18n}}</label>\n                        <input id=\"cardExpYear\" type=\"text\" name=\"Card.ExpYear\" [(ngModel)]=\"cipher.card.expYear\"\n                               placeholder=\"{{'ex' | i18n}} 2019\">\n                    </div>\n                    <div class=\"box-content-row box-content-row-flex\" appBoxRow>\n                        <div class=\"row-main\">\n                            <label for=\"cardCode\">{{'securityCode' | i18n}}</label>\n                            <input id=\"cardCode\" class=\"monospaced\"\n                                   type=\"{{showCardCode ? 'text' : 'password'}}\" name=\"Card.Code\"\n                                   [(ngModel)]=\"cipher.card.code\" appInputVerbatim>\n                        </div>\n                        <div class=\"action-buttons\">\n                            <a class=\"row-btn\" href=\"#\" appStopClick appBlurClick\n                               title=\"{{'toggleVisibility' | i18n}}\" (click)=\"toggleCardCode()\">\n                                <i class=\"fa fa-lg\"\n                                   [ngClass]=\"{'fa-eye': !showCardCode, 'fa-eye-slash': showCardCode}\"></i>\n                            </a>\n                        </div>\n                    </div>\n                </div>\n                <!-- Identity -->\n                <div *ngIf=\"cipher.type === cipherType.Identity\">\n                    <div class=\"box-content-row\" appBoxRow>\n                        <label for=\"idTitle\">{{'title' | i18n}}</label>\n                        <select id=\"idTitle\" name=\"Identity.Title\" [(ngModel)]=\"cipher.identity.title\">\n                            <option *ngFor=\"let o of identityTitleOptions\" [ngValue]=\"o.value\">{{o.name}}</option>\n                        </select>\n                    </div>\n                    <div class=\"box-content-row\" appBoxRow>\n                        <label for=\"idFirstName\">{{'firstName' | i18n}}</label>\n                        <input id=\"idFirstName\" type=\"text\" name=\"Identity.FirstName\"\n                               [(ngModel)]=\"cipher.identity.firstName\">\n                    </div>\n                    <div class=\"box-content-row\" appBoxRow>\n                        <label for=\"idMiddleName\">{{'middleName' | i18n}}</label>\n                        <input id=\"idMiddleName\" type=\"text\" name=\"Identity.MiddleName\"\n                               [(ngModel)]=\"cipher.identity.middleName\">\n                    </div>\n                    <div class=\"box-content-row\" appBoxRow>\n                        <label for=\"idLastName\">{{'lastName' | i18n}}</label>\n                        <input id=\"idLastName\" type=\"text\" name=\"Identity.LastName\"\n                               [(ngModel)]=\"cipher.identity.lastName\">\n                    </div>\n                    <div class=\"box-content-row\" appBoxRow>\n                        <label for=\"idUsername\">{{'username' | i18n}}</label>\n                        <input id=\"idUsername\" type=\"text\" name=\"Identity.Username\"\n                               [(ngModel)]=\"cipher.identity.username\" appInputVerbatim>\n                    </div>\n                    <div class=\"box-content-row\" appBoxRow>\n                        <label for=\"idCompany\">{{'company' | i18n}}</label>\n                        <input id=\"idCompany\" type=\"text\" name=\"Identity.Company\"\n                               [(ngModel)]=\"cipher.identity.company\">\n                    </div>\n                    <div class=\"box-content-row\" appBoxRow>\n                        <label for=\"idSsn\">{{'ssn' | i18n}}</label>\n                        <input id=\"idSsn\" type=\"text\" name=\"Identity.SSN\" [(ngModel)]=\"cipher.identity.ssn\"\n                               appInputVerbatim>\n                    </div>\n                    <div class=\"box-content-row\" appBoxRow>\n                        <label for=\"idPassportNumber\">{{'passportNumber' | i18n}}</label>\n                        <input id=\"idPassportNumber\" type=\"text\" name=\"Identity.PassportNumber\"\n                               [(ngModel)]=\"cipher.identity.passportNumber\" appInputVerbatim>\n                    </div>\n                    <div class=\"box-content-row\" appBoxRow>\n                        <label for=\"idLicenseNumber\">{{'licenseNumber' | i18n}}</label>\n                        <input id=\"idLicenseNumber\" type=\"text\" name=\"Identity.LicenseNumber\"\n                               [(ngModel)]=\"cipher.identity.licenseNumber\" appInputVerbatim>\n                    </div>\n                    <div class=\"box-content-row\" appBoxRow>\n                        <label for=\"idEmail\">{{'email' | i18n}}</label>\n                        <input id=\"idEmail\" type=\"text\" name=\"Identity.Email\" [(ngModel)]=\"cipher.identity.email\"\n                               appInputVerbatim>\n                    </div>\n                    <div class=\"box-content-row\" appBoxRow>\n                        <label for=\"idPhone\">{{'phone' | i18n}}</label>\n                        <input id=\"idPhone\" type=\"text\" name=\"Identity.Phone\" [(ngModel)]=\"cipher.identity.phone\">\n                    </div>\n                    <div class=\"box-content-row\" appBoxRow>\n                        <label for=\"idAddress1\">{{'address1' | i18n}}</label>\n                        <input id=\"idAddress1\" type=\"text\" name=\"Identity.Address1\"\n                               [(ngModel)]=\"cipher.identity.address1\">\n                    </div>\n                    <div class=\"box-content-row\" appBoxRow>\n                        <label for=\"idAddress2\">{{'address2' | i18n}}</label>\n                        <input id=\"idAddress2\" type=\"text\" name=\"Identity.Address2\"\n                               [(ngModel)]=\"cipher.identity.address2\">\n                    </div>\n                    <div class=\"box-content-row\" appBoxRow>\n                        <label for=\"idAddress3\">{{'address3' | i18n}}</label>\n                        <input id=\"idAddress3\" type=\"text\" name=\"Identity.Address3\"\n                               [(ngModel)]=\"cipher.identity.address3\">\n                    </div>\n                    <div class=\"box-content-row\" appBoxRow>\n                        <label for=\"idCity\">{{'cityTown' | i18n}}</label>\n                        <input id=\"idCity\" type=\"text\" name=\"Identity.City\" [(ngModel)]=\"cipher.identity.city\">\n                    </div>\n                    <div class=\"box-content-row\" appBoxRow>\n                        <label for=\"idState\">{{'stateProvince' | i18n}}</label>\n                        <input id=\"idState\" type=\"text\" name=\"Identity.State\" [(ngModel)]=\"cipher.identity.state\">\n                    </div>\n                    <div class=\"box-content-row\" appBoxRow>\n                        <label for=\"idPostalCode\">{{'zipPostalCode' | i18n}}</label>\n                        <input id=\"idPostalCode\" type=\"text\" name=\"Identity.PostalCode\"\n                               [(ngModel)]=\"cipher.identity.postalCode\">\n                    </div>\n                    <div class=\"box-content-row\" appBoxRow>\n                        <label for=\"idCountry\">{{'country' | i18n}}</label>\n                        <input id=\"idCountry\" type=\"text\" name=\"Identity.Country\"\n                               [(ngModel)]=\"cipher.identity.country\">\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"box\" *ngIf=\"cipher.type === cipherType.Login\">\n            <div class=\"box-content\">\n                <ng-container *ngIf=\"cipher.login.hasUris\">\n                    <div class=\"box-content-row box-content-row-multi\" appBoxRow\n                         *ngFor=\"let u of cipher.login.uris; let i = index\">\n                        <a href=\"#\" appStopClick (click)=\"removeUri(u)\" title=\"{{'remove' | i18n}}\">\n                            <i class=\"fa fa-minus-circle fa-lg\"></i>\n                        </a>\n                        <div class=\"row-main\">\n                            <label for=\"loginUri{{i}}\">{{'uriPosition' | i18n : (i + 1)}}</label>\n                            <input id=\"loginUri{{i}}\" type=\"text\" name=\"Login.Uris[{{i}}].Uri\" [(ngModel)]=\"u.uri\"\n                                   placeholder=\"{{'ex' | i18n}} https://google.com\" inputmode=\"url\"\n                                   appInputVerbatim>\n                            <label for=\"loginUriMatch{{i}}\" class=\"sr-only\">\n                                {{'matchDetection' | i18n}} {{(i + 1)}}\n                            </label>\n                            <select id=\"loginUriMatch{{i}}\" name=\"Login.Uris[{{i}}].Match\" [(ngModel)]=\"u.match\"\n                                    [hidden]=\"u.showOptions === false || (u.showOptions == null && u.match == null)\"\n                                    (change)=\"loginUriMatchChanged(u)\">\n                                <option *ngFor=\"let o of uriMatchOptions\" [ngValue]=\"o.value\">{{o.name}}</option>\n                            </select>\n                        </div>\n                        <div class=\"action-buttons\">\n                            <a class=\"row-btn\" href=\"#\" appStopClick appBlurClick\n                               title=\"{{'toggleOptions' | i18n}}\" (click)=\"toggleUriOptions(u)\">\n                                <i class=\"fa fa-lg fa-cog\"></i>\n                            </a>\n                        </div>\n                    </div>\n                </ng-container>\n                <a href=\"#\" appStopClick appBlurClick (click)=\"addUri()\"\n                   class=\"box-content-row box-content-row-newmulti\">\n                    <i class=\"fa fa-plus-circle fa-fw fa-lg\"></i> {{'newUri' | i18n}}\n                </a>\n            </div>\n        </div>\n        <div class=\"box\">\n            <div class=\"box-content\">\n                <div class=\"box-content-row\" appBoxRow>\n                    <label for=\"folder\">{{'folder' | i18n}}</label>\n                    <select id=\"folder\" name=\"FolderId\" [(ngModel)]=\"cipher.folderId\">\n                        <option *ngFor=\"let f of folders\" [ngValue]=\"f.id\">{{f.name}}</option>\n                    </select>\n                </div>\n                <div class=\"box-content-row box-content-row-checkbox\" appBoxRow>\n                    <label for=\"favorite\">{{'favorite' | i18n}}</label>\n                    <input id=\"favorite\" type=\"checkbox\" name=\"Favorite\" [(ngModel)]=\"cipher.favorite\">\n                </div>\n                <a class=\"box-content-row box-content-row-flex text-default\" href=\"#\" appStopClick appBlurClick\n                   (click)=\"attachments()\" *ngIf=\"editMode && showAttachments\">\n                    <div class=\"row-main\">{{'attachments' | i18n}}</div>\n                    <i class=\"fa fa-chevron-right row-sub-icon\"></i>\n                </a>\n            </div>\n        </div>\n        <div class=\"box\">\n            <div class=\"box-header\">\n                <label for=\"notes\">{{'notes' | i18n}}</label>\n            </div>\n            <div class=\"box-content\">\n                <div class=\"box-content-row\" appBoxRow>\n                    <textarea id=\"notes\" name=\"Notes\" rows=\"6\" [(ngModel)]=\"cipher.notes\"></textarea>\n                </div>\n            </div>\n        </div>\n        <div class=\"box\">\n            <div class=\"box-header\">\n                {{'customFields' | i18n}}\n            </div>\n            <div class=\"box-content\">\n                <ng-container *ngIf=\"cipher.hasFields\">\n                    <div class=\"box-content-row box-content-row-multi\" appBoxRow\n                         *ngFor=\"let f of cipher.fields; let i = index\"\n                         [ngClass]=\"{'box-content-row-checkbox': f.type === fieldType.Boolean}\">\n                        <a href=\"#\" appStopClick (click)=\"removeField(f)\" title=\"{{'remove' | i18n}}\">\n                            <i class=\"fa fa-minus-circle fa-lg\"></i>\n                        </a>\n                        <label for=\"fieldName{{i}}\" class=\"sr-only\">{{'name' | i18n}}</label>\n                        <label for=\"fieldValue{{i}}\" class=\"sr-only\">{{'value' | i18n}}</label>\n                        <div class=\"row-main\">\n                            <input id=\"fieldName{{i}}\" type=\"text\" name=\"Field.Name{{i}}\" [(ngModel)]=\"f.name\"\n                                   class=\"row-label\" placeholder=\"{{'name' | i18n}}\" appInputVerbatim>\n                            <input id=\"fieldValue{{i}}\" type=\"text\" name=\"Field.Value{{i}}\" [(ngModel)]=\"f.value\"\n                                   *ngIf=\"f.type === fieldType.Text\" placeholder=\"{{'value' | i18n}}\" appInputVerbatim>\n                            <input id=\"fieldValue{{i}}\" type=\"{{f.showValue ? 'text' : 'password'}}\"\n                                   name=\"Field.Value{{i}}\" [(ngModel)]=\"f.value\" class=\"monospaced\" appInputVerbatim\n                                   *ngIf=\"f.type === fieldType.Hidden\" placeholder=\"{{'value' | i18n}}\">\n                        </div>\n                        <input id=\"fieldValue{{i}}\" name=\"Field.Value{{i}}\" type=\"checkbox\"\n                               [(ngModel)]=\"f.value\" *ngIf=\"f.type === fieldType.Boolean\"\n                               appTrueFalseValue trueValue=\"true\" falseValue=\"false\">\n                        <div class=\"action-buttons\" *ngIf=\"f.type === fieldType.Hidden\">\n                            <a class=\"row-btn\" href=\"#\" appStopClick appBlurClick\n                               title=\"{{'toggleVisibility' | i18n}}\" (click)=\"toggleFieldValue(f)\">\n                                <i class=\"fa fa-lg\"\n                                   [ngClass]=\"{'fa-eye': !f.showValue, 'fa-eye-slash': f.showValue}\"></i>\n                            </a>\n                        </div>\n                    </div>\n                </ng-container>\n                <div class=\"box-content-row box-content-row-newmulti\" appBoxRow>\n                    <a href=\"#\" appStopClick (click)=\"addField()\">\n                        <i class=\"fa fa-plus-circle fa-fw fa-lg\"></i> {{'newCustomField' | i18n}}\n                    </a>\n                    <label for=\"addFieldType\" class=\"sr-only\">{{'type' | i18n}}</label>\n                    <select id=\"addFieldType\" name=\"AddFieldType\" [(ngModel)]=\"addFieldType\" class=\"field-type\">\n                        <option *ngFor=\"let o of addFieldTypeOptions\" [ngValue]=\"o.value\">{{o.name}}</option>\n                    </select>\n                </div>\n            </div>\n        </div>\n        <div class=\"box list\" *ngIf=\"editMode\">\n            <div class=\"box-content single-line\">\n                <a class=\"box-content-row\" href=\"#\" appStopClick appBlurClick\n                   (click)=\"delete()\" [appApiAction]=\"deletePromise\" #deleteBtn>\n                    <div class=\"row-main text-danger\">\n                        <div class=\"icon text-danger\">\n                            <i class=\"fa fa-trash-o fa-lg fa-fw\" [hidden]=\"deleteBtn.loading\"></i>\n                            <i class=\"fa fa-spinner fa-spin fa-lg fa-fw\" [hidden]=\"!deleteBtn.loading\"></i>\n                        </div>\n                        <span>{{'deleteItem' | i18n}}</span>\n                    </div>\n                </a>\n            </div>\n        </div>\n    </content>\n</form>\n","import {\n    EventEmitter,\n    Input,\n    OnInit,\n    Output,\n} from '@angular/core';\n\nimport { CipherService } from '../../abstractions/cipher.service';\nimport { CryptoService } from '../../abstractions/crypto.service';\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\nimport { UserService } from '../../abstractions/user.service';\n\nimport { Cipher } from '../../models/domain/cipher';\n\nimport { AttachmentView } from '../../models/view/attachmentView';\nimport { CipherView } from '../../models/view/cipherView';\n\nexport class AttachmentsComponent implements OnInit {\n    @Input() cipherId: string;\n    @Output() onUploadedAttachment = new EventEmitter();\n    @Output() onDeletedAttachment = new EventEmitter();\n\n    cipher: CipherView;\n    cipherDomain: Cipher;\n    hasUpdatedKey: boolean;\n    canAccessAttachments: boolean;\n    formPromise: Promise<any>;\n    deletePromises: { [id: string]: Promise<any>; } = {};\n\n    constructor(protected cipherService: CipherService, protected i18nService: I18nService,\n        protected cryptoService: CryptoService, protected userService: UserService,\n        protected platformUtilsService: PlatformUtilsService, protected win: Window) { }\n\n    async ngOnInit() {\n        this.cipherDomain = await this.loadCipher();\n        this.cipher = await this.cipherDomain.decrypt();\n\n        this.hasUpdatedKey = await this.cryptoService.hasEncKey();\n        const canAccessPremium = await this.userService.canAccessPremium();\n        this.canAccessAttachments = canAccessPremium || this.cipher.organizationId != null;\n\n        if (!this.canAccessAttachments) {\n            const confirmed = await this.platformUtilsService.showDialog(\n                this.i18nService.t('premiumRequiredDesc'), this.i18nService.t('premiumRequired'),\n                this.i18nService.t('learnMore'), this.i18nService.t('cancel'));\n            if (confirmed) {\n                this.platformUtilsService.launchUri('https://vault.bitwarden.com/#/?premium=purchase');\n            }\n        } else if (!this.hasUpdatedKey) {\n            const confirmed = await this.platformUtilsService.showDialog(\n                this.i18nService.t('updateKey'), this.i18nService.t('featureUnavailable'),\n                this.i18nService.t('learnMore'), this.i18nService.t('cancel'), 'warning');\n            if (confirmed) {\n                this.platformUtilsService.launchUri('https://help.bitwarden.com/article/update-encryption-key/');\n            }\n        }\n    }\n\n    async submit() {\n        if (!this.hasUpdatedKey) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('updateKey'));\n            return;\n        }\n\n        const fileEl = document.getElementById('file') as HTMLInputElement;\n        const files = fileEl.files;\n        if (files == null || files.length === 0) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('selectFile'));\n            return;\n        }\n\n        if (files[0].size > 104857600) { // 100 MB\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('maxFileSize'));\n            return;\n        }\n\n        try {\n            this.formPromise = this.saveCipherAttachment(files[0]);\n            this.cipherDomain = await this.formPromise;\n            this.cipher = await this.cipherDomain.decrypt();\n            this.platformUtilsService.eventTrack('Added Attachment');\n            this.platformUtilsService.showToast('success', null, this.i18nService.t('attachmentSaved'));\n            this.onUploadedAttachment.emit();\n        } catch { }\n\n        // reset file input\n        // ref: https://stackoverflow.com/a/20552042\n        fileEl.type = '';\n        fileEl.type = 'file';\n        fileEl.value = '';\n    }\n\n    async delete(attachment: AttachmentView) {\n        if (this.deletePromises[attachment.id] != null) {\n            return;\n        }\n\n        const confirmed = await this.platformUtilsService.showDialog(\n            this.i18nService.t('deleteAttachmentConfirmation'), this.i18nService.t('deleteAttachment'),\n            this.i18nService.t('yes'), this.i18nService.t('no'), 'warning');\n        if (!confirmed) {\n            return;\n        }\n\n        try {\n            this.deletePromises[attachment.id] = this.deleteCipherAttachment(attachment.id);\n            await this.deletePromises[attachment.id];\n            this.platformUtilsService.eventTrack('Deleted Attachment');\n            this.platformUtilsService.showToast('success', null, this.i18nService.t('deletedAttachment'));\n            const i = this.cipher.attachments.indexOf(attachment);\n            if (i > -1) {\n                this.cipher.attachments.splice(i, 1);\n            }\n        } catch { }\n\n        this.deletePromises[attachment.id] = null;\n        this.onDeletedAttachment.emit();\n    }\n\n    async download(attachment: AttachmentView) {\n        const a = (attachment as any);\n        if (a.downloading) {\n            return;\n        }\n\n        if (!this.canAccessAttachments) {\n            this.platformUtilsService.showToast('error', this.i18nService.t('premiumRequired'),\n                this.i18nService.t('premiumRequiredDesc'));\n            return;\n        }\n\n        a.downloading = true;\n        const response = await fetch(new Request(attachment.url, { cache: 'no-cache' }));\n        if (response.status !== 200) {\n            this.platformUtilsService.showToast('error', null, this.i18nService.t('errorOccurred'));\n            a.downloading = false;\n            return;\n        }\n\n        try {\n            const buf = await response.arrayBuffer();\n            const key = await this.cryptoService.getOrgKey(this.cipher.organizationId);\n            const decBuf = await this.cryptoService.decryptFromBytes(buf, key);\n            this.platformUtilsService.saveFile(this.win, decBuf, null, attachment.fileName);\n        } catch (e) {\n            this.platformUtilsService.showToast('error', null, this.i18nService.t('errorOccurred'));\n        }\n\n        a.downloading = false;\n    }\n\n    protected loadCipher() {\n        return this.cipherService.get(this.cipherId);\n    }\n\n    protected saveCipherAttachment(file: File) {\n        return this.cipherService.saveAttachmentWithServer(this.cipherDomain, file);\n    }\n\n    protected deleteCipherAttachment(attachmentId: string) {\n        return this.cipherService.deleteAttachmentWithServer(this.cipher.id, attachmentId);\n    }\n}\n","import { Location } from '@angular/common';\nimport { Component } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { AttachmentsComponent as BaseAttachmentsComponent } from 'jslib/angular/components/attachments.component';\n\n@Component({\n    selector: 'app-vault-attachments',\n    templateUrl: 'attachments.component.html',\n})\nexport class AttachmentsComponent extends BaseAttachmentsComponent {\n    constructor(cipherService: CipherService, i18nService: I18nService,\n        cryptoService: CryptoService, userService: UserService,\n        platformUtilsService: PlatformUtilsService, private location: Location,\n        private route: ActivatedRoute) {\n        super(cipherService, i18nService, cryptoService, userService, platformUtilsService, window);\n    }\n\n    async ngOnInit() {\n        this.route.queryParams.subscribe(async (params) => {\n            this.cipherId = params.cipherId;\n            await super.ngOnInit();\n        });\n    }\n\n    back() {\n        this.location.back();\n    }\n}\n","<form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\">\n    <header>\n        <div class=\"left\">\n            <button type=\"button\" appBlurClick (click)=\"back()\">\n                <span class=\"header-icon\"><i class=\"fa fa-chevron-left\"></i></span>\n                <span>{{'back' | i18n}}</span>\n            </button>\n        </div>\n        <div class=\"center\">\n            <span class=\"title\">{{'attachments' | i18n}}</span>\n        </div>\n        <div class=\"right\">\n            <button type=\"submit\" appBlurClick [disabled]=\"form.loading\">\n                <span [hidden]=\"form.loading\">{{'save' | i18n}}</span>\n                <i class=\"fa fa-spinner fa-lg fa-spin\" [hidden]=\"!form.loading\"></i>\n            </button>\n        </div>\n    </header>\n    <content>\n        <div class=\"box\" *ngIf=\"cipher && cipher.hasAttachments\">\n            <div class=\"box-content no-hover\">\n                <div class=\"box-content-row box-content-row-flex\" *ngFor=\"let a of cipher.attachments\">\n                    <div class=\"row-main\">\n                        {{a.fileName}}\n                    </div>\n                    <small class=\"row-sub-label\">{{a.sizeName}}</small>\n                    <div class=\"action-buttons no-pad\">\n                        <button class=\"row-btn btn\" type=\"button\" appStopClick appBlurClick\n                                title=\"{{'deleteAttachment' | i18n}}\" (click)=\"delete(a)\" #deleteBtn\n                                [appApiAction]=\"deletePromises[a.id]\" [disabled]=\"deleteBtn.loading\">\n                            <i class=\"fa fa-trash-o fa-lg fa-fw\" [hidden]=\"deleteBtn.loading\"></i>\n                            <i class=\"fa fa-spinner fa-spin fa-lg fa-fw\" [hidden]=\"!deleteBtn.loading\"></i>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"box\">\n            <div class=\"box-header\">\n                {{'newAttachment' | i18n}}\n            </div>\n            <div class=\"box-content no-hover\">\n                <div class=\"box-content-row\">\n                    <label for=\"file\">{{'file' | i18n}}</label>\n                    <input type=\"file\" id=\"file\" name=\"file\" required>\n                </div>\n            </div>\n            <div class=\"box-footer\">\n                {{'maxFileSize' | i18n}}\n            </div>\n        </div>\n    </content>\n</form>\n","import {\n    Component,\n    Input,\n    OnInit,\n} from '@angular/core';\n\nimport { Angulartics2 } from 'angulartics2';\n\nimport { BrowserApi } from '../../browser/browserApi';\n\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport { PopupUtilsService } from '../services/popup-utils.service';\n\n@Component({\n    selector: 'app-pop-out',\n    templateUrl: 'pop-out.component.html',\n})\nexport class PopOutComponent implements OnInit {\n    @Input() show = true;\n\n    constructor(private analytics: Angulartics2, private platformUtilsService: PlatformUtilsService,\n        private popupUtilsService: PopupUtilsService) { }\n\n    ngOnInit() {\n        if (this.show) {\n            this.show = !this.platformUtilsService.isSafari();\n            if (this.show && this.popupUtilsService.inSidebar(window) && this.platformUtilsService.isFirefox()) {\n                this.show = false;\n            }\n        }\n    }\n\n    expand() {\n        this.analytics.eventTrack.next({ action: 'Pop Out Window' });\n\n        let href = window.location.href;\n        if (this.platformUtilsService.isEdge()) {\n            const popupIndex = href.indexOf('/popup/');\n            if (popupIndex > -1) {\n                href = href.substring(popupIndex);\n            }\n        }\n\n        if ((typeof chrome !== 'undefined') && chrome.windows && chrome.windows.create) {\n            if (href.indexOf('?uilocation=') > -1) {\n                href = href.replace('uilocation=popup', 'uilocation=popout')\n                    .replace('uilocation=tab', 'uilocation=popout')\n                    .replace('uilocation=sidebar', 'uilocation=popout');\n            } else {\n                const hrefParts = href.split('#');\n                href = hrefParts[0] + '?uilocation=popout' + (hrefParts.length > 0 ? '#' + hrefParts[1] : '');\n            }\n\n            const bodyRect = document.querySelector('body').getBoundingClientRect();\n            chrome.windows.create({\n                url: href,\n                type: 'popup',\n                width: bodyRect.width ? bodyRect.width + 60 : 375,\n                height: bodyRect.height || 600,\n            });\n\n            if (this.popupUtilsService.inPopup(window)) {\n                BrowserApi.closePopup(window);\n            }\n        } else if ((typeof chrome !== 'undefined') && chrome.tabs && chrome.tabs.create) {\n            href = href.replace('uilocation=popup', 'uilocation=tab')\n                .replace('uilocation=popout', 'uilocation=tab')\n                .replace('uilocation=sidebar', 'uilocation=tab');\n            chrome.tabs.create({\n                url: href,\n            });\n        } else if ((typeof safari !== 'undefined')) {\n            // Safari can't open popup in full page tab :(\n        }\n    }\n}\n","<ng-container *ngIf=\"show\">\n    <button (click)=\"expand()\" title=\"{{'popOutNewWindow' | i18n}}\">\n        <i class=\"fa fa-external-link fa-rotate-270 fa-lg fa-fw\"></i>\n    </button>\n</ng-container>\n","import { GeneratedPasswordHistory } from '../models/domain/generatedPasswordHistory';\n\nexport abstract class PasswordGenerationService {\n    generatePassword: (options: any) => Promise<string>;\n    generatePassphrase: (options: any) => Promise<string>;\n    getOptions: () => any;\n    saveOptions: (options: any) => Promise<any>;\n    getHistory: () => Promise<GeneratedPasswordHistory[]>;\n    addHistory: (password: string) => Promise<any>;\n    clear: () => Promise<any>;\n}\n","import {\n    EventEmitter,\n    Input,\n    OnInit,\n    Output,\n} from '@angular/core';\n\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { PasswordGenerationService } from '../../abstractions/passwordGeneration.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\n\nexport class PasswordGeneratorComponent implements OnInit {\n    @Input() showSelect: boolean = false;\n    @Output() onSelected = new EventEmitter<string>();\n\n    options: any = {};\n    password: string = '-';\n    showOptions = false;\n    avoidAmbiguous = false;\n\n    constructor(protected passwordGenerationService: PasswordGenerationService,\n        protected platformUtilsService: PlatformUtilsService, protected i18nService: I18nService,\n        private win: Window) { }\n\n    async ngOnInit() {\n        this.options = await this.passwordGenerationService.getOptions();\n        this.avoidAmbiguous = !this.options.ambiguous;\n        this.options.type = this.options.type === 'passphrase' ? 'passphrase' : 'password';\n        this.password = await this.passwordGenerationService.generatePassword(this.options);\n        this.platformUtilsService.eventTrack('Generated Password');\n        await this.passwordGenerationService.addHistory(this.password);\n    }\n\n    async sliderChanged() {\n        this.saveOptions(false);\n        await this.passwordGenerationService.addHistory(this.password);\n        this.platformUtilsService.eventTrack('Regenerated Password');\n    }\n\n    async sliderInput() {\n        this.normalizeOptions();\n        this.password = await this.passwordGenerationService.generatePassword(this.options);\n    }\n\n    async saveOptions(regenerate: boolean = true) {\n        this.normalizeOptions();\n        await this.passwordGenerationService.saveOptions(this.options);\n\n        if (regenerate) {\n            await this.regenerate();\n        }\n    }\n\n    async regenerate() {\n        this.password = await this.passwordGenerationService.generatePassword(this.options);\n        await this.passwordGenerationService.addHistory(this.password);\n        this.platformUtilsService.eventTrack('Regenerated Password');\n    }\n\n    copy() {\n        this.platformUtilsService.eventTrack('Copied Generated Password');\n        const copyOptions = this.win != null ? { window: this.win } : null;\n        this.platformUtilsService.copyToClipboard(this.password, copyOptions);\n        this.platformUtilsService.showToast('info', null,\n            this.i18nService.t('valueCopied', this.i18nService.t('password')));\n    }\n\n    select() {\n        this.platformUtilsService.eventTrack('Selected Generated Password');\n        this.onSelected.emit(this.password);\n    }\n\n    toggleOptions() {\n        this.showOptions = !this.showOptions;\n    }\n\n    private normalizeOptions() {\n        this.options.minLowercase = 0;\n        this.options.minUppercase = 0;\n        this.options.ambiguous = !this.avoidAmbiguous;\n\n        if (!this.options.uppercase && !this.options.lowercase && !this.options.number && !this.options.special) {\n            this.options.lowercase = true;\n            if (this.win != null) {\n                const lowercase = this.win.document.querySelector('#lowercase') as HTMLInputElement;\n                if (lowercase) {\n                    lowercase.checked = true;\n                }\n            }\n        }\n\n        if (!this.options.length || this.options.length < 5) {\n            this.options.length = 5;\n        } else if (this.options.length > 128) {\n            this.options.length = 128;\n        }\n\n        if (!this.options.minNumber) {\n            this.options.minNumber = 0;\n        } else if (this.options.minNumber > this.options.length) {\n            this.options.minNumber = this.options.length;\n        } else if (this.options.minNumber > 9) {\n            this.options.minNumber = 9;\n        }\n\n        if (!this.options.minSpecial) {\n            this.options.minSpecial = 0;\n        } else if (this.options.minSpecial > this.options.length) {\n            this.options.minSpecial = this.options.length;\n        } else if (this.options.minSpecial > 9) {\n            this.options.minSpecial = 9;\n        }\n\n        if (this.options.minSpecial + this.options.minNumber > this.options.length) {\n            this.options.minSpecial = this.options.length - this.options.minNumber;\n        }\n\n        if (this.options.numWords == null || this.options.length < 3) {\n            this.options.numWords = 3;\n        } else if (this.options.numWords > 20) {\n            this.options.numWords = 20;\n        }\n\n        if (this.options.wordSeparator != null && this.options.wordSeparator.length > 1) {\n            this.options.wordSeparator = this.options.wordSeparator[0];\n        }\n    }\n}\n","import { Location } from '@angular/common';\nimport { Component } from '@angular/core';\n\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PasswordGenerationService } from 'jslib/abstractions/passwordGeneration.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { StateService } from 'jslib/abstractions/state.service';\n\nimport { CipherView } from 'jslib/models/view/cipherView';\n\nimport {\n    PasswordGeneratorComponent as BasePasswordGeneratorComponent,\n} from 'jslib/angular/components/password-generator.component';\n\n@Component({\n    selector: 'app-password-generator',\n    templateUrl: 'password-generator.component.html',\n})\nexport class PasswordGeneratorComponent extends BasePasswordGeneratorComponent {\n    private cipherState: CipherView;\n\n    constructor(passwordGenerationService: PasswordGenerationService, platformUtilsService: PlatformUtilsService,\n        i18nService: I18nService, private stateService: StateService,\n        private location: Location) {\n        super(passwordGenerationService, platformUtilsService, i18nService, window);\n    }\n\n    async ngOnInit() {\n        await super.ngOnInit();\n        this.cipherState = await this.stateService.get<CipherView>('addEditCipher');\n        this.showSelect = this.cipherState != null;\n    }\n\n    select() {\n        super.select();\n        this.cipherState.login.password = this.password;\n        this.close();\n    }\n\n    close() {\n        this.location.back();\n    }\n}\n","<header>\n    <div class=\"left\">\n        <app-pop-out [show]=\"!showSelect\"></app-pop-out>\n        <button type=\"button\" appBlurClick (click)=\"close()\" *ngIf=\"showSelect\">{{'cancel' | i18n}}</button>\n    </div>\n    <div class=\"center\">\n        <span class=\"title\">{{'passGen' | i18n}}</span>\n    </div>\n    <div class=\"right\">\n        <button type=\"button\" appBlurClick (click)=\"select()\" *ngIf=\"showSelect\">{{'select' | i18n}}</button>\n    </div>\n</header>\n<content>\n    <div class=\"password-block\">{{password}}</div>\n    <div class=\"box list\">\n        <div class=\"box-content single-line\">\n            <a class=\"box-content-row text-primary\" href=\"#\" appStopClick appBlurClick\n               (click)=\"regenerate()\">{{'regeneratePassword' | i18n}}</a>\n            <a class=\"box-content-row text-primary\" href=\"#\" appStopClick appBlurClick\n               (click)=\"copy()\">{{'copyPassword' | i18n}}</a>\n        </div>\n    </div>\n    <div class=\"box list\">\n        <div class=\"box-content single-line\">\n            <a class=\"box-content-row box-content-row-flex\" routerLink=\"/generator-history\">\n                <div class=\"row-main\">{{'passwordHistory' | i18n}}</div>\n                <i class=\"fa fa-chevron-right fa-lg row-sub-icon\"></i>\n            </a>\n        </div>\n    </div>\n    <div class=\"box\">\n        <div class=\"box-header\">\n            {{'options' | i18n}}\n        </div>\n        <div class=\"box-content\">\n            <div class=\"box-content-row\" appBoxRow>\n                <label for=\"type\" class=\"sr-only\">{{'type' | i18n}}</label>\n                <select id=\"type\" [(ngModel)]=\"options.type\" (change)=\"saveOptions()\">\n                    <option value=\"password\">{{'password' | i18n}}</option>\n                    <option value=\"passphrase\">{{'passphrase' | i18n}}</option>\n                </select>\n            </div>\n        </div>\n    </div>\n    <div class=\"box\" *ngIf=\"options.type === 'passphrase'\">\n        <div class=\"box-content\">\n            <div class=\"box-content-row box-content-row-input\" appBoxRow>\n                <label for=\"num-words\">{{'numWords' | i18n}}</label>\n                <input id=\"num-words\" type=\"number\" min=\"3\" max=\"20\" (input)=\"saveOptions()\"\n                    [(ngModel)]=\"options.numWords\">\n            </div>\n            <div class=\"box-content-row box-content-row-input\" appBoxRow>\n                <label for=\"word-separator\">{{'wordSeparator' | i18n}}</label>\n                <input id=\"word-separator\" type=\"text\" maxlength=\"1\" (input)=\"saveOptions()\"\n                    [(ngModel)]=\"options.wordSeparator\">\n            </div>\n        </div>\n    </div>\n    <ng-container *ngIf=\"options.type === 'password'\">\n        <div class=\"box\">\n            <div class=\"box-content\">\n                <div class=\"box-content-row box-content-row-slider\" appBoxRow>\n                    <label for=\"length\">{{'length' | i18n}}</label>\n                    <input id=\"length\" type=\"number\" min=\"5\" max=\"128\" [(ngModel)]=\"options.length\"\n                        (blur)=\"saveOptions()\">\n                    <input id=\"lengthRange\" type=\"range\" min=\"5\" max=\"128\" step=\"1\"\n                        [(ngModel)]=\"options.length\" (change)=\"sliderChanged()\" (input)=\"sliderInput()\">\n                </div>\n                <div class=\"box-content-row box-content-row-checkbox\" appBoxRow>\n                    <label for=\"uppercase\">A-Z</label>\n                    <input id=\"uppercase\" type=\"checkbox\" (change)=\"saveOptions()\" [(ngModel)]=\"options.uppercase\">\n                </div>\n                <div class=\"box-content-row box-content-row-checkbox\" appBoxRow>\n                    <label for=\"lowercase\">a-z</label>\n                    <input id=\"lowercase\" type=\"checkbox\" (change)=\"saveOptions()\" [(ngModel)]=\"options.lowercase\">\n                </div>\n                <div class=\"box-content-row box-content-row-checkbox\" appBoxRow>\n                    <label for=\"numbers\">0-9</label>\n                    <input id=\"numbers\" type=\"checkbox\" (change)=\"saveOptions()\" [(ngModel)]=\"options.number\">\n                </div>\n                <div class=\"box-content-row box-content-row-checkbox\" appBoxRow>\n                    <label for=\"special\">!@#$%^&*</label>\n                    <input id=\"special\" type=\"checkbox\" (change)=\"saveOptions()\" [(ngModel)]=\"options.special\">\n                </div>\n            </div>\n        </div>\n        <div class=\"box\">\n            <div class=\"box-content\">\n                <div class=\"box-content-row box-content-row-input\" appBoxRow>\n                    <label for=\"min-number\">{{'minNumbers' | i18n}}</label>\n                    <input id=\"min-number\" type=\"number\" min=\"0\" max=\"9\" (input)=\"saveOptions()\"\n                        [(ngModel)]=\"options.minNumber\">\n                </div>\n                <div class=\"box-content-row box-content-row-input\" appBoxRow>\n                    <label for=\"min-special\">{{'minSpecial' | i18n}}</label>\n                    <input id=\"min-special\" type=\"number\" min=\"0\" max=\"9\" (input)=\"saveOptions()\"\n                        [(ngModel)]=\"options.minSpecial\">\n                </div>\n                <div class=\"box-content-row box-content-row-checkbox\" appBoxRow>\n                    <label for=\"ambiguous\">{{'avoidAmbChar' | i18n}}</label>\n                    <input id=\"ambiguous\" type=\"checkbox\" (change)=\"saveOptions()\" [(ngModel)]=\"avoidAmbiguous\">\n                </div>\n            </div>\n        </div>\n    </ng-container>\n</content>\n","import { OnInit } from '@angular/core';\n\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { PasswordGenerationService } from '../../abstractions/passwordGeneration.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\n\nimport { GeneratedPasswordHistory } from '../../models/domain/generatedPasswordHistory';\n\nexport class PasswordGeneratorHistoryComponent implements OnInit {\n    history: GeneratedPasswordHistory[] = [];\n\n    constructor(protected passwordGenerationService: PasswordGenerationService,\n        protected platformUtilsService: PlatformUtilsService, protected i18nService: I18nService,\n        private win: Window) { }\n\n    async ngOnInit() {\n        this.history = await this.passwordGenerationService.getHistory();\n    }\n\n    clear() {\n        this.history = [];\n        this.passwordGenerationService.clear();\n    }\n\n    copy(password: string) {\n        this.platformUtilsService.eventTrack('Copied Historical Password');\n        const copyOptions = this.win != null ? { window: this.win } : null;\n        this.platformUtilsService.copyToClipboard(password, copyOptions);\n        this.platformUtilsService.showToast('info', null,\n            this.i18nService.t('valueCopied', this.i18nService.t('password')));\n    }\n}\n","import { Location } from '@angular/common';\nimport { Component } from '@angular/core';\n\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PasswordGenerationService } from 'jslib/abstractions/passwordGeneration.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport {\n    PasswordGeneratorHistoryComponent as BasePasswordGeneratorHistoryComponent,\n} from 'jslib/angular/components/password-generator-history.component';\n\n@Component({\n    selector: 'app-password-generator-history',\n    templateUrl: 'password-generator-history.component.html',\n})\nexport class PasswordGeneratorHistoryComponent extends BasePasswordGeneratorHistoryComponent {\n    constructor(passwordGenerationService: PasswordGenerationService, platformUtilsService: PlatformUtilsService,\n        i18nService: I18nService, private location: Location) {\n        super(passwordGenerationService, platformUtilsService, i18nService, window);\n    }\n\n    close() {\n        this.location.back();\n    }\n}\n","<header>\n    <div class=\"left\">\n        <button appBlurClick type=\"button\" (click)=\"close()\">\n            <span class=\"header-icon\"><i class=\"fa fa-chevron-left\"></i></span>\n            <span>{{'back' | i18n}}</span>\n        </button>\n    </div>\n    <div class=\"center\">\n        <span class=\"title\">{{'passwordHistory' | i18n}}</span>\n    </div>\n    <div class=\"right\">\n        <button appBlurClick type=\"button\" (click)=\"clear()\">\n            {{'clear' | i18n}}\n        </button>\n    </div>\n</header>\n<content>\n    <div class=\"box list full-list\" *ngIf=\"history && history.length\">\n        <div class=\"box-content\">\n            <div class=\"box-content-row box-content-row-flex\" *ngFor=\"let h of history\">\n                <div class=\"row-main\">\n                    <div class=\"row-main-content\">\n                        <span class=\"text monospaced no-ellipsis\">\n                            {{h.password}}\n                        </span>\n                        <span class=\"detail\">{{h.date | date:'medium'}}</span>\n                    </div>\n                </div>\n                <div class=\"action-buttons\">\n                    <a class=\"row-btn\" href=\"#\" appStopClick title=\"{{'copyPassword' | i18n}}\"\n                       (click)=\"copy(h.password)\">\n                        <i class=\"fa fa-lg fa-clipboard\"></i>\n                    </a>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"no-items\" *ngIf=\"!history || !history.length\">\n        <p>{{'noPasswordsInList' | i18n}}</p>\n    </div>\n</content>\n","export abstract class ExportService {\n    getExport: (format?: 'csv' | 'json') => Promise<string>;\n    getOrganizationExport: (organizationId: string, format?: 'csv' | 'json') => Promise<string>;\n    getFileName: (prefix?: string) => string;\n}\n","import {\n    EventEmitter,\n    Output,\n} from '@angular/core';\n\nimport { CryptoService } from '../../abstractions/crypto.service';\nimport { ExportService } from '../../abstractions/export.service';\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\n\nexport class ExportComponent {\n    @Output() onSaved = new EventEmitter();\n\n    formPromise: Promise<string>;\n    masterPassword: string;\n    showPassword = false;\n\n    constructor(protected cryptoService: CryptoService, protected i18nService: I18nService,\n        protected platformUtilsService: PlatformUtilsService, protected exportService: ExportService,\n        protected win: Window) { }\n\n    async submit() {\n        if (this.masterPassword == null || this.masterPassword === '') {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('invalidMasterPassword'));\n            return;\n        }\n\n        const keyHash = await this.cryptoService.hashPassword(this.masterPassword, null);\n        const storedKeyHash = await this.cryptoService.getKeyHash();\n        if (storedKeyHash != null && keyHash != null && storedKeyHash === keyHash) {\n            try {\n                this.formPromise = this.getExportData();\n                const data = await this.formPromise;\n                this.platformUtilsService.eventTrack('Exported Data');\n                this.downloadFile(data);\n                this.saved();\n            } catch { }\n        } else {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('invalidMasterPassword'));\n        }\n    }\n\n    togglePassword() {\n        this.platformUtilsService.eventTrack('Toggled Master Password on Export');\n        this.showPassword = !this.showPassword;\n        document.getElementById('masterPassword').focus();\n    }\n\n    protected saved() {\n        this.onSaved.emit();\n    }\n\n    protected getExportData() {\n        return this.exportService.getExport('csv');\n    }\n\n    protected getFileName(prefix?: string) {\n        return this.exportService.getFileName(prefix);\n    }\n\n    private downloadFile(csv: string): void {\n        const fileName = this.getFileName();\n        this.platformUtilsService.saveFile(this.win, csv, { type: 'text/plain' }, fileName);\n    }\n}\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { ExportService } from 'jslib/abstractions/export.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport { ExportComponent as BaseExportComponent } from 'jslib/angular/components/export.component';\n\n@Component({\n    selector: 'app-export',\n    templateUrl: 'export.component.html',\n})\nexport class ExportComponent extends BaseExportComponent {\n    constructor(cryptoService: CryptoService, i18nService: I18nService,\n        platformUtilsService: PlatformUtilsService, exportService: ExportService,\n        private router: Router) {\n        super(cryptoService, i18nService, platformUtilsService, exportService, window);\n    }\n\n    protected saved() {\n        super.saved();\n        this.router.navigate(['/tabs/settings']);\n    }\n}\n","<form (ngSubmit)=\"submit()\">\n    <header>\n        <div class=\"left\">\n            <a routerLink=\"/tabs/settings\">\n                <span class=\"header-icon\"><i class=\"fa fa-chevron-left\"></i></span>\n                <span>{{'back' | i18n}}</span>\n            </a>\n        </div>\n        <div class=\"center\">\n            <span class=\"title\">{{'exportVault' | i18n}}</span>\n        </div>\n        <div class=\"right\">\n            <button appBlurClick type=\"submit\">{{'submit' | i18n}}</button>\n        </div>\n    </header>\n    <content>\n        <div class=\"box\">\n            <div class=\"box-content\">\n                <div class=\"box-content-row box-content-row-flex\" appBoxRow>\n                    <div class=\"row-main\">\n                        <label for=\"masterPassword\">{{'masterPass' | i18n}}</label>\n                        <input id=\"masterPassword\" type=\"{{showPassword ? 'text' : 'password'}}\" name=\"MasterPassword\"\n                               class=\"monospaced\" [(ngModel)]=\"masterPassword\" required appAutofocus>\n                    </div>\n                    <div class=\"action-buttons\">\n                        <a class=\"row-btn\" href=\"#\" appStopClick appBlurClick\n                           title=\"{{'toggleVisibility' | i18n}}\" (click)=\"togglePassword()\">\n                            <i class=\"fa fa-lg\"\n                               [ngClass]=\"{'fa-eye': !showPassword, 'fa-eye-slash': showPassword}\"></i>\n                        </a>\n                    </div>\n                </div>\n            </div>\n            <div class=\"box-footer\">\n                <p>{{'exportMasterPassword' | i18n}}</p>\n                <strong>{{'warning' | i18n}}</strong>: {{'exportWarning' | i18n}}\n            </div>\n        </div>\n    </content>\n</form>\n","import {\n    Component,\n    OnInit,\n} from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { FolderView } from 'jslib/models/view/folderView';\n\nimport { FolderService } from 'jslib/abstractions/folder.service';\n\n@Component({\n    selector: 'app-folders',\n    templateUrl: 'folders.component.html',\n})\nexport class FoldersComponent implements OnInit {\n    folders: FolderView[];\n\n    constructor(private folderService: FolderService, private router: Router) { }\n\n    async ngOnInit() {\n        this.folders = await this.folderService.getAllDecrypted();\n        // Remove \"No Folder\"\n        if (this.folders.length > 0) {\n            this.folders = this.folders.slice(0, this.folders.length - 1);\n        }\n    }\n\n    folderSelected(folder: FolderView) {\n        this.router.navigate(['/edit-folder'], { queryParams: { folderId: folder.id } });\n    }\n\n    addFolder() {\n        this.router.navigate(['/add-folder']);\n    }\n}\n","<header>\n    <div class=\"left\">\n        <a routerLink=\"/tabs/settings\">\n            <span class=\"header-icon\"><i class=\"fa fa-chevron-left\"></i></span>\n            <span>{{'back' | i18n}}</span>\n        </a>\n    </div>\n    <div class=\"center\">\n        <span class=\"title\">{{'folders' | i18n}}</span>\n    </div>\n    <div class=\"right\">\n        <button appBlurClick (click)=\"addFolder()\" title=\"{{'addFolder' | i18n}}\">\n            <i class=\"fa fa-plus fa-lg fa-fw\"></i>\n        </button>\n    </div>\n</header>\n<content>\n    <div class=\"box list full-list\" *ngIf=\"folders && folders.length\">\n        <div class=\"box-content\">\n            <a href=\"#\" appStopClick (click)=\"folderSelected(f)\" class=\"box-content-row padded\"\n               *ngFor=\"let f of folders\">{{f.name}}</a>\n        </div>\n    </div>\n    <div class=\"no-items\" *ngIf=\"!folders || !folders.length\">\n        <p>{{'noFolders' | i18n}}</p>\n    </div>\n</content>\n","import {\n    EventEmitter,\n    Input,\n    OnInit,\n    Output,\n} from '@angular/core';\n\nimport { FolderService } from '../../abstractions/folder.service';\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\n\nimport { FolderView } from '../../models/view/folderView';\n\nexport class FolderAddEditComponent implements OnInit {\n    @Input() folderId: string;\n    @Output() onSavedFolder = new EventEmitter<FolderView>();\n    @Output() onDeletedFolder = new EventEmitter<FolderView>();\n\n    editMode: boolean = false;\n    folder: FolderView = new FolderView();\n    title: string;\n    formPromise: Promise<any>;\n    deletePromise: Promise<any>;\n\n    constructor(protected folderService: FolderService, protected i18nService: I18nService,\n        protected platformUtilsService: PlatformUtilsService) { }\n\n    async ngOnInit() {\n        this.editMode = this.folderId != null;\n\n        if (this.editMode) {\n            this.editMode = true;\n            this.title = this.i18nService.t('editFolder');\n            const folder = await this.folderService.get(this.folderId);\n            this.folder = await folder.decrypt();\n        } else {\n            this.title = this.i18nService.t('addFolder');\n        }\n    }\n\n    async submit(): Promise<boolean> {\n        if (this.folder.name == null || this.folder.name === '') {\n            this.platformUtilsService.showToast('error', this.i18nService.t('errorOccurred'),\n                this.i18nService.t('nameRequired'));\n            return false;\n        }\n\n        try {\n            const folder = await this.folderService.encrypt(this.folder);\n            this.formPromise = this.folderService.saveWithServer(folder);\n            await this.formPromise;\n            this.platformUtilsService.eventTrack(this.editMode ? 'Edited Folder' : 'Added Folder');\n            this.platformUtilsService.showToast('success', null,\n                this.i18nService.t(this.editMode ? 'editedFolder' : 'addedFolder'));\n            this.onSavedFolder.emit(this.folder);\n            return true;\n        } catch { }\n\n        return false;\n    }\n\n    async delete(): Promise<boolean> {\n        const confirmed = await this.platformUtilsService.showDialog(\n            this.i18nService.t('deleteFolderConfirmation'), this.i18nService.t('deleteFolder'),\n            this.i18nService.t('yes'), this.i18nService.t('no'), 'warning');\n        if (!confirmed) {\n            return false;\n        }\n\n        try {\n            this.deletePromise = this.folderService.deleteWithServer(this.folder.id);\n            await this.deletePromise;\n            this.platformUtilsService.eventTrack('Deleted Folder');\n            this.platformUtilsService.showToast('success', null, this.i18nService.t('deletedFolder'));\n            this.onDeletedFolder.emit(this.folder);\n        } catch { }\n\n        return true;\n    }\n}\n","import { Component } from '@angular/core';\nimport {\n    ActivatedRoute,\n    Router,\n} from '@angular/router';\n\nimport { FolderService } from 'jslib/abstractions/folder.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport {\n    FolderAddEditComponent as BaseFolderAddEditComponent,\n} from 'jslib/angular/components/folder-add-edit.component';\n\n@Component({\n    selector: 'app-folder-add-edit',\n    templateUrl: 'folder-add-edit.component.html',\n})\nexport class FolderAddEditComponent extends BaseFolderAddEditComponent {\n    constructor(folderService: FolderService, i18nService: I18nService,\n        platformUtilsService: PlatformUtilsService, private router: Router,\n        private route: ActivatedRoute) {\n        super(folderService, i18nService, platformUtilsService);\n    }\n\n    async ngOnInit() {\n        this.route.queryParams.subscribe(async (params) => {\n            if (params.folderId) {\n                this.folderId = params.folderId;\n            }\n            await super.ngOnInit();\n        });\n    }\n\n    async submit(): Promise<boolean> {\n        if (await super.submit()) {\n            this.router.navigate(['/folders']);\n            return true;\n        }\n\n        return false;\n    }\n\n    async delete(): Promise<boolean> {\n        const confirmed = await super.delete();\n        if (confirmed) {\n            this.router.navigate(['/folders']);\n        }\n        return confirmed;\n    }\n}\n","<form #form (ngSubmit)=\"submit()\" [appApiAction]=\"formPromise\">\n    <header>\n        <div class=\"left\">\n            <a routerLink=\"/folders\">{{'cancel' | i18n}}</a>\n        </div>\n        <div class=\"center\">\n            <span class=\"title\">{{title}}</span>\n        </div>\n        <div class=\"right\">\n            <button type=\"submit\" appBlurClick [disabled]=\"form.loading\">\n                <span [hidden]=\"form.loading\">{{'save' | i18n}}</span>\n                <i class=\"fa fa-spinner fa-lg fa-spin\" [hidden]=\"!form.loading\"></i>\n            </button>\n        </div>\n    </header>\n    <content *ngIf=\"folder\">\n        <div class=\"box\">\n            <div class=\"box-content\">\n                <div class=\"box-content-row\" appBoxRow>\n                    <label for=\"name\">{{'name' | i18n}}</label>\n                    <input id=\"name\" type=\"text\" name=\"Name\" [(ngModel)]=\"folder.name\"\n                           [appAutofocus]=\"!editMode\">\n                </div>\n            </div>\n        </div>\n        <div class=\"box list\" *ngIf=\"editMode\">\n            <div class=\"box-content single-line\">\n                <a class=\"box-content-row\" href=\"#\" appStopClick appBlurClick\n                   (click)=\"delete()\" [appApiAction]=\"deletePromise\" #deleteBtn>\n                    <div class=\"row-main text-danger\">\n                        <div class=\"icon text-danger\">\n                            <i class=\"fa fa-trash-o fa-lg fa-fw\" [hidden]=\"deleteBtn.loading\"></i>\n                            <i class=\"fa fa-spinner fa-spin fa-lg fa-fw\" [hidden]=\"!deleteBtn.loading\"></i>\n                        </div>\n                        <span>{{'deleteFolder' | i18n}}</span>\n                    </div>\n                </a>\n            </div>\n        </div>\n    </content>\n</form>\n","import { ToasterService } from 'angular2-toaster';\nimport { Angulartics2 } from 'angulartics2';\n\nimport {\n    Component,\n    OnInit,\n} from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { SyncService } from 'jslib/abstractions/sync.service';\n\n@Component({\n    selector: 'app-sync',\n    templateUrl: 'sync.component.html',\n})\nexport class SyncComponent implements OnInit {\n    lastSync = '--';\n    syncPromise: Promise<any>;\n\n    constructor(private syncService: SyncService, private router: Router,\n        private toasterService: ToasterService, private analytics: Angulartics2,\n        private i18nService: I18nService) {\n    }\n\n    async ngOnInit() {\n        await this.setLastSync();\n    }\n\n    async sync() {\n        this.syncPromise = this.syncService.fullSync(true);\n        const success = await this.syncPromise;\n        if (success) {\n            await this.setLastSync();\n            this.analytics.eventTrack.next({ action: 'Synced Full' });\n            this.toasterService.popAsync('success', null, this.i18nService.t('syncingComplete'));\n        } else {\n            this.toasterService.popAsync('error', null, this.i18nService.t('syncingFailed'));\n        }\n    }\n\n    async setLastSync() {\n        const last = await this.syncService.getLastSync();\n        if (last != null) {\n            this.lastSync = last.toLocaleDateString() + ' ' + last.toLocaleTimeString();\n        } else {\n            this.lastSync = this.i18nService.t('never');\n        }\n    }\n}\n","<header>\n    <div class=\"left\">\n        <a routerLink=\"/tabs/settings\">\n            <span class=\"header-icon\"><i class=\"fa fa-chevron-left\"></i></span>\n            <span>{{'back' | i18n}}</span>\n        </a>\n    </div>\n    <div class=\"center\">\n        <span class=\"title\">{{'sync' | i18n}}</span>\n    </div>\n    <div class=\"right\"></div>\n</header>\n<content>\n    <div class=\"content center-content\">\n        <button type=\"button\" class=\"btn block primary\" (click)=\"sync()\" #syncBtn\n                [disabled]=\"syncBtn.loading\" [appApiAction]=\"syncPromise\">\n            <span [hidden]=\"syncBtn.loading\">{{'syncVaultNow' | i18n}}</span>\n            <i class=\"fa fa-spinner fa-lg fa-spin\" [hidden]=\"!syncBtn.loading\"></i>\n        </button>\n        <p class=\"text-center text-muted small\">{{'lastSync' | i18n}} {{lastSync}}</p>\n    </div>\n</content>\n","import { OnInit } from '@angular/core';\n\nimport { ApiService } from '../../abstractions/api.service';\nimport { I18nService } from '../../abstractions/i18n.service';\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\nimport { TokenService } from '../../abstractions/token.service';\n\nexport class PremiumComponent implements OnInit {\n    isPremium: boolean = false;\n    price: number = 10;\n    refreshPromise: Promise<any>;\n\n    constructor(protected i18nService: I18nService, protected platformUtilsService: PlatformUtilsService,\n        protected tokenService: TokenService, protected apiService: ApiService) { }\n\n    async ngOnInit() {\n        this.isPremium = this.tokenService.getPremium();\n    }\n\n    async refresh() {\n        try {\n            this.refreshPromise = this.apiService.refreshIdentityToken();\n            await this.refreshPromise;\n            this.platformUtilsService.showToast('success', null, this.i18nService.t('refreshComplete'));\n            this.isPremium = this.tokenService.getPremium();\n        } catch { }\n    }\n\n    async purchase() {\n        const confirmed = await this.platformUtilsService.showDialog(this.i18nService.t('premiumPurchaseAlert'),\n            this.i18nService.t('premiumPurchase'), this.i18nService.t('yes'), this.i18nService.t('cancel'));\n        if (confirmed) {\n            this.platformUtilsService.eventTrack('Clicked Purchase Premium');\n            this.platformUtilsService.launchUri('https://vault.bitwarden.com/#/?premium=purchase');\n        }\n    }\n\n    async manage() {\n        const confirmed = await this.platformUtilsService.showDialog(this.i18nService.t('premiumManageAlert'),\n            this.i18nService.t('premiumManage'), this.i18nService.t('yes'), this.i18nService.t('cancel'));\n        if (confirmed) {\n            this.platformUtilsService.eventTrack('Clicked Manage Membership');\n            this.platformUtilsService.launchUri('https://vault.bitwarden.com/#/?premium=manage');\n        }\n    }\n}\n","import { CurrencyPipe } from '@angular/common';\nimport { Component } from '@angular/core';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { TokenService } from 'jslib/abstractions/token.service';\n\nimport { PremiumComponent as BasePremiumComponent } from 'jslib/angular/components/premium.component';\n\n@Component({\n    selector: 'app-premium',\n    templateUrl: 'premium.component.html',\n})\nexport class PremiumComponent extends BasePremiumComponent {\n    priceString: string;\n\n    constructor(i18nService: I18nService, platformUtilsService: PlatformUtilsService,\n        tokenService: TokenService, apiService: ApiService,\n        private currencyPipe: CurrencyPipe) {\n        super(i18nService, platformUtilsService, tokenService, apiService);\n\n        // Support old price string. Can be removed in future once all translations are properly updated.\n        const thePrice = this.currencyPipe.transform(this.price, '$');\n        this.priceString = i18nService.t('premiumPrice', thePrice);\n        if (this.priceString.indexOf('%price%') > -1) {\n            this.priceString = this.priceString.replace('%price%', thePrice);\n        }\n    }\n}\n","<header>\n    <div class=\"left\">\n        <a routerLink=\"/tabs/settings\">\n            <span class=\"header-icon\"><i class=\"fa fa-chevron-left\"></i></span>\n            <span>{{'back' | i18n}}</span>\n        </a>\n    </div>\n    <div class=\"center\">\n        <span class=\"title\">{{'premiumMembership' | i18n}}</span>\n    </div>\n    <div class=\"right\"></div>\n</header>\n<content>\n    <div class=\"content\">\n        <ng-container *ngIf=\"!isPremium\">\n            <p class=\"text-center lead\">{{'premiumNotCurrentMember' | i18n}}</p>\n            <p>{{'premiumSignUpAndGet' | i18n}}</p>\n            <ul class=\"fa-ul\">\n                <li>\n                    <i class=\"fa-li fa fa-check text-success\"></i>\n                    {{'ppremiumSignUpStorage' | i18n}}\n                </li>\n                <li>\n                    <i class=\"fa-li fa fa-check text-success\"></i>\n                    {{'ppremiumSignUpTwoStep' | i18n}}\n                </li>\n                <li>\n                    <i class=\"fa-li fa fa-check text-success\"></i>\n                    {{'ppremiumSignUpTotp' | i18n}}\n                </li>\n                <li>\n                    <i class=\"fa-li fa fa-check text-success\"></i>\n                    {{'ppremiumSignUpSupport' | i18n}}\n                </li>\n                <li>\n                    <i class=\"fa-li fa fa-check text-success\"></i>\n                    {{'ppremiumSignUpFuture' | i18n}}\n                </li>\n            </ul>\n            <p class=\"text-center lead\">{{priceString}}</p>\n            <button type=\"button\" class=\"btn primary block\" appBlurClick (click)=\"purchase()\">\n                <b>{{'premiumPurchase' | i18n}}</b>\n            </button>\n            <button #refreshBtn type=\"button\" appBlurClick (click)=\"refresh()\" [disabled]=\"refreshBtn.loading\"\n                    [appApiAction]=\"refreshPromise\" class=\"btn link block\">\n                <span [hidden]=\"refreshBtn.loading\">{{'premiumRefresh' | i18n}}</span>\n                <i class=\"fa fa-spinner fa-spin fa-lg fa-fw\" [hidden]=\"!refreshBtn.loading\"></i>\n            </button>\n        </ng-container>\n        <ng-container *ngIf=\"isPremium\">\n            <p class=\"text-center lead\">{{'premiumCurrentMember' | i18n}}</p>\n            <p class=\"text-center\">{{'premiumCurrentMemberThanks' | i18n}}</p>\n            <button type=\"button\" class=\"btn block primary\" appBlurClick (click)=\"manage()\">\n                <b>{{'premiumManage' | i18n}}</b>\n            </button>\n        </ng-container>\n    </div>\n</content>\n","import {\n    Component,\n    OnInit,\n} from '@angular/core';\n\nimport { Angulartics2 } from 'angulartics2';\n\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { StateService } from 'jslib/abstractions/state.service';\nimport { StorageService } from 'jslib/abstractions/storage.service';\nimport { TotpService } from 'jslib/abstractions/totp.service';\n\nimport { ConstantsService } from 'jslib/services/constants.service';\n\n@Component({\n    selector: 'app-options',\n    templateUrl: 'options.component.html',\n})\nexport class OptionsComponent implements OnInit {\n    disableFavicon = false;\n    enableAutoFillOnPageLoad = false;\n    disableAutoTotpCopy = false;\n    disableContextMenuItem = false;\n    disableAddLoginNotification = false;\n    disableChangedPasswordNotification = false;\n    showDisableContextMenu = true;\n    disableGa = false;\n    theme: string;\n    themeOptions: any[];\n\n    constructor(private analytics: Angulartics2, private messagingService: MessagingService,\n        private platformUtilsService: PlatformUtilsService, private storageService: StorageService,\n        private stateService: StateService, private totpService: TotpService,\n        private i18nService: I18nService) {\n        this.themeOptions = [\n            { name: i18nService.t('default'), value: null },\n            { name: i18nService.t('light'), value: 'light' },\n            { name: i18nService.t('dark'), value: 'dark' },\n        ];\n    }\n\n    async ngOnInit() {\n        this.showDisableContextMenu = !this.platformUtilsService.isSafari();\n\n        this.enableAutoFillOnPageLoad = await this.storageService.get<boolean>(\n            ConstantsService.enableAutoFillOnPageLoadKey);\n\n        const disableGa = await this.storageService.get<boolean>(ConstantsService.disableGaKey);\n        const disableGaByDefault = this.platformUtilsService.isFirefox();\n        this.disableGa = disableGa || (disableGa == null && disableGaByDefault);\n\n        this.disableAddLoginNotification = await this.storageService.get<boolean>(\n            ConstantsService.disableAddLoginNotificationKey);\n\n        this.disableChangedPasswordNotification = await this.storageService.get<boolean>(\n            ConstantsService.disableChangedPasswordNotificationKey);\n\n        this.disableContextMenuItem = await this.storageService.get<boolean>(\n            ConstantsService.disableContextMenuItemKey);\n\n        this.disableAutoTotpCopy = !await this.totpService.isAutoCopyEnabled();\n\n        this.disableFavicon = await this.storageService.get<boolean>(ConstantsService.disableFaviconKey);\n\n        this.theme = await this.storageService.get<string>(ConstantsService.themeKey);\n    }\n\n    async saveGa() {\n        if (this.disableGa) {\n            this.callAnalytics('Analytics', !this.disableGa);\n        }\n        await this.storageService.save(ConstantsService.disableGaKey, this.disableGa);\n        if (!this.disableGa) {\n            this.callAnalytics('Analytics', !this.disableGa);\n        }\n    }\n\n    async updateAddLoginNotification() {\n        await this.storageService.save(ConstantsService.disableAddLoginNotificationKey,\n            this.disableAddLoginNotification);\n        this.callAnalytics('Add Login Notification', !this.disableAddLoginNotification);\n    }\n\n    async updateChangedPasswordNotification() {\n        await this.storageService.save(ConstantsService.disableChangedPasswordNotificationKey,\n            this.disableChangedPasswordNotification);\n        this.callAnalytics('Changed Password Notification', !this.disableChangedPasswordNotification);\n    }\n\n    async updateDisableContextMenuItem() {\n        await this.storageService.save(ConstantsService.disableContextMenuItemKey,\n            this.disableContextMenuItem);\n        this.messagingService.send('bgUpdateContextMenu');\n        this.callAnalytics('Context Menu Item', !this.disableContextMenuItem);\n    }\n\n    async updateAutoTotpCopy() {\n        await this.storageService.save(ConstantsService.disableAutoTotpCopyKey, this.disableAutoTotpCopy);\n        this.callAnalytics('Auto Copy TOTP', !this.disableAutoTotpCopy);\n    }\n\n    async updateAutoFillOnPageLoad() {\n        await this.storageService.save(ConstantsService.enableAutoFillOnPageLoadKey, this.enableAutoFillOnPageLoad);\n        this.callAnalytics('Auto-fill Page Load', this.enableAutoFillOnPageLoad);\n    }\n\n    async updateDisableFavicon() {\n        await this.storageService.save(ConstantsService.disableFaviconKey, this.disableFavicon);\n        await this.stateService.save(ConstantsService.disableFaviconKey, this.disableFavicon);\n        this.callAnalytics('Favicon', !this.disableFavicon);\n    }\n\n    async saveTheme() {\n        await this.storageService.save(ConstantsService.themeKey, this.theme);\n        this.analytics.eventTrack.next({ action: 'Set Theme ' + this.theme });\n        window.setTimeout(() => window.location.reload(), 200);\n    }\n\n    private callAnalytics(name: string, enabled: boolean) {\n        const status = enabled ? 'Enabled' : 'Disabled';\n        this.analytics.eventTrack.next({ action: `${status} ${name}` });\n    }\n}\n","<header>\n    <div class=\"left\">\n        <a routerLink=\"/tabs/settings\">\n            <span class=\"header-icon\"><i class=\"fa fa-chevron-left\"></i></span>\n            <span>{{'back' | i18n}}</span>\n        </a>\n    </div>\n    <div class=\"center\">\n        <span class=\"title\">{{'options' | i18n}}</span>\n    </div>\n    <div class=\"right\"></div>\n</header>\n<content>\n    <div class=\"box\">\n        <div class=\"box-content\">\n            <div class=\"box-content-row box-content-row-checkbox\" appBoxRow>\n                <label for=\"autofill\">{{'enableAutoFillOnPageLoad' | i18n}}</label>\n                <input id=\"autofill\" type=\"checkbox\" (change)=\"updateAutoFillOnPageLoad()\"\n                       [(ngModel)]=\"enableAutoFillOnPageLoad\">\n            </div>\n        </div>\n        <div class=\"box-footer\">\n            {{'enableAutoFillOnPageLoadDesc' | i18n}}\n            <b>{{'warning' | i18n}}</b>: {{'experimentalFeature' | i18n}}\n        </div>\n    </div>\n    <div class=\"box\">\n        <div class=\"box-content\">\n            <div class=\"box-content-row box-content-row-checkbox\" appBoxRow>\n                <label for=\"totp\">{{'disableAutoTotpCopy' | i18n}}</label>\n                <input id=\"totp\" type=\"checkbox\" (change)=\"updateAutoTotpCopy()\" [(ngModel)]=\"disableAutoTotpCopy\">\n            </div>\n        </div>\n        <div class=\"box-footer\">{{'disableAutoTotpCopyDesc' | i18n}}</div>\n    </div>\n    <div class=\"box\">\n        <div class=\"box-content\">\n            <div class=\"box-content-row box-content-row-checkbox\" appBoxRow>\n                <label for=\"ga\">{{'disableGa' | i18n}}</label>\n                <input id=\"ga\" type=\"checkbox\" (change)=\"saveGa()\" [(ngModel)]=\"disableGa\">\n            </div>\n        </div>\n        <div class=\"box-footer\">{{'gaDesc' | i18n}}</div>\n    </div>\n    <div class=\"box\">\n        <div class=\"box-content\">\n            <div class=\"box-content-row box-content-row-checkbox\" appBoxRow>\n                <label for=\"addlogin-notification-bar\">{{'disableAddLoginNotification' | i18n}}</label>\n                <input id=\"addlogin-notification-bar\" type=\"checkbox\" (change)=\"updateAddLoginNotification()\"\n                       [(ngModel)]=\"disableAddLoginNotification\">\n            </div>\n        </div>\n        <div class=\"box-footer\">{{'addLoginNotificationDesc' | i18n}}</div>\n    </div>\n    <div class=\"box\">\n        <div class=\"box-content\">\n            <div class=\"box-content-row box-content-row-checkbox\" appBoxRow>\n                <label for=\"changedpass-notification-bar\">{{'disableChangedPasswordNotification' | i18n}}</label>\n                <input id=\"changedpass-notification-bar\" type=\"checkbox\" (change)=\"updateChangedPasswordNotification()\"\n                       [(ngModel)]=\"disableChangedPasswordNotification\">\n            </div>\n        </div>\n        <div class=\"box-footer\">{{'disableChangedPasswordNotificationDesc' | i18n}}</div>\n    </div>\n    <div class=\"box\" *ngIf=\"showDisableContextMenu\">\n        <div class=\"box-content\">\n            <div class=\"box-content-row box-content-row-checkbox\" appBoxRow>\n                <label for=\"context-menu\">{{'disableContextMenuItem' | i18n}}</label>\n                <input id=\"context-menu\" type=\"checkbox\" (change)=\"updateDisableContextMenuItem()\"\n                       [(ngModel)]=\"disableContextMenuItem\">\n            </div>\n        </div>\n        <div class=\"box-footer\">{{'disableContextMenuItemDesc' | i18n}}</div>\n    </div>\n    <div class=\"box\">\n        <div class=\"box-content\">\n            <div class=\"box-content-row box-content-row-checkbox\" appBoxRow>\n                <label for=\"favicon\">{{'disableFavicon' | i18n}}</label>\n                <input id=\"favicon\" type=\"checkbox\" (change)=\"updateDisableFavicon()\" [(ngModel)]=\"disableFavicon\">\n            </div>\n        </div>\n        <div class=\"box-footer\">{{'disableFaviconDesc' | i18n}}</div>\n    </div>\n    <div class=\"box\">\n        <div class=\"box-content\">\n            <div class=\"box-content-row\" appBoxRow>\n                <label for=\"theme\">{{'theme' | i18n}}</label>\n                <select id=\"theme\" name=\"Theme\" [(ngModel)]=\"theme\" (change)=\"saveTheme()\">\n                    <option *ngFor=\"let o of themeOptions\" [ngValue]=\"o.value\">{{o.name}}</option>\n                </select>\n            </div>\n        </div>\n        <div class=\"box-footer\">{{'themeDesc' | i18n}}</div>\n    </div>\n</content>\n","import { BrowserApi } from '../browser/browserApi';\n\nimport {\n    Component,\n    OnInit,\n} from '@angular/core';\n\n@Component({\n    selector: 'app-private-mode',\n    templateUrl: 'private-mode.component.html',\n})\nexport class PrivateModeComponent implements OnInit {\n    privateModeMessage: string;\n    learnMoreMessage: string;\n\n    ngOnInit() {\n        this.privateModeMessage = chrome.i18n.getMessage('privateModeMessage');\n        this.learnMoreMessage = chrome.i18n.getMessage('learnMore');\n    }\n\n    learnMore() {\n        BrowserApi.createNewTab('https://help.bitwarden.com/article/extension-wont-load-in-private-mode/');\n    }\n}\n","<div class=\"content\">\n    <p class=\"text-center\">{{privateModeMessage}}</p>\n    <button type=\"button\" class=\"btn primary block\" (click)=\"learnMore()\">\n        <b>{{learnMoreMessage}}</b>\n    </button>\n</div>\n","import {\n    Component,\n    OnInit,\n} from '@angular/core';\n\nimport { PopupUtilsService } from './services/popup-utils.service';\n\n@Component({\n    selector: 'app-tabs',\n    templateUrl: 'tabs.component.html',\n})\nexport class TabsComponent implements OnInit {\n    showCurrentTab: boolean = true;\n\n    constructor(private popupUtilsService: PopupUtilsService) { }\n\n    ngOnInit() {\n        this.showCurrentTab = !this.popupUtilsService.inPopout(window);\n    }\n}\n","<div class=\"tab-page\">\n    <router-outlet></router-outlet>\n    <nav class=\"tabs\" [ngClass]=\"{'tabs-3': !showCurrentTab}\">\n        <ul>\n            <li routerLinkActive=\"active\" *ngIf=\"showCurrentTab\">\n                <a routerLink=\"current\" title=\"{{'currentTab' | i18n}}\">\n                    <i class=\"fa fa-folder fa-2x\"></i>{{'tab' | i18n}}\n                </a>\n            </li>\n            <li routerLinkActive=\"active\">\n                <a routerLink=\"vault\" title=\"{{'myVault' | i18n}}\">\n                    <i class=\"fa fa-lock fa-2x\"></i>{{'myVault' | i18n}}\n                </a>\n            </li>\n            <li routerLinkActive=\"active\">\n                <a routerLink=\"generator\" title=\"{{'passGen' | i18n}}\">\n                    <i class=\"fa fa-refresh fa-2x\"></i>{{'generator' | i18n}}\n                </a>\n            </li>\n            <li routerLinkActive=\"active\">\n                <a routerLink=\"settings\" title=\"{{'settings' | i18n}}\">\n                    <i class=\"fa fa-cogs fa-2x\"></i>{{'settings' | i18n}}\n                </a>\n            </li>\n        </ul>\n    </nav>\n</div>\n","import AutofillPageDetails from '../../models/autofillPageDetails';\n\nexport abstract class AutofillService {\n    getFormsWithPasswordFields: (pageDetails: AutofillPageDetails) => any[];\n    doAutoFill: (options: any) => Promise<string>;\n    doAutoFillForLastUsedLogin: (pageDetails: any, fromCommand: boolean) => Promise<string>;\n}\n","import {\n    ChangeDetectorRef,\n    Component,\n    NgZone,\n    OnDestroy,\n    OnInit,\n} from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { ToasterService } from 'angular2-toaster';\nimport { Angulartics2 } from 'angulartics2';\n\nimport { BrowserApi } from '../../browser/browserApi';\n\nimport { BroadcasterService } from 'jslib/angular/services/broadcaster.service';\n\nimport { CipherType } from 'jslib/enums/cipherType';\n\nimport { CipherView } from 'jslib/models/view/cipherView';\n\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { SearchService } from 'jslib/abstractions/search.service';\nimport { SyncService } from 'jslib/abstractions/sync.service';\n\nimport { AutofillService } from '../../services/abstractions/autofill.service';\n\nimport { PopupUtilsService } from '../services/popup-utils.service';\n\nimport { Utils } from 'jslib/misc/utils';\n\nconst BroadcasterSubscriptionId = 'CurrentTabComponent';\n\n@Component({\n    selector: 'app-current-tab',\n    templateUrl: 'current-tab.component.html',\n})\nexport class CurrentTabComponent implements OnInit, OnDestroy {\n    pageDetails: any[] = [];\n    cardCiphers: CipherView[];\n    identityCiphers: CipherView[];\n    loginCiphers: CipherView[];\n    url: string;\n    hostname: string;\n    searchText: string;\n    inSidebar = false;\n    showLeftHeader = false;\n    loaded = false;\n\n    private totpCode: string;\n    private totpTimeout: number;\n    private loadedTimeout: number;\n    private searchTimeout: number;\n\n    constructor(private platformUtilsService: PlatformUtilsService, private cipherService: CipherService,\n        private popupUtilsService: PopupUtilsService, private autofillService: AutofillService,\n        private analytics: Angulartics2, private toasterService: ToasterService,\n        private i18nService: I18nService, private router: Router,\n        private ngZone: NgZone, private broadcasterService: BroadcasterService,\n        private changeDetectorRef: ChangeDetectorRef, private syncService: SyncService,\n        private searchService: SearchService) { }\n\n    async ngOnInit() {\n        this.showLeftHeader = !this.platformUtilsService.isSafari();\n        this.inSidebar = this.popupUtilsService.inSidebar(window);\n\n        this.broadcasterService.subscribe(BroadcasterSubscriptionId, (message: any) => {\n            this.ngZone.run(async () => {\n                switch (message.command) {\n                    case 'syncCompleted':\n                        if (this.loaded) {\n                            window.setTimeout(() => {\n                                this.load();\n                            }, 500);\n                        }\n                        break;\n                    case 'collectPageDetailsResponse':\n                        if (message.sender === BroadcasterSubscriptionId) {\n                            this.pageDetails.push({\n                                frameId: message.webExtSender.frameId,\n                                tab: message.tab,\n                                details: message.details,\n                            });\n                        }\n                        break;\n                    case 'syncCompleted':\n                        if (message.successfully) {\n                            await this.load();\n                        }\n                        break;\n                    default:\n                        break;\n                }\n\n                this.changeDetectorRef.detectChanges();\n            });\n        });\n\n        if (!this.syncService.syncInProgress) {\n            await this.load();\n        } else {\n            this.loadedTimeout = window.setTimeout(async () => {\n                if (!this.loaded) {\n                    await this.load();\n                }\n            }, 5000);\n        }\n\n        window.setTimeout(() => {\n            document.getElementById('search').focus();\n        }, 100);\n    }\n\n    ngOnDestroy() {\n        window.clearTimeout(this.loadedTimeout);\n        this.broadcasterService.unsubscribe(BroadcasterSubscriptionId);\n    }\n\n    async refresh() {\n        await this.load();\n    }\n\n    addCipher() {\n        this.router.navigate(['/add-cipher'], { queryParams: { name: this.hostname, uri: this.url } });\n    }\n\n    viewCipher(cipher: CipherView) {\n        this.router.navigate(['/view-cipher'], { queryParams: { cipherId: cipher.id } });\n    }\n\n    fillCipher(cipher: CipherView) {\n        this.totpCode = null;\n        if (this.totpTimeout != null) {\n            window.clearTimeout(this.totpTimeout);\n        }\n\n        if (this.pageDetails == null || this.pageDetails.length === 0) {\n            this.analytics.eventTrack.next({ action: 'Autofilled Error' });\n            this.toasterService.popAsync('error', null, this.i18nService.t('autofillError'));\n            return;\n        }\n\n        this.autofillService.doAutoFill({\n            cipher: cipher,\n            pageDetails: this.pageDetails,\n            doc: window.document,\n        }).then((totpCode) => {\n            this.totpCode = totpCode;\n            this.analytics.eventTrack.next({ action: 'Autofilled' });\n            if (totpCode != null && !this.platformUtilsService.isSafari()) {\n                this.platformUtilsService.copyToClipboard(totpCode, { window: window });\n            }\n\n            if (this.popupUtilsService.inPopup(window)) {\n                BrowserApi.closePopup(window);\n            }\n        }).catch(() => {\n            this.ngZone.run(() => {\n                this.analytics.eventTrack.next({ action: 'Autofilled Error' });\n                this.toasterService.popAsync('error', null, this.i18nService.t('autofillError'));\n                this.changeDetectorRef.detectChanges();\n            });\n        });\n\n        // Weird bug in Safari won't allow clipboard copying after a promise call, so we have this workaround\n        if (cipher.type === CipherType.Login && this.platformUtilsService.isSafari()) {\n            this.totpTimeout = window.setTimeout(() => {\n                if (this.totpCode != null) {\n                    this.platformUtilsService.copyToClipboard(this.totpCode, { window: window });\n                }\n            }, 500);\n        }\n    }\n\n    searchVault() {\n        if (this.searchTimeout != null) {\n            clearTimeout(this.searchTimeout);\n        }\n        if (!this.searchService.isSearchable(this.searchText)) {\n            return;\n        }\n        this.searchTimeout = window.setTimeout(async () => {\n            this.router.navigate(['/tabs/vault'], { queryParams: { searchText: this.searchText } });\n        }, 200);\n    }\n\n    private async load() {\n        const tab = await BrowserApi.getTabFromCurrentWindow();\n        if (tab != null) {\n            this.url = tab.url;\n        } else {\n            this.loginCiphers = [];\n            this.loaded = true;\n            return;\n        }\n\n        this.hostname = Utils.getHostname(this.url);\n        this.pageDetails = [];\n        BrowserApi.tabSendMessage(tab, {\n            command: 'collectPageDetails',\n            tab: tab,\n            sender: BroadcasterSubscriptionId,\n        });\n\n        const ciphers = await this.cipherService.getAllDecryptedForUrl(this.url, [\n            CipherType.Card,\n            CipherType.Identity,\n        ]);\n\n        this.loginCiphers = [];\n        this.cardCiphers = [];\n        this.identityCiphers = [];\n\n        ciphers.forEach((c) => {\n            switch (c.type) {\n                case CipherType.Login:\n                    this.loginCiphers.push(c);\n                    break;\n                case CipherType.Card:\n                    this.cardCiphers.push(c);\n                    break;\n                case CipherType.Identity:\n                    this.identityCiphers.push(c);\n                    break;\n                default:\n                    break;\n            }\n        });\n\n        this.loginCiphers = this.loginCiphers.sort((a, b) => this.cipherService.sortCiphersByLastUsedThenName(a, b));\n        this.loaded = true;\n    }\n}\n","<header>\n    <div class=\"left\" *ngIf=\"showLeftHeader\">\n        <app-pop-out [show]=\"!inSidebar\"></app-pop-out>\n        <button type=\"button\" appBlurClick (click)=\"refresh()\" title=\"{{'refresh' | i18n}}\" *ngIf=\"inSidebar\">\n            <i class=\"fa fa-retweet fa-lg fa-fw\"></i>\n        </button>\n    </div>\n    <div class=\"search\">\n        <input type=\"search\" placeholder=\"{{'searchVault' | i18n}}\" id=\"search\"\n               [(ngModel)]=\"searchText\" (input)=\"searchVault()\">\n        <i class=\"fa fa-search\"></i>\n    </div>\n    <div class=\"right\">\n        <button type=\"button\" appBlurClick (click)=\"addCipher()\" title=\"{{'addItem' | i18n}}\">\n            <i class=\"fa fa-plus fa-lg fa-fw\"></i>\n        </button>\n    </div>\n</header>\n<content>\n    <div class=\"no-items\" *ngIf=\"!loaded\">\n        <i class=\"fa fa-spinner fa-spin fa-3x\"></i>\n    </div>\n    <ng-container *ngIf=\"loaded\">\n        <div class=\"box list\" *ngIf=\"loginCiphers\">\n            <div class=\"box-header\">\n                {{'typeLogins' | i18n}}\n                <span class=\"flex-right\">{{loginCiphers.length}}</span>\n            </div>\n            <div class=\"box-content\">\n                <app-ciphers-list [ciphers]=\"loginCiphers\" title=\"{{'autoFill' | i18n}}\" [showView]=\"true\"\n                                  (onSelected)=\"fillCipher($event)\" (onView)=\"viewCipher($event)\"\n                                  *ngIf=\"loginCiphers.length\"></app-ciphers-list>\n                <div class=\"box-content-row padded no-hover\" *ngIf=\"!loginCiphers.length\">\n                    <p class=\"text-center\">{{'autoFillInfo' | i18n}}</p>\n                    <button type=\"button\" class=\"btn primary link block\" (click)=\"addCipher()\">\n                        {{'addLogin' | i18n}}\n                    </button>\n                </div>\n            </div>\n        </div>\n        <div class=\"box list\" *ngIf=\"cardCiphers && cardCiphers.length\">\n            <div class=\"box-header\">\n                {{'cards' | i18n}}\n                <span class=\"flex-right\">{{cardCiphers.length}}</span>\n            </div>\n            <div class=\"box-content\">\n                <app-ciphers-list [ciphers]=\"cardCiphers\" title=\"{{'autoFill' | i18n}}\" [showView]=\"true\"\n                                  (onSelected)=\"fillCipher($event)\" (onView)=\"viewCipher($event)\"></app-ciphers-list>\n            </div>\n        </div>\n        <div class=\"box list\" *ngIf=\"identityCiphers && identityCiphers.length\">\n            <div class=\"box-header\">\n                {{'identities' | i18n}}\n                <span class=\"flex-right\">{{identityCiphers.length}}</span>\n            </div>\n            <div class=\"box-content\">\n                <app-ciphers-list [ciphers]=\"identityCiphers\" title=\"{{'autoFill' | i18n}}\" [showView]=\"true\"\n                                  (onSelected)=\"fillCipher($event)\" (onView)=\"viewCipher($event)\"></app-ciphers-list>\n            </div>\n        </div>\n    </ng-container>\n</content>\n","import {\n    EventEmitter,\n    Input,\n    Output,\n} from '@angular/core';\n\nimport { CipherType } from '../../enums/cipherType';\n\nimport { CollectionView } from '../../models/view/collectionView';\nimport { FolderView } from '../../models/view/folderView';\n\nimport { CollectionService } from '../../abstractions/collection.service';\nimport { FolderService } from '../../abstractions/folder.service';\n\nexport class GroupingsComponent {\n    @Input() showFolders = true;\n    @Input() showCollections = true;\n    @Input() showFavorites = true;\n\n    @Output() onAllClicked = new EventEmitter();\n    @Output() onFavoritesClicked = new EventEmitter();\n    @Output() onCipherTypeClicked = new EventEmitter<CipherType>();\n    @Output() onFolderClicked = new EventEmitter<FolderView>();\n    @Output() onAddFolder = new EventEmitter();\n    @Output() onEditFolder = new EventEmitter<FolderView>();\n    @Output() onCollectionClicked = new EventEmitter<CollectionView>();\n\n    folders: FolderView[];\n    collections: CollectionView[];\n    loaded: boolean = false;\n    cipherType = CipherType;\n    selectedAll: boolean = false;\n    selectedFavorites: boolean = false;\n    selectedType: CipherType = null;\n    selectedFolder: boolean = false;\n    selectedFolderId: string = null;\n    selectedCollectionId: string = null;\n\n    constructor(protected collectionService: CollectionService, protected folderService: FolderService) { }\n\n    async load(setLoaded = true) {\n        await this.loadFolders();\n        await this.loadCollections();\n\n        if (setLoaded) {\n            this.loaded = true;\n        }\n    }\n\n    async loadCollections(organizationId?: string) {\n        if (!this.showCollections) {\n            return;\n        }\n        const collections = await this.collectionService.getAllDecrypted();\n        if (organizationId != null) {\n            this.collections = collections.filter((c) => c.organizationId === organizationId);\n        } else {\n            this.collections = collections;\n        }\n    }\n\n    async loadFolders() {\n        if (!this.showFolders) {\n            return;\n        }\n        this.folders = await this.folderService.getAllDecrypted();\n    }\n\n    selectAll() {\n        this.clearSelections();\n        this.selectedAll = true;\n        this.onAllClicked.emit();\n    }\n\n    selectFavorites() {\n        this.clearSelections();\n        this.selectedFavorites = true;\n        this.onFavoritesClicked.emit();\n    }\n\n    selectType(type: CipherType) {\n        this.clearSelections();\n        this.selectedType = type;\n        this.onCipherTypeClicked.emit(type);\n    }\n\n    selectFolder(folder: FolderView) {\n        this.clearSelections();\n        this.selectedFolder = true;\n        this.selectedFolderId = folder.id;\n        this.onFolderClicked.emit(folder);\n    }\n\n    addFolder() {\n        this.onAddFolder.emit();\n    }\n\n    editFolder(folder: FolderView) {\n        this.onEditFolder.emit(folder);\n    }\n\n    selectCollection(collection: CollectionView) {\n        this.clearSelections();\n        this.selectedCollectionId = collection.id;\n        this.onCollectionClicked.emit(collection);\n    }\n\n    clearSelections() {\n        this.selectedAll = false;\n        this.selectedFavorites = false;\n        this.selectedType = null;\n        this.selectedFolder = false;\n        this.selectedFolderId = null;\n        this.selectedCollectionId = null;\n    }\n}\n","import { Angulartics2 } from 'angulartics2';\n\nimport { Location } from '@angular/common';\nimport {\n    ChangeDetectorRef,\n    Component,\n    NgZone,\n    OnDestroy,\n    OnInit,\n} from '@angular/core';\nimport {\n    ActivatedRoute,\n    Router,\n} from '@angular/router';\n\nimport { BrowserApi } from '../../browser/browserApi';\n\nimport { CipherType } from 'jslib/enums/cipherType';\n\nimport { CipherView } from 'jslib/models/view/cipherView';\nimport { CollectionView } from 'jslib/models/view/collectionView';\nimport { FolderView } from 'jslib/models/view/folderView';\n\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { CollectionService } from 'jslib/abstractions/collection.service';\nimport { FolderService } from 'jslib/abstractions/folder.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { SearchService } from 'jslib/abstractions/search.service';\nimport { StateService } from 'jslib/abstractions/state.service';\nimport { SyncService } from 'jslib/abstractions/sync.service';\n\nimport { BroadcasterService } from 'jslib/angular/services/broadcaster.service';\n\nimport { GroupingsComponent as BaseGroupingsComponent } from 'jslib/angular/components/groupings.component';\n\nimport { PopupUtilsService } from '../services/popup-utils.service';\n\nconst ComponentId = 'GroupingsComponent';\nconst ScopeStateId = ComponentId + 'Scope';\n\n@Component({\n    selector: 'app-vault-groupings',\n    templateUrl: 'groupings.component.html',\n})\nexport class GroupingsComponent extends BaseGroupingsComponent implements OnInit, OnDestroy {\n    ciphers: CipherView[];\n    favoriteCiphers: CipherView[];\n    noFolderCiphers: CipherView[];\n    folderCounts = new Map<string, number>();\n    collectionCounts = new Map<string, number>();\n    typeCounts = new Map<CipherType, number>();\n    searchText: string;\n    state: any;\n    scopeState: any;\n    showLeftHeader = true;\n    searchPending = false;\n\n    private loadedTimeout: number;\n    private selectedTimeout: number;\n    private preventSelected = false;\n    private noFolderListSize = 100;\n    private searchTimeout: any = null;\n    private hasSearched = false;\n    private hasLoadedAllCiphers = false;\n    private allCiphers: CipherView[] = null;\n\n    constructor(collectionService: CollectionService, folderService: FolderService,\n        private cipherService: CipherService, private router: Router,\n        private ngZone: NgZone, private broadcasterService: BroadcasterService,\n        private changeDetectorRef: ChangeDetectorRef, private route: ActivatedRoute,\n        private stateService: StateService, private popupUtils: PopupUtilsService,\n        private syncService: SyncService, private analytics: Angulartics2,\n        private platformUtilsService: PlatformUtilsService, private searchService: SearchService,\n        private location: Location) {\n        super(collectionService, folderService);\n        this.noFolderListSize = platformUtilsService.isEdge() ? 25 : 100;\n    }\n\n    get showNoFolderCiphers(): boolean {\n        return this.noFolderCiphers != null && this.noFolderCiphers.length < this.noFolderListSize &&\n            this.collections.length === 0;\n    }\n\n    get folderCount(): number {\n        return this.folders.length - (this.showNoFolderCiphers ? 0 : 1);\n    }\n\n    async ngOnInit() {\n        this.showLeftHeader = !this.platformUtilsService.isSafari() &&\n            !(this.popupUtils.inSidebar(window) && this.platformUtilsService.isFirefox());\n        this.stateService.remove('CiphersComponent');\n\n        this.broadcasterService.subscribe(ComponentId, (message: any) => {\n            this.ngZone.run(async () => {\n                switch (message.command) {\n                    case 'syncCompleted':\n                        if (message.successfully) {\n                            window.setTimeout(() => {\n                                this.load();\n                            }, 500);\n                        }\n                        break;\n                    default:\n                        break;\n                }\n\n                this.changeDetectorRef.detectChanges();\n            });\n        });\n\n        const restoredScopeState = await this.restoreState();\n        this.route.queryParams.subscribe(async (params) => {\n            this.state = (await this.stateService.get<any>(ComponentId)) || {};\n            if (this.state.searchText) {\n                this.searchText = this.state.searchText;\n            } else if (params.searchText) {\n                this.searchText = params.searchText;\n                this.location.replaceState('vault');\n            }\n\n            if (!this.syncService.syncInProgress) {\n                this.load();\n            } else {\n                this.loadedTimeout = window.setTimeout(() => {\n                    if (!this.loaded) {\n                        this.load();\n                    }\n                }, 5000);\n            }\n\n            if (!this.syncService.syncInProgress || restoredScopeState) {\n                window.setTimeout(() => this.popupUtils.setContentScrollY(window, this.state.scrollY), 0);\n            }\n        });\n    }\n\n    ngOnDestroy() {\n        if (this.loadedTimeout != null) {\n            window.clearTimeout(this.loadedTimeout);\n        }\n        if (this.selectedTimeout != null) {\n            window.clearTimeout(this.selectedTimeout);\n        }\n        this.saveState();\n        this.broadcasterService.unsubscribe(ComponentId);\n    }\n\n    async load() {\n        await super.load(false);\n        await this.loadCiphers();\n        if (this.showNoFolderCiphers && this.folders.length > 0) {\n            // Remove \"No Folder\" from folder listing\n            this.folders = this.folders.slice(0, this.folders.length - 1);\n        }\n\n        super.loaded = true;\n    }\n\n    async loadCiphers() {\n        this.allCiphers = await this.cipherService.getAllDecrypted();\n        if (!this.hasLoadedAllCiphers) {\n            this.hasLoadedAllCiphers = !this.searchService.isSearchable(this.searchText);\n        }\n        await this.search(null);\n        let favoriteCiphers: CipherView[] = null;\n        let noFolderCiphers: CipherView[] = null;\n        const folderCounts = new Map<string, number>();\n        const collectionCounts = new Map<string, number>();\n        const typeCounts = new Map<CipherType, number>();\n\n        this.ciphers.forEach((c) => {\n            if (c.favorite) {\n                if (favoriteCiphers == null) {\n                    favoriteCiphers = [];\n                }\n                favoriteCiphers.push(c);\n            }\n\n            if (c.folderId == null) {\n                if (noFolderCiphers == null) {\n                    noFolderCiphers = [];\n                }\n                noFolderCiphers.push(c);\n            }\n\n            if (typeCounts.has(c.type)) {\n                typeCounts.set(c.type, typeCounts.get(c.type) + 1);\n            } else {\n                typeCounts.set(c.type, 1);\n            }\n\n            if (folderCounts.has(c.folderId)) {\n                folderCounts.set(c.folderId, folderCounts.get(c.folderId) + 1);\n            } else {\n                folderCounts.set(c.folderId, 1);\n            }\n\n            if (c.collectionIds != null) {\n                c.collectionIds.forEach((colId) => {\n                    if (collectionCounts.has(colId)) {\n                        collectionCounts.set(colId, collectionCounts.get(colId) + 1);\n                    } else {\n                        collectionCounts.set(colId, 1);\n                    }\n                });\n            }\n        });\n\n        this.favoriteCiphers = favoriteCiphers;\n        this.noFolderCiphers = noFolderCiphers;\n        this.typeCounts = typeCounts;\n        this.folderCounts = folderCounts;\n        this.collectionCounts = collectionCounts;\n    }\n\n    async search(timeout: number = null) {\n        this.searchPending = false;\n        if (this.searchTimeout != null) {\n            clearTimeout(this.searchTimeout);\n        }\n        if (timeout == null) {\n            this.hasSearched = this.searchService.isSearchable(this.searchText);\n            this.ciphers = await this.searchService.searchCiphers(this.searchText, null, this.allCiphers);\n            return;\n        }\n        this.searchPending = true;\n        this.searchTimeout = setTimeout(async () => {\n            this.hasSearched = this.searchService.isSearchable(this.searchText);\n            if (!this.hasLoadedAllCiphers && !this.hasSearched) {\n                await this.loadCiphers();\n            } else {\n                this.ciphers = await this.searchService.searchCiphers(this.searchText, null, this.allCiphers);\n            }\n            this.searchPending = false;\n        }, timeout);\n    }\n\n    async selectType(type: CipherType) {\n        super.selectType(type);\n        this.router.navigate(['/ciphers'], { queryParams: { type: type } });\n    }\n\n    async selectFolder(folder: FolderView) {\n        super.selectFolder(folder);\n        this.router.navigate(['/ciphers'], { queryParams: { folderId: folder.id || 'none' } });\n    }\n\n    async selectCollection(collection: CollectionView) {\n        super.selectCollection(collection);\n        this.router.navigate(['/ciphers'], { queryParams: { collectionId: collection.id } });\n    }\n\n    async selectCipher(cipher: CipherView) {\n        this.selectedTimeout = window.setTimeout(() => {\n            if (!this.preventSelected) {\n                this.router.navigate(['/view-cipher'], { queryParams: { cipherId: cipher.id } });\n            }\n            this.preventSelected = false;\n        }, 200);\n    }\n\n    async launchCipher(cipher: CipherView) {\n        if (cipher.type !== CipherType.Login || !cipher.login.canLaunch) {\n            return;\n        }\n\n        if (this.selectedTimeout != null) {\n            window.clearTimeout(this.selectedTimeout);\n        }\n        this.preventSelected = true;\n        this.analytics.eventTrack.next({ action: 'Launched URI From Listing' });\n        BrowserApi.createNewTab(cipher.login.uri);\n        if (this.popupUtils.inPopup(window)) {\n            BrowserApi.closePopup(window);\n        }\n    }\n\n    async addCipher() {\n        this.router.navigate(['/add-cipher']);\n    }\n\n    showSearching() {\n        return this.hasSearched || (!this.searchPending && this.searchService.isSearchable(this.searchText));\n    }\n\n    private async saveState() {\n        this.state = {\n            scrollY: this.popupUtils.getContentScrollY(window),\n            searchText: this.searchText,\n        };\n        await this.stateService.save(ComponentId, this.state);\n\n        this.scopeState = {\n            favoriteCiphers: this.favoriteCiphers,\n            noFolderCiphers: this.noFolderCiphers,\n            ciphers: this.ciphers,\n            collectionCounts: this.collectionCounts,\n            folderCounts: this.folderCounts,\n            typeCounts: this.typeCounts,\n            folders: this.folders,\n            collections: this.collections,\n        };\n        await this.stateService.save(ScopeStateId, this.scopeState);\n    }\n\n    private async restoreState(): Promise<boolean> {\n        this.scopeState = await this.stateService.get<any>(ScopeStateId);\n        if (this.scopeState == null) {\n            return false;\n        }\n\n        if (this.scopeState.favoriteCiphers != null) {\n            this.favoriteCiphers = this.scopeState.favoriteCiphers;\n        }\n        if (this.scopeState.noFolderCiphers != null) {\n            this.noFolderCiphers = this.scopeState.noFolderCiphers;\n        }\n        if (this.scopeState.ciphers != null) {\n            this.ciphers = this.scopeState.ciphers;\n        }\n        if (this.scopeState.collectionCounts != null) {\n            this.collectionCounts = this.scopeState.collectionCounts;\n        }\n        if (this.scopeState.folderCounts != null) {\n            this.folderCounts = this.scopeState.folderCounts;\n        }\n        if (this.scopeState.typeCounts != null) {\n            this.typeCounts = this.scopeState.typeCounts;\n        }\n        if (this.scopeState.folders != null) {\n            this.folders = this.scopeState.folders;\n        }\n        if (this.scopeState.collections != null) {\n            this.collections = this.scopeState.collections;\n        }\n\n        return true;\n    }\n}\n","<header>\n    <div class=\"left\" *ngIf=\"showLeftHeader\">\n        <app-pop-out></app-pop-out>\n    </div>\n    <div class=\"search\">\n        <input type=\"search\" placeholder=\"{{'searchVault' | i18n}}\" id=\"search\"\n               [(ngModel)]=\"searchText\" (input)=\"search(200)\" appAutofocus>\n        <i class=\"fa fa-search\"></i>\n    </div>\n    <div class=\"right\">\n        <button appBlurClick (click)=\"addCipher()\" title=\"{{'addItem' | i18n}}\">\n            <i class=\"fa fa-plus fa-lg fa-fw\"></i>\n        </button>\n    </div>\n</header>\n<content>\n    <div class=\"no-items\" *ngIf=\"(!ciphers || !ciphers.length) && !showSearching()\">\n        <i class=\"fa fa-spinner fa-spin fa-3x\" *ngIf=\"!loaded\"></i>\n        <ng-container *ngIf=\"loaded\">\n            <i class=\"fa fa-frown-o fa-4x\"></i>\n            <p>{{'noItemsInList' | i18n}}</p>\n            <button (click)=\"addCipher()\" class=\"btn block primary link\">{{'addItem' | i18n}}</button>\n        </ng-container>\n    </div>\n    <ng-container *ngIf=\"ciphers && ciphers.length && !showSearching()\">\n        <div class=\"box list\" *ngIf=\"favoriteCiphers\">\n            <div class=\"box-header\">\n                {{'favorites' | i18n}}\n                <span class=\"flex-right\">{{favoriteCiphers.length}}</span>\n            </div>\n            <div class=\"box-content\">\n                <app-ciphers-list [ciphers]=\"favoriteCiphers\" title=\"{{'viewItem' | i18n}}\"\n                                  (onSelected)=\"selectCipher($event)\"\n                                  (onDoubleSelected)=\"launchCipher($event)\"></app-ciphers-list>\n            </div>\n        </div>\n        <div class=\"box list\">\n            <div class=\"box-header\">\n                {{'types' | i18n}}\n                <span class=\"flex-right\">4</span>\n            </div>\n            <div class=\"box-content single-line\">\n                <a href=\"#\" class=\"box-content-row\" appStopClick appBlurClick\n                   (click)=\"selectType(cipherType.Login)\">\n                    <div class=\"row-main\">\n                        <div class=\"icon\"><i class=\"fa fa-fw fa-lg fa-globe\"></i></div>\n                        <span class=\"text\">{{'typeLogin' | i18n}}</span>\n                    </div>\n                    <span class=\"row-sub-label\">{{typeCounts.get(cipherType.Login) || 0}}</span>\n                    <span><i class=\"fa fa-chevron-right fa-lg row-sub-icon\"></i></span>\n                </a>\n                <a href=\"#\" class=\"box-content-row\" appStopClick appBlurClick\n                   (click)=\"selectType(cipherType.Card)\">\n                    <div class=\"row-main\">\n                        <div class=\"icon\"><i class=\"fa fa-fw fa-lg fa-credit-card\"></i></div>\n                        <span class=\"text\">{{'typeCard' | i18n}}</span>\n                    </div>\n                    <span class=\"row-sub-label\">{{typeCounts.get(cipherType.Card) || 0}}</span>\n                    <span><i class=\"fa fa-chevron-right fa-lg row-sub-icon\"></i></span>\n                </a>\n                <a href=\"#\" class=\"box-content-row\" appStopClick appBlurClick\n                   (click)=\"selectType(cipherType.Identity)\">\n                    <div class=\"row-main\">\n                        <div class=\"icon\"><i class=\"fa fa-fw fa-lg fa-id-card-o\"></i></div>\n                        <span class=\"text\">{{'typeIdentity' | i18n}}</span>\n                    </div>\n                    <span class=\"row-sub-label\">{{typeCounts.get(cipherType.Identity) || 0}}</span>\n                    <span><i class=\"fa fa-chevron-right fa-lg row-sub-icon\"></i></span>\n                </a>\n                <a href=\"#\" class=\"box-content-row\" appStopClick appBlurClick\n                   (click)=\"selectType(cipherType.SecureNote)\">\n                    <div class=\"row-main\">\n                        <div class=\"icon\"><i class=\"fa fa-fw fa-lg fa-sticky-note-o\"></i></div>\n                        <span class=\"text\">{{'typeSecureNote' | i18n}}</span>\n                    </div>\n                    <span class=\"row-sub-label\">{{typeCounts.get(cipherType.SecureNote) || 0}}</span>\n                    <span><i class=\"fa fa-chevron-right fa-lg row-sub-icon\"></i></span>\n                </a>\n            </div>\n        </div>\n        <div class=\"box list\" *ngIf=\"folders.length\">\n            <div class=\"box-header\">\n                {{'folders' | i18n}}\n                <span class=\"flex-right\">{{folderCount}}</span>\n            </div>\n            <div class=\"box-content single-line\">\n                <a *ngFor=\"let f of folders\" href=\"#\" class=\"box-content-row\"\n                   appStopClick appBlurClick (click)=\"selectFolder(f)\">\n                    <div class=\"row-main\">\n                        <div class=\"icon\">\n                            <i class=\"fa fa-fw fa-lg\"\n                               [ngClass]=\"{'fa-folder-open': f.id, 'fa-folder-open-o': !f.id}\"></i>\n                        </div>\n                        <span class=\"text\">{{f.name}}</span>\n                    </div>\n                    <span class=\"row-sub-label\">{{folderCounts.get(f.id) || 0}}</span>\n                    <span><i class=\"fa fa-chevron-right fa-lg row-sub-icon\"></i></span>\n                </a>\n            </div>\n        </div>\n        <div class=\"box list\" *ngIf=\"collections.length\">\n            <div class=\"box-header\">\n                {{'collections' | i18n}}\n                <span class=\"flex-right\">{{collections.length}}</span>\n            </div>\n            <div class=\"box-content single-line\">\n                <a *ngFor=\"let c of collections\" href=\"#\" class=\"box-content-row\"\n                   appStopClick appBlurClick (click)=\"selectCollection(c)\">\n                    <div class=\"row-main\">\n                        <div class=\"icon\"><i class=\"fa fa-fw fa-lg fa-cube\"></i></div>\n                        <span class=\"text\">{{c.name}}</span>\n                    </div>\n                    <span class=\"row-sub-label\">{{collectionCounts.get(c.id) || 0}}</span>\n                    <span><i class=\"fa fa-chevron-right fa-lg row-sub-icon\"></i></span>\n                </a>\n            </div>\n        </div>\n        <div class=\"box list\" *ngIf=\"showNoFolderCiphers\">\n            <div class=\"box-header\">\n                {{'noneFolder' | i18n}}\n                <div class=\"flex-right\">{{noFolderCiphers.length}}</div>\n            </div>\n            <div class=\"box-content\">\n                <app-ciphers-list [ciphers]=\"noFolderCiphers\" title=\"{{'viewItem' | i18n}}\"\n                                  (onSelected)=\"selectCipher($event)\"\n                                  (onDoubleSelected)=\"launchCipher($event)\"></app-ciphers-list>\n            </div>\n        </div>\n    </ng-container>\n    <ng-container *ngIf=\"showSearching()\">\n        <div class=\"no-items\" *ngIf=\"!ciphers || !ciphers.length\">\n            <p>{{'noItemsInList' | i18n}}</p>\n        </div>\n        <div class=\"box list full-list\" *ngIf=\"ciphers && ciphers.length > 0\">\n            <div class=\"box-content\">\n                <app-ciphers-list [ciphers]=\"ciphers\" title=\"{{'viewItem' | i18n}}\"\n                                  (onSelected)=\"selectCipher($event)\"\n                                  (onDoubleSelected)=\"launchCipher($event)\"></app-ciphers-list>\n            </div>\n        </div>\n    </ng-container>\n</content>\n","export abstract class LockService {\n    checkLock: () => Promise<void>;\n    lock: () => Promise<void>;\n    setLockOption: (lockOption: number) => Promise<void>;\n}\n","import { Angulartics2 } from 'angulartics2';\nimport swal from 'sweetalert';\n\nimport {\n    Component,\n    ElementRef,\n    OnInit,\n    ViewChild,\n} from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { BrowserApi } from '../../browser/browserApi';\n\nimport { DeviceType } from 'jslib/enums/deviceType';\n\nimport { ConstantsService } from 'jslib/services/constants.service';\n\nimport { EnvironmentService } from 'jslib/abstractions/environment.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { LockService } from 'jslib/abstractions/lock.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { StorageService } from 'jslib/abstractions/storage.service';\n\nconst RateUrls = {\n    [DeviceType.ChromeExtension]:\n        'https://chrome.google.com/webstore/detail/bitwarden-free-password-m/nngceckbapebfimnlniiiahkandclblb/reviews',\n    [DeviceType.FirefoxExtension]:\n        'https://addons.mozilla.org/en-US/firefox/addon/bitwarden-password-manager/#reviews',\n    [DeviceType.OperaExtension]:\n        'https://addons.opera.com/en/extensions/details/bitwarden-free-password-manager/#feedback-container',\n    [DeviceType.EdgeExtension]:\n        'https://www.microsoft.com/store/p/bitwarden-free-password-manager/9p6kxl0svnnl',\n    [DeviceType.VivaldiExtension]:\n        'https://chrome.google.com/webstore/detail/bitwarden-free-password-m/nngceckbapebfimnlniiiahkandclblb/reviews',\n    [DeviceType.SafariExtension]:\n        'https://itunes.apple.com/app/bitwarden-password-manager/id1137397744',\n};\n\n@Component({\n    selector: 'app-settings',\n    templateUrl: 'settings.component.html',\n})\nexport class SettingsComponent implements OnInit {\n    @ViewChild('lockOptionsSelect', { read: ElementRef }) lockOptionsSelectRef: ElementRef;\n    lockOptions: any[];\n    lockOption: number = null;\n    previousLockOption: number = null;\n\n    constructor(private platformUtilsService: PlatformUtilsService, private i18nService: I18nService,\n        private analytics: Angulartics2, private lockService: LockService,\n        private storageService: StorageService, public messagingService: MessagingService,\n        private router: Router, private environmentService: EnvironmentService) {\n    }\n\n    async ngOnInit() {\n        const showOnLocked = !this.platformUtilsService.isFirefox() && !this.platformUtilsService.isEdge()\n            && !this.platformUtilsService.isSafari();\n\n        this.lockOptions = [\n            { name: this.i18nService.t('immediately'), value: 0 },\n            { name: this.i18nService.t('oneMinute'), value: 1 },\n            { name: this.i18nService.t('fiveMinutes'), value: 5 },\n            { name: this.i18nService.t('fifteenMinutes'), value: 15 },\n            { name: this.i18nService.t('thirtyMinutes'), value: 30 },\n            { name: this.i18nService.t('oneHour'), value: 60 },\n            { name: this.i18nService.t('fourHours'), value: 240 },\n            // { name: i18nService.t('onIdle'), value: -4 },\n            // { name: i18nService.t('onSleep'), value: -3 },\n        ];\n\n        if (showOnLocked) {\n            this.lockOptions.push({ name: this.i18nService.t('onLocked'), value: -2 });\n        }\n\n        this.lockOptions.push({ name: this.i18nService.t('onRestart'), value: -1 });\n        this.lockOptions.push({ name: this.i18nService.t('never'), value: null });\n\n        let option = await this.storageService.get<number>(ConstantsService.lockOptionKey);\n        if (option != null) {\n            if (option === -2 && !showOnLocked) {\n                option = -1;\n            }\n            this.lockOption = option;\n        }\n        this.previousLockOption = this.lockOption;\n    }\n\n    async saveLockOption(newValue: number) {\n        if (newValue == null && !this.platformUtilsService.isSafari()) {\n            const confirmed = await this.platformUtilsService.showDialog(\n                this.i18nService.t('neverLockWarning'), null,\n                this.i18nService.t('yes'), this.i18nService.t('cancel'), 'warning');\n            if (!confirmed) {\n                this.lockOptions.forEach((option: any, i) => {\n                    if (option.value === this.lockOption) {\n                        this.lockOptionsSelectRef.nativeElement.value = i + ': ' + this.lockOption;\n                    }\n                });\n                return;\n            }\n        }\n        this.previousLockOption = this.lockOption;\n        this.lockOption = newValue;\n        await this.lockService.setLockOption(this.lockOption != null ? this.lockOption : null);\n        if (this.previousLockOption == null) {\n            this.messagingService.send('bgReseedStorage');\n        }\n    }\n\n    async lock() {\n        this.analytics.eventTrack.next({ action: 'Lock Now' });\n        await this.lockService.lock();\n        this.router.navigate(['lock']);\n    }\n\n    async logOut() {\n        const confirmed = await this.platformUtilsService.showDialog(\n            this.i18nService.t('logOutConfirmation'), this.i18nService.t('logOut'),\n            this.i18nService.t('yes'), this.i18nService.t('cancel'));\n        if (confirmed) {\n            this.messagingService.send('logout');\n        }\n    }\n\n    async changePassword() {\n        this.analytics.eventTrack.next({ action: 'Clicked Change Password' });\n        const confirmed = await this.platformUtilsService.showDialog(\n            this.i18nService.t('changeMasterPasswordConfirmation'), this.i18nService.t('changeMasterPassword'),\n            this.i18nService.t('yes'), this.i18nService.t('cancel'));\n        if (confirmed) {\n            BrowserApi.createNewTab('https://help.bitwarden.com/article/change-your-master-password/');\n        }\n    }\n\n    async twoStep() {\n        this.analytics.eventTrack.next({ action: 'Clicked Two-step Login' });\n        const confirmed = await this.platformUtilsService.showDialog(\n            this.i18nService.t('twoStepLoginConfirmation'), this.i18nService.t('twoStepLogin'),\n            this.i18nService.t('yes'), this.i18nService.t('cancel'));\n        if (confirmed) {\n            BrowserApi.createNewTab('https://help.bitwarden.com/article/setup-two-step-login/');\n        }\n    }\n\n    async share() {\n        this.analytics.eventTrack.next({ action: 'Clicked Share Vault' });\n        const confirmed = await this.platformUtilsService.showDialog(\n            this.i18nService.t('shareVaultConfirmation'), this.i18nService.t('shareVault'),\n            this.i18nService.t('yes'), this.i18nService.t('cancel'));\n        if (confirmed) {\n            BrowserApi.createNewTab('https://help.bitwarden.com/article/what-is-an-organization/');\n        }\n    }\n\n    async webVault() {\n        this.analytics.eventTrack.next({ action: 'Clicked Web Vault' });\n        let url = this.environmentService.getWebVaultUrl();\n        if (url == null) {\n            url = 'https://vault.bitwarden.com';\n        }\n        BrowserApi.createNewTab(url);\n    }\n\n    import() {\n        this.analytics.eventTrack.next({ action: 'Clicked Import Items' });\n        BrowserApi.createNewTab('https://help.bitwarden.com/article/import-data/');\n    }\n\n    export() {\n        if (this.platformUtilsService.isEdge()) {\n            BrowserApi.createNewTab('https://help.bitwarden.com/article/export-your-data/');\n            return;\n        }\n\n        this.router.navigate(['/export']);\n    }\n\n    help() {\n        this.analytics.eventTrack.next({ action: 'Clicked Help and Feedback' });\n        BrowserApi.createNewTab('https://help.bitwarden.com/');\n    }\n\n    about() {\n        this.analytics.eventTrack.next({ action: 'Clicked About' });\n\n        const year = (new Date()).getFullYear();\n        const versionText = document.createTextNode(\n            this.i18nService.t('version') + ': ' + BrowserApi.getApplicationVersion());\n        const div = document.createElement('div');\n        div.innerHTML = `<p class=\"text-center\"><i class=\"fa fa-shield fa-3x\"></i></p>\n            <p class=\"text-center\"><b>Bitwarden</b><br>&copy; 8bit Solutions LLC 2015-` + year + `</p>`;\n        div.appendChild(versionText);\n\n        swal({\n            content: { element: div },\n            buttons: [this.i18nService.t('close'), false],\n        });\n    }\n\n    rate() {\n        this.analytics.eventTrack.next({ action: 'Rate Extension' });\n        BrowserApi.createNewTab((RateUrls as any)[this.platformUtilsService.getDevice()]);\n    }\n}\n","<header>\n    <div class=\"left\">\n        <app-pop-out></app-pop-out>\n    </div>\n    <div class=\"center\">\n        <span class=\"title\">{{'settings' | i18n}}</span>\n    </div>\n    <div class=\"right\"></div>\n</header>\n<content>\n    <div class=\"box list\">\n        <div class=\"box-header\">{{'manage' | i18n}}</div>\n        <div class=\"box-content single-line\">\n            <a class=\"box-content-row box-content-row-flex text-default\" routerLink=\"/folders\">\n                <div class=\"row-main\">{{'folders' | i18n}}</div>\n                <i class=\"fa fa-chevron-right fa-lg row-sub-icon\"></i>\n            </a>\n            <a class=\"box-content-row box-content-row-flex text-default\" routerLink=\"/sync\">\n                <div class=\"row-main\">{{'sync' | i18n}}</div>\n                <i class=\"fa fa-chevron-right fa-lg row-sub-icon\"></i>\n            </a>\n        </div>\n    </div>\n    <div class=\"box list\">\n        <div class=\"box-header\">{{'security' | i18n}}</div>\n        <div class=\"box-content single-line\">\n            <div class=\"box-content-row display-block\" appBoxRow>\n                <label for=\"lockOption\">{{'lockOptions' | i18n}}</label>\n                <select #lockOptionsSelect id=\"lockOption\" name=\"LockOptions\" [ngModel]=\"lockOption\"\n                        (ngModelChange)=\"saveLockOption($event)\">\n                    <option *ngFor=\"let o of lockOptions\" [ngValue]=\"o.value\">{{o.name}}</option>\n                </select>\n            </div>\n            <a class=\"box-content-row box-content-row-flex text-default\" href=\"#\"\n               appStopClick appBlurClick (click)=\"lock()\">\n                <div class=\"row-main\">{{'lockNow' | i18n}}</div>\n                <i class=\"fa fa-chevron-right fa-lg row-sub-icon\"></i>\n            </a>\n            <a class=\"box-content-row box-content-row-flex text-default\" href=\"#\"\n               appStopClick appBlurClick (click)=\"twoStep()\">\n                <div class=\"row-main\">{{'twoStepLogin' | i18n}}</div>\n                <i class=\"fa fa-chevron-right fa-lg row-sub-icon\"></i>\n            </a>\n        </div>\n    </div>\n    <div class=\"box list\">\n        <div class=\"box-header\">{{'account' | i18n}}</div>\n        <div class=\"box-content single-line\">\n            <a class=\"box-content-row\" routerLink=\"/premium\">\n                <div class=\"row-main\">\n                    <div class=\"icon text-primary\"><i class=\"fa fa-fw fa-lg fa-star\"></i></div>\n                    <span class=\"text text-primary\"><b>{{'premiumMembership' | i18n}}</b></span>\n                </div>\n                <span><i class=\"fa fa-chevron-right fa-lg row-sub-icon\"></i></span>\n            </a>\n            <a class=\"box-content-row box-content-row-flex text-default\" href=\"#\"\n               appStopClick appBlurClick (click)=\"changePassword()\">\n                <div class=\"row-main\">{{'changeMasterPassword' | i18n}}</div>\n                <i class=\"fa fa-chevron-right fa-lg row-sub-icon\"></i>\n            </a>\n            <a class=\"box-content-row box-content-row-flex text-default\" href=\"#\"\n               appStopClick appBlurClick (click)=\"logOut()\">\n                <div class=\"row-main\">{{'logOut' | i18n}}</div>\n                <i class=\"fa fa-chevron-right fa-lg row-sub-icon\"></i>\n            </a>\n        </div>\n    </div>\n    <div class=\"box list\">\n        <div class=\"box-header\">{{'tools' | i18n}}</div>\n        <div class=\"box-content single-line\">\n            <a class=\"box-content-row box-content-row-flex text-default\" href=\"#\"\n               appStopClick appBlurClick (click)=\"import()\">\n                <div class=\"row-main\">{{'importItems' | i18n}}</div>\n                <i class=\"fa fa-chevron-right fa-lg row-sub-icon\"></i>\n            </a>\n            <a class=\"box-content-row box-content-row-flex text-default\" href=\"#\"\n               appStopClick appBlurClick (click)=\"export()\">\n                <div class=\"row-main\">{{'exportVault' | i18n}}</div>\n                <i class=\"fa fa-chevron-right fa-lg row-sub-icon\"></i>\n            </a>\n            <a class=\"box-content-row box-content-row-flex text-default\" href=\"#\"\n               appStopClick appBlurClick (click)=\"share()\">\n                <div class=\"row-main\">{{'shareVault' | i18n}}</div>\n                <i class=\"fa fa-chevron-right fa-lg row-sub-icon\"></i>\n            </a>\n            <a class=\"box-content-row box-content-row-flex text-default\" href=\"#\"\n               appStopClick appBlurClick (click)=\"webVault()\">\n                <div class=\"row-main\">{{'bitWebVault' | i18n}}</div>\n                <i class=\"fa fa-chevron-right fa-lg row-sub-icon\"></i>\n            </a>\n        </div>\n    </div>\n    <div class=\"box list\">\n        <div class=\"box-header\">{{'other' | i18n}}</div>\n        <div class=\"box-content single-line\">\n            <a class=\"box-content-row box-content-row-flex text-default\" routerLink=\"/options\">\n                <div class=\"row-main\">{{'options' | i18n}}</div>\n                <i class=\"fa fa-chevron-right fa-lg row-sub-icon\"></i>\n            </a>\n            <a class=\"box-content-row box-content-row-flex text-default\" href=\"#\"\n               appStopClick appBlurClick (click)=\"about()\">\n                <div class=\"row-main\">{{'about' | i18n}}</div>\n                <i class=\"fa fa-chevron-right fa-lg row-sub-icon\"></i>\n            </a>\n            <a class=\"box-content-row box-content-row-flex text-default\" href=\"#\"\n               appStopClick appBlurClick (click)=\"help()\">\n                <div class=\"row-main\">{{'helpFeedback' | i18n}}</div>\n                <i class=\"fa fa-chevron-right fa-lg row-sub-icon\"></i>\n            </a>\n            <a class=\"box-content-row box-content-row-flex text-default\" href=\"#\"\n               appStopClick appBlurClick (click)=\"rate()\">\n                <div class=\"row-main\">{{'rateExtension' | i18n}}</div>\n                <i class=\"fa fa-chevron-right fa-lg row-sub-icon\"></i>\n            </a>\n        </div>\n        <div class=\"box-footer\">{{'rateExtensionDesc' | i18n}}</div>\n    </div>\n</content>\n","\n        <toaster-container [toasterconfig]=\"toasterConfig\"></toaster-container>\n        <main [@routerTransition]=\"getState(o)\">\n            <router-outlet #o=\"outlet\"></router-outlet>\n        </main>","export abstract class AppIdService {\n    getAppId: () => Promise<string>;\n    getAnonymousAppId: () => Promise<string>;\n}\n","import { EnvironmentService } from './environment.service';\n\nexport abstract class NotificationsService {\n    init: (environmentService: EnvironmentService) => Promise<void>;\n    updateConnection: (sync?: boolean) => Promise<void>;\n    reconnectFromActivity: () => Promise<void>;\n    disconnectFromInactivity: () => Promise<void>;\n}\n","export abstract class SettingsService {\n    clearCache: () => void;\n    getEquivalentDomains: () => Promise<any>;\n    setEquivalentDomains: (equivalentDomains: string[][]) => Promise<any>;\n    clear: (userId: string) => Promise<void>;\n}\n","import { CipherService } from 'jslib/abstractions/cipher.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\n\nimport { SearchService } from 'jslib/services/search.service';\n\nexport class PopupSearchService extends SearchService {\n    constructor(private mainSearchService: SearchService, cipherService: CipherService,\n        platformUtilsService: PlatformUtilsService) {\n        super(cipherService, platformUtilsService);\n    }\n\n    clearIndex() {\n        throw new Error('Not available.');\n    }\n\n    indexCiphers(): Promise<void> {\n        throw new Error('Not available.');\n    }\n\n    getIndexForSearch() {\n        return this.mainSearchService.getIndexForSearch();\n    }\n}\n","import {\n    APP_INITIALIZER,\n    LOCALE_ID,\n    NgModule,\n} from '@angular/core';\n\nimport { ToasterModule } from 'angular2-toaster';\n\nimport { LaunchGuardService } from './launch-guard.service';\n\nimport { AuthGuardService } from 'jslib/angular/services/auth-guard.service';\nimport { BroadcasterService } from 'jslib/angular/services/broadcaster.service';\nimport { ValidationService } from 'jslib/angular/services/validation.service';\n\nimport { BrowserApi } from '../../browser/browserApi';\n\nimport { ApiService } from 'jslib/abstractions/api.service';\nimport { AppIdService } from 'jslib/abstractions/appId.service';\nimport { AuditService } from 'jslib/abstractions/audit.service';\nimport { AuthService as AuthServiceAbstraction } from 'jslib/abstractions/auth.service';\nimport { CipherService } from 'jslib/abstractions/cipher.service';\nimport { CollectionService } from 'jslib/abstractions/collection.service';\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { EnvironmentService } from 'jslib/abstractions/environment.service';\nimport { ExportService } from 'jslib/abstractions/export.service';\nimport { FolderService } from 'jslib/abstractions/folder.service';\nimport { I18nService } from 'jslib/abstractions/i18n.service';\nimport { LockService } from 'jslib/abstractions/lock.service';\nimport { MessagingService } from 'jslib/abstractions/messaging.service';\nimport { NotificationsService } from 'jslib/abstractions/notifications.service';\nimport { PasswordGenerationService } from 'jslib/abstractions/passwordGeneration.service';\nimport { PlatformUtilsService } from 'jslib/abstractions/platformUtils.service';\nimport { SearchService as SearchServiceAbstraction } from 'jslib/abstractions/search.service';\nimport { SettingsService } from 'jslib/abstractions/settings.service';\nimport { StateService as StateServiceAbstraction } from 'jslib/abstractions/state.service';\nimport { StorageService } from 'jslib/abstractions/storage.service';\nimport { SyncService } from 'jslib/abstractions/sync.service';\nimport { TokenService } from 'jslib/abstractions/token.service';\nimport { TotpService } from 'jslib/abstractions/totp.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\nimport { AutofillService } from '../../services/abstractions/autofill.service';\nimport BrowserMessagingService from '../../services/browserMessaging.service';\n\nimport { AuthService } from 'jslib/services/auth.service';\nimport { ConstantsService } from 'jslib/services/constants.service';\nimport { SearchService } from 'jslib/services/search.service';\nimport { StateService } from 'jslib/services/state.service';\n\nimport { Analytics } from 'jslib/misc/analytics';\n\nimport { PopupSearchService } from './popup-search.service';\nimport { PopupUtilsService } from './popup-utils.service';\n\nfunction getBgService<T>(service: string) {\n    return (): T => {\n        const page = BrowserApi.getBackgroundPage();\n        return page ? page.bitwardenMain[service] as T : null;\n    };\n}\n\nexport const stateService = new StateService();\nexport const messagingService = new BrowserMessagingService();\nexport const authService = new AuthService(getBgService<CryptoService>('cryptoService')(),\n    getBgService<ApiService>('apiService')(), getBgService<UserService>('userService')(),\n    getBgService<TokenService>('tokenService')(), getBgService<AppIdService>('appIdService')(),\n    getBgService<I18nService>('i18nService')(), getBgService<PlatformUtilsService>('platformUtilsService')(),\n    messagingService);\nexport const searchService = new PopupSearchService(getBgService<SearchService>('searchService')(),\n    getBgService<CipherService>('cipherService')(), getBgService<PlatformUtilsService>('platformUtilsService')());\n\nexport function initFactory(i18nService: I18nService, storageService: StorageService,\n    popupUtilsService: PopupUtilsService): Function {\n    return async () => {\n        if (!popupUtilsService.inPopup(window)) {\n            window.document.body.classList.add('body-full');\n        } else if (window.screen.availHeight < 600) {\n            window.document.body.classList.add('body-xs');\n        } else if (window.screen.availHeight <= 800) {\n            window.document.body.classList.add('body-sm');\n        }\n\n        if (BrowserApi.getBackgroundPage() != null) {\n            stateService.save(ConstantsService.disableFaviconKey,\n                await storageService.get<boolean>(ConstantsService.disableFaviconKey));\n\n            let theme = await storageService.get<string>(ConstantsService.themeKey);\n            if (theme == null) {\n                theme = 'light';\n            }\n            window.document.documentElement.classList.add('locale_' + i18nService.translationLocale);\n            window.document.documentElement.classList.add('theme_' + theme);\n\n            authService.init();\n\n            const analytics = new Analytics(window, () => BrowserApi.gaFilter(), null, null, null, () => {\n                const bgPage = BrowserApi.getBackgroundPage();\n                if (bgPage == null || bgPage.bitwardenMain == null) {\n                    throw new Error('Cannot resolve background page main.');\n                }\n                return bgPage.bitwardenMain;\n            });\n        }\n    };\n}\n\n@NgModule({\n    imports: [\n        ToasterModule,\n    ],\n    declarations: [],\n    providers: [\n        ValidationService,\n        AuthGuardService,\n        LaunchGuardService,\n        PopupUtilsService,\n        BroadcasterService,\n        { provide: MessagingService, useValue: messagingService },\n        { provide: AuthServiceAbstraction, useValue: authService },\n        { provide: StateServiceAbstraction, useValue: stateService },\n        { provide: SearchServiceAbstraction, useValue: searchService },\n        { provide: AuditService, useFactory: getBgService<AuditService>('auditService'), deps: [] },\n        { provide: CipherService, useFactory: getBgService<CipherService>('cipherService'), deps: [] },\n        { provide: FolderService, useFactory: getBgService<FolderService>('folderService'), deps: [] },\n        { provide: CollectionService, useFactory: getBgService<CollectionService>('collectionService'), deps: [] },\n        { provide: EnvironmentService, useFactory: getBgService<EnvironmentService>('environmentService'), deps: [] },\n        { provide: TotpService, useFactory: getBgService<TotpService>('totpService'), deps: [] },\n        { provide: TokenService, useFactory: getBgService<TokenService>('tokenService'), deps: [] },\n        { provide: I18nService, useFactory: getBgService<I18nService>('i18nService'), deps: [] },\n        { provide: CryptoService, useFactory: getBgService<CryptoService>('cryptoService'), deps: [] },\n        {\n            provide: PlatformUtilsService,\n            useFactory: getBgService<PlatformUtilsService>('platformUtilsService'),\n            deps: [],\n        },\n        {\n            provide: PasswordGenerationService,\n            useFactory: getBgService<PasswordGenerationService>('passwordGenerationService'),\n            deps: [],\n        },\n        { provide: ApiService, useFactory: getBgService<ApiService>('apiService'), deps: [] },\n        { provide: SyncService, useFactory: getBgService<SyncService>('syncService'), deps: [] },\n        { provide: UserService, useFactory: getBgService<UserService>('userService'), deps: [] },\n        { provide: SettingsService, useFactory: getBgService<SettingsService>('settingsService'), deps: [] },\n        { provide: LockService, useFactory: getBgService<LockService>('lockService'), deps: [] },\n        { provide: StorageService, useFactory: getBgService<StorageService>('storageService'), deps: [] },\n        { provide: AppIdService, useFactory: getBgService<AppIdService>('appIdService'), deps: [] },\n        { provide: AutofillService, useFactory: getBgService<AutofillService>('autofillService'), deps: [] },\n        { provide: ExportService, useFactory: getBgService<ExportService>('exportService'), deps: [] },\n        {\n            provide: NotificationsService,\n            useFactory: getBgService<NotificationsService>('notificationsService'),\n            deps: [],\n        },\n        {\n            provide: APP_INITIALIZER,\n            useFactory: initFactory,\n            deps: [I18nService, StorageService, PopupUtilsService],\n            multi: true,\n        },\n        {\n            provide: LOCALE_ID,\n            useFactory: () => getBgService<I18nService>('i18nService')().translationLocale,\n            deps: [],\n        },\n    ],\n})\nexport class ServicesModule {\n}\n","import { Injectable } from '@angular/core';\nimport {\n    CanActivate,\n    Router,\n} from '@angular/router';\n\nimport { CryptoService } from '../../abstractions/crypto.service';\nimport { MessagingService } from '../../abstractions/messaging.service';\nimport { UserService } from '../../abstractions/user.service';\n\n@Injectable()\nexport class AuthGuardService implements CanActivate {\n    constructor(private cryptoService: CryptoService, private userService: UserService, private router: Router,\n        private messagingService: MessagingService) { }\n\n    async canActivate() {\n        const isAuthed = await this.userService.isAuthenticated();\n        if (!isAuthed) {\n            this.messagingService.send('logout');\n            return false;\n        }\n\n        const hasKey = await this.cryptoService.hasKey();\n        if (!hasKey) {\n            this.router.navigate(['lock']);\n            return false;\n        }\n\n        return true;\n    }\n}\n","import { BrowserApi } from '../../browser/browserApi';\n\nimport { Injectable } from '@angular/core';\nimport {\n    CanActivate,\n    Router,\n} from '@angular/router';\n\nimport { CryptoService } from 'jslib/abstractions/crypto.service';\nimport { UserService } from 'jslib/abstractions/user.service';\n\n@Injectable()\nexport class LaunchGuardService implements CanActivate {\n    constructor(private cryptoService: CryptoService, private userService: UserService, private router: Router) { }\n\n    async canActivate() {\n        if (BrowserApi.getBackgroundPage() == null) {\n            if (BrowserApi.isEdge18) {\n                // tslint:disable-next-line\n                console.log('getBackgroundPage is null from launch guard.');\n            }\n            this.router.navigate(['private-mode']);\n            return false;\n        }\n\n        const isAuthed = await this.userService.isAuthenticated();\n        if (!isAuthed) {\n            return true;\n        }\n\n        const hasKey = await this.cryptoService.hasKey();\n        if (!hasKey) {\n            this.router.navigate(['lock']);\n        } else {\n            this.router.navigate(['tabs/current']);\n        }\n\n        return false;\n    }\n}\n","import { NgModule } from '@angular/core';\nimport {\n    RouterModule,\n    Routes,\n} from '@angular/router';\n\nimport { AuthGuardService } from 'jslib/angular/services/auth-guard.service';\n\nimport { LaunchGuardService } from './services/launch-guard.service';\n\nimport { EnvironmentComponent } from './accounts/environment.component';\nimport { HintComponent } from './accounts/hint.component';\nimport { HomeComponent } from './accounts/home.component';\nimport { LockComponent } from './accounts/lock.component';\nimport { LoginComponent } from './accounts/login.component';\nimport { RegisterComponent } from './accounts/register.component';\nimport { TwoFactorOptionsComponent } from './accounts/two-factor-options.component';\nimport { TwoFactorComponent } from './accounts/two-factor.component';\nimport { PasswordGeneratorHistoryComponent } from './generator/password-generator-history.component';\nimport { PasswordGeneratorComponent } from './generator/password-generator.component';\nimport { PrivateModeComponent } from './private-mode.component';\nimport { ExportComponent } from './settings/export.component';\nimport { FolderAddEditComponent } from './settings/folder-add-edit.component';\nimport { FoldersComponent } from './settings/folders.component';\nimport { OptionsComponent } from './settings/options.component';\nimport { PremiumComponent } from './settings/premium.component';\nimport { SettingsComponent } from './settings/settings.component';\nimport { SyncComponent } from './settings/sync.component';\nimport { TabsComponent } from './tabs.component';\nimport { AddEditComponent } from './vault/add-edit.component';\nimport { AttachmentsComponent } from './vault/attachments.component';\nimport { CiphersComponent } from './vault/ciphers.component';\nimport { CurrentTabComponent } from './vault/current-tab.component';\nimport { GroupingsComponent } from './vault/groupings.component';\nimport { PasswordHistoryComponent } from './vault/password-history.component';\nimport { ViewComponent } from './vault/view.component';\n\nconst routes: Routes = [\n    {\n        path: '',\n        redirectTo: 'home',\n        pathMatch: 'full',\n    },\n    {\n        path: 'vault',\n        redirectTo: '/tabs/vault',\n        pathMatch: 'full',\n    },\n    {\n        path: 'home',\n        component: HomeComponent,\n        canActivate: [LaunchGuardService],\n        data: { state: 'home' },\n    },\n    {\n        path: 'login',\n        component: LoginComponent,\n        canActivate: [LaunchGuardService],\n        data: { state: 'login' },\n    },\n    {\n        path: 'lock',\n        component: LockComponent,\n        data: { state: 'lock' },\n    },\n    {\n        path: '2fa',\n        component: TwoFactorComponent,\n        canActivate: [LaunchGuardService],\n        data: { state: '2fa' },\n    },\n    {\n        path: '2fa-options',\n        component: TwoFactorOptionsComponent,\n        canActivate: [LaunchGuardService],\n        data: { state: '2fa-options' },\n    },\n    {\n        path: 'register',\n        component: RegisterComponent,\n        canActivate: [LaunchGuardService],\n        data: { state: 'register' },\n    },\n    {\n        path: 'hint',\n        component: HintComponent,\n        canActivate: [LaunchGuardService],\n        data: { state: 'hint' },\n    },\n    {\n        path: 'environment',\n        component: EnvironmentComponent,\n        canActivate: [LaunchGuardService],\n        data: { state: 'environment' },\n    },\n    {\n        path: 'ciphers',\n        component: CiphersComponent,\n        canActivate: [AuthGuardService],\n        data: { state: 'ciphers' },\n    },\n    {\n        path: 'view-cipher',\n        component: ViewComponent,\n        canActivate: [AuthGuardService],\n        data: { state: 'view-cipher' },\n    },\n    {\n        path: 'cipher-password-history',\n        component: PasswordHistoryComponent,\n        canActivate: [AuthGuardService],\n        data: { state: 'cipher-password-history' },\n    },\n    {\n        path: 'add-cipher',\n        component: AddEditComponent,\n        canActivate: [AuthGuardService],\n        data: { state: 'add-cipher' },\n    },\n    {\n        path: 'edit-cipher',\n        component: AddEditComponent,\n        canActivate: [AuthGuardService],\n        data: { state: 'edit-cipher' },\n    },\n    {\n        path: 'attachments',\n        component: AttachmentsComponent,\n        canActivate: [AuthGuardService],\n        data: { state: 'attachments' },\n    },\n    {\n        path: 'generator',\n        component: PasswordGeneratorComponent,\n        canActivate: [AuthGuardService],\n        data: { state: 'generator' },\n    },\n    {\n        path: 'generator-history',\n        component: PasswordGeneratorHistoryComponent,\n        canActivate: [AuthGuardService],\n        data: { state: 'generator-history' },\n    },\n    {\n        path: 'export',\n        component: ExportComponent,\n        canActivate: [AuthGuardService],\n        data: { state: 'export' },\n    },\n    {\n        path: 'folders',\n        component: FoldersComponent,\n        canActivate: [AuthGuardService],\n        data: { state: 'folders' },\n    },\n    {\n        path: 'add-folder',\n        component: FolderAddEditComponent,\n        canActivate: [AuthGuardService],\n        data: { state: 'add-folder' },\n    },\n    {\n        path: 'edit-folder',\n        component: FolderAddEditComponent,\n        canActivate: [AuthGuardService],\n        data: { state: 'edit-folder' },\n    },\n    {\n        path: 'sync',\n        component: SyncComponent,\n        canActivate: [AuthGuardService],\n        data: { state: 'sync' },\n    },\n    {\n        path: 'premium',\n        component: PremiumComponent,\n        canActivate: [AuthGuardService],\n        data: { state: 'premium' },\n    },\n    {\n        path: 'options',\n        component: OptionsComponent,\n        canActivate: [AuthGuardService],\n        data: { state: 'options' },\n    },\n    {\n        path: 'private-mode',\n        component: PrivateModeComponent,\n        data: { state: 'private-mode' },\n    },\n    {\n        path: 'tabs',\n        component: TabsComponent,\n        data: { state: 'tabs' },\n        children: [\n            {\n                path: '',\n                redirectTo: '/tabs/vault',\n                pathMatch: 'full',\n            },\n            {\n                path: 'current',\n                component: CurrentTabComponent,\n                canActivate: [AuthGuardService],\n                data: { state: 'tabs_current' },\n            },\n            {\n                path: 'vault',\n                component: GroupingsComponent,\n                canActivate: [AuthGuardService],\n                data: { state: 'tabs_vault' },\n            },\n            {\n                path: 'generator',\n                component: PasswordGeneratorComponent,\n                canActivate: [AuthGuardService],\n                data: { state: 'tabs_generator' },\n            },\n            {\n                path: 'settings',\n                component: SettingsComponent,\n                canActivate: [AuthGuardService],\n                data: { state: 'tabs_settings' },\n            },\n        ],\n    },\n];\n\n@NgModule({\n    imports: [RouterModule.forRoot(routes, {\n        useHash: true,\n        /*enableTracing: true,*/\n    })],\n    exports: [RouterModule],\n})\nexport class AppRoutingModule { }\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport 'web-animations-js';\n\n// tslint:disable-next-line\nrequire('./scss/popup.scss');\n\nimport { BrowserApi } from '../browser/browserApi';\nimport { AppModule } from './app.module';\n\nif (process.env.ENV === 'production') {\n    enableProdMode();\n}\n\nfunction init() {\n    if (BrowserApi.isEdge18) {\n        const inPopup = window.location.search === '' || window.location.search.indexOf('uilocation=') === -1 ||\n            window.location.search.indexOf('uilocation=popup') > -1;\n        if (inPopup) {\n            const bodyRect = document.querySelector('body').getBoundingClientRect();\n            chrome.windows.create({\n                url: 'popup/index.html?uilocation=popout',\n                type: 'popup',\n                width: bodyRect.width + 60,\n                height: bodyRect.height,\n            });\n            BrowserApi.closePopup(window);\n            return;\n        }\n    }\n\n    platformBrowserDynamic().bootstrapModule(AppModule, { preserveWhitespaces: true });\n}\n\ninit();\n","export enum TwoFactorProviderType {\n    Authenticator = 0,\n    Email = 1,\n    Duo = 2,\n    Yubikey = 3,\n    U2f = 4,\n    Remember = 5,\n    OrganizationDuo = 6,\n}\n","export class BrowserApi {\n    static isWebExtensionsApi: boolean = (typeof browser !== 'undefined');\n    static isSafariApi: boolean = (typeof safari !== 'undefined') &&\n        navigator.userAgent.indexOf(' Safari/') !== -1 && navigator.userAgent.indexOf('Chrome') === -1;\n    static isChromeApi: boolean = !BrowserApi.isSafariApi && (typeof chrome !== 'undefined');\n    static isFirefoxOnAndroid: boolean = navigator.userAgent.indexOf('Firefox/') !== -1 &&\n        navigator.userAgent.indexOf('Android') !== -1;\n    static isEdge18: boolean = navigator.userAgent.indexOf(' Edge/18.') !== -1;\n\n    static async getTabFromCurrentWindowId(): Promise<any> {\n        if (BrowserApi.isChromeApi) {\n            return await BrowserApi.tabsQueryFirst({\n                active: true,\n                windowId: chrome.windows.WINDOW_ID_CURRENT,\n            });\n        } else if (BrowserApi.isSafariApi) {\n            return await BrowserApi.getTabFromCurrentWindow();\n        }\n    }\n\n    static async getTabFromCurrentWindow(): Promise<any> {\n        return await BrowserApi.tabsQueryFirst({\n            active: true,\n            currentWindow: true,\n        });\n    }\n\n    static async getActiveTabs(): Promise<any[]> {\n        return await BrowserApi.tabsQuery({\n            active: true,\n        });\n    }\n\n    static tabsQuery(options: any): Promise<any[]> {\n        if (BrowserApi.isChromeApi) {\n            return new Promise((resolve) => {\n                chrome.tabs.query(options, (tabs: any[]) => {\n                    resolve(tabs);\n                });\n            });\n        } else if (BrowserApi.isSafariApi) {\n            let wins: any[] = [];\n            if (options.currentWindow) {\n                if (safari.application.activeBrowserWindow) {\n                    wins.push(safari.application.activeBrowserWindow);\n                }\n            } else {\n                wins = safari.application.browserWindows;\n            }\n\n            const returnedTabs: any[] = [];\n            wins.forEach((win: any) => {\n                if (!win.tabs) {\n                    return;\n                }\n\n                if (options.active && win.activeTab) {\n                    returnedTabs.push(BrowserApi.makeTabObject(win.activeTab));\n                } else if (!options.active) {\n                    win.tabs.forEach((tab: any) => {\n                        returnedTabs.push(BrowserApi.makeTabObject(tab));\n                    });\n                }\n            });\n\n            return Promise.resolve(returnedTabs);\n        }\n    }\n\n    static async tabsQueryFirst(options: any): Promise<any> {\n        const tabs = await BrowserApi.tabsQuery(options);\n        if (tabs.length > 0) {\n            return tabs[0];\n        }\n\n        return null;\n    }\n\n    static tabSendMessageData(tab: any, command: string, data: any = null): Promise<any[]> {\n        const obj: any = {\n            command: command,\n        };\n\n        if (data != null) {\n            obj.data = data;\n        }\n\n        return BrowserApi.tabSendMessage(tab, obj);\n    }\n\n    static tabSendMessage(tab: any, obj: any, options: any = null): Promise<any> {\n        if (!tab || !tab.id) {\n            return;\n        }\n\n        if (BrowserApi.isChromeApi) {\n            return new Promise((resolve) => {\n                chrome.tabs.sendMessage(tab.id, obj, options, () => {\n                    if (chrome.runtime.lastError) {\n                        // Some error happened\n                    }\n                    resolve();\n                });\n            });\n        } else if (BrowserApi.isSafariApi) {\n            let t = tab.safariTab;\n            if (!t || !t.page) {\n                const win = safari.application.activeBrowserWindow;\n                if (safari.application.browserWindows.indexOf(win) !== tab.windowId) {\n                    return Promise.reject('Window not found.');\n                }\n\n                if (win.tabs.length < tab.index + 1) {\n                    return Promise.reject('Tab not found.');\n                }\n\n                t = win.tabs[tab.index];\n            }\n\n            if (obj.tab && obj.tab.safariTab) {\n                delete obj.tab.safariTab;\n            }\n\n            if (options != null && options.frameId != null && obj.bitwardenFrameId == null) {\n                obj.bitwardenFrameId = options.frameId;\n            }\n\n            if (t.page) {\n                t.page.dispatchMessage('bitwarden', obj);\n            }\n\n            return Promise.resolve();\n        }\n    }\n\n    static getBackgroundPage(): any {\n        if (BrowserApi.isChromeApi) {\n            return chrome.extension.getBackgroundPage();\n        } else if (BrowserApi.isSafariApi) {\n            return safari.extension.globalPage.contentWindow;\n        } else {\n            return null;\n        }\n    }\n\n    static getApplicationVersion(): string {\n        if (BrowserApi.isChromeApi) {\n            return chrome.runtime.getManifest().version;\n        } else if (BrowserApi.isSafariApi) {\n            return safari.extension.displayVersion;\n        } else {\n            return null;\n        }\n    }\n\n    static isPopupOpen(): boolean {\n        if (BrowserApi.isChromeApi) {\n            return chrome.extension.getViews({ type: 'popup' }).length > 0;\n        } else if (BrowserApi.isSafariApi) {\n            return safari.extension.popovers && safari.extension.popovers.length &&\n                safari.extension.popovers[0].visible;\n        } else {\n            return null;\n        }\n    }\n\n    static createNewTab(url: string, extensionPage: boolean = false): any {\n        if (BrowserApi.isChromeApi) {\n            chrome.tabs.create({ url: url });\n            return null;\n        } else if (BrowserApi.isSafariApi) {\n            if (extensionPage && url.indexOf('/') === 0) {\n                url = BrowserApi.getAssetUrl(url);\n            }\n            const tab = safari.application.activeBrowserWindow.openTab();\n            if (tab) {\n                tab.url = url;\n            }\n            return tab;\n        } else {\n            return;\n        }\n    }\n\n    static getAssetUrl(path: string): string {\n        if (BrowserApi.isChromeApi) {\n            return chrome.extension.getURL(path);\n        } else if (BrowserApi.isSafariApi) {\n            if (path.indexOf('/') === 0) {\n                path = path.substr(1);\n            }\n            return safari.extension.baseURI + path;\n        } else {\n            return null;\n        }\n    }\n\n    static messageListener(callback: (message: any, sender: any, response: any) => void) {\n        if (BrowserApi.isChromeApi) {\n            chrome.runtime.onMessage.addListener((msg: any, sender: any, response: any) => {\n                callback(msg, sender, response);\n            });\n        } else if (BrowserApi.isSafariApi) {\n            safari.application.addEventListener('message', async (msgEvent: any) => {\n                callback(msgEvent.message, {\n                    tab: BrowserApi.makeTabObject(msgEvent.target),\n                    frameId: msgEvent.message != null && msgEvent.message.bitwardenFrameId != null ?\n                        msgEvent.message.bitwardenFrameId : null,\n                }, () => { /* No responses in Safari */ });\n            }, false);\n        }\n    }\n\n    static closePopup(win: Window) {\n        if (BrowserApi.isWebExtensionsApi && BrowserApi.isFirefoxOnAndroid) {\n            // Reactivating the active tab dismisses the popup tab. The promise final\n            // condition is only called if the popup wasn't already dismissed (future proofing).\n            // ref: https://bugzilla.mozilla.org/show_bug.cgi?id=1433604\n            browser.tabs.update({ active: true }).finally(win.close);\n        } else if (BrowserApi.isWebExtensionsApi || BrowserApi.isChromeApi) {\n            win.close();\n        } else if (BrowserApi.isSafariApi && safari.extension.popovers && safari.extension.popovers.length > 0) {\n            safari.extension.popovers[0].hide();\n        }\n    }\n\n    static downloadFile(win: Window, blobData: any, blobOptions: any, fileName: string) {\n        if (BrowserApi.isSafariApi) {\n            const tab = BrowserApi.createNewTab(BrowserApi.getAssetUrl('downloader/index.html'));\n            const tabToSend = BrowserApi.makeTabObject(tab);\n            setTimeout(async () => {\n                BrowserApi.tabSendMessage(tabToSend, {\n                    command: 'downloaderPageData',\n                    data: {\n                        blobData: blobData,\n                        blobOptions: blobOptions,\n                        fileName: fileName,\n                    },\n                });\n            }, 1000);\n        } else {\n            const blob = new Blob([blobData], blobOptions);\n            if (navigator.msSaveOrOpenBlob) {\n                navigator.msSaveBlob(blob, fileName);\n            } else {\n                const a = win.document.createElement('a');\n                a.href = win.URL.createObjectURL(blob);\n                a.download = fileName;\n                win.document.body.appendChild(a);\n                a.click();\n                win.document.body.removeChild(a);\n            }\n        }\n    }\n\n    static makeTabObject(tab: any): any {\n        if (BrowserApi.isChromeApi) {\n            return tab;\n        }\n\n        if (!tab.browserWindow) {\n            return {};\n        }\n\n        const winIndex = safari.application.browserWindows.indexOf(tab.browserWindow);\n        const tabIndex = tab.browserWindow.tabs.indexOf(tab);\n        return {\n            id: winIndex + '_' + tabIndex,\n            index: tabIndex,\n            windowId: winIndex,\n            title: tab.title,\n            active: tab === tab.browserWindow.activeTab,\n            url: tab.url || 'about:blank',\n            safariTab: tab,\n        };\n    }\n\n    static gaFilter() {\n        return process.env.ENV !== 'production' ||\n            (BrowserApi.isSafariApi && safari.application.activeBrowserWindow.activeTab.private);\n    }\n\n    static getUILanguage(win: Window) {\n        if (BrowserApi.isSafariApi) {\n            return win.navigator.language;\n        } else {\n            return chrome.i18n.getUILanguage();\n        }\n    }\n}\n","import { CipherType } from '../../enums/cipherType';\n\nimport { Cipher } from '../domain/cipher';\n\nimport { AttachmentView } from './attachmentView';\nimport { CardView } from './cardView';\nimport { FieldView } from './fieldView';\nimport { IdentityView } from './identityView';\nimport { LoginView } from './loginView';\nimport { PasswordHistoryView } from './passwordHistoryView';\nimport { SecureNoteView } from './secureNoteView';\nimport { View } from './view';\n\nexport class CipherView implements View {\n    id: string;\n    organizationId: string;\n    folderId: string;\n    name: string;\n    notes: string;\n    type: CipherType;\n    favorite = false;\n    organizationUseTotp = false;\n    edit = false;\n    localData: any;\n    login: LoginView;\n    identity: IdentityView;\n    card: CardView;\n    secureNote: SecureNoteView;\n    attachments: AttachmentView[];\n    fields: FieldView[];\n    passwordHistory: PasswordHistoryView[];\n    collectionIds: string[];\n    revisionDate: Date;\n\n    constructor(c?: Cipher) {\n        if (!c) {\n            return;\n        }\n\n        this.id = c.id;\n        this.organizationId = c.organizationId;\n        this.folderId = c.folderId;\n        this.favorite = c.favorite;\n        this.organizationUseTotp = c.organizationUseTotp;\n        this.edit = c.edit;\n        this.type = c.type;\n        this.localData = c.localData;\n        this.collectionIds = c.collectionIds;\n        this.revisionDate = c.revisionDate;\n    }\n\n    get subTitle(): string {\n        switch (this.type) {\n            case CipherType.Login:\n                return this.login.subTitle;\n            case CipherType.SecureNote:\n                return this.secureNote.subTitle;\n            case CipherType.Card:\n                return this.card.subTitle;\n            case CipherType.Identity:\n                return this.identity.subTitle;\n            default:\n                break;\n        }\n\n        return null;\n    }\n\n    get hasPasswordHistory(): boolean {\n        return this.passwordHistory && this.passwordHistory.length > 0;\n    }\n\n    get hasAttachments(): boolean {\n        return this.attachments && this.attachments.length > 0;\n    }\n\n    get hasFields(): boolean {\n        return this.fields && this.fields.length > 0;\n    }\n\n    get passwordRevisionDisplayDate(): Date {\n        if (this.login == null) {\n            return null;\n        } else if (this.login.password == null || this.login.password === '') {\n            return null;\n        }\n        return this.login.passwordRevisionDate;\n    }\n}\n","import { TwoFactorProviderType } from '../../enums/twoFactorProviderType';\n\nexport class AuthResult {\n    twoFactor: boolean = false;\n    twoFactorProviders: Map<TwoFactorProviderType, { [key: string]: string; }> = null;\n}\n","import { DeviceType } from '../../enums/deviceType';\n\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\n\nexport class DeviceRequest {\n    type: DeviceType;\n    name: string;\n    identifier: string;\n    pushToken?: string;\n\n    constructor(appId: string, platformUtilsService: PlatformUtilsService) {\n        this.type = platformUtilsService.getDevice();\n        this.name = platformUtilsService.getDeviceString();\n        this.identifier = appId;\n        this.pushToken = null;\n    }\n}\n","export class PreloginRequest {\n    email: string;\n\n    constructor(email: string) {\n        this.email = email;\n    }\n}\n","import { TwoFactorProviderType } from '../../enums/twoFactorProviderType';\n\nimport { DeviceRequest } from './deviceRequest';\n\nexport class TokenRequest {\n    email: string;\n    masterPasswordHash: string;\n    token: string;\n    provider: TwoFactorProviderType;\n    remember: boolean;\n    device?: DeviceRequest;\n\n    constructor(email: string, masterPasswordHash: string, provider: TwoFactorProviderType,\n        token: string, remember: boolean, device?: DeviceRequest) {\n        this.email = email;\n        this.masterPasswordHash = masterPasswordHash;\n        this.token = token;\n        this.provider = provider;\n        this.remember = remember;\n        this.device = device != null ? device : null;\n    }\n\n    toIdentityToken(clientId: string) {\n        const obj: any = {\n            grant_type: 'password',\n            username: this.email,\n            password: this.masterPasswordHash,\n            scope: 'api offline_access',\n            client_id: clientId,\n        };\n\n        if (this.device) {\n            obj.deviceType = this.device.type;\n            obj.deviceIdentifier = this.device.identifier;\n            obj.deviceName = this.device.name;\n            // no push tokens for browser apps yet\n            // obj.devicePushToken = this.device.pushToken;\n        }\n\n        if (this.token && this.provider != null) {\n            obj.twoFactorToken = this.token;\n            obj.twoFactorProvider = this.provider;\n            obj.twoFactorRemember = this.remember ? '1' : '0';\n        }\n\n        return obj;\n    }\n}\n","import { KdfType } from '../enums/kdfType';\nimport { TwoFactorProviderType } from '../enums/twoFactorProviderType';\n\nimport { AuthResult } from '../models/domain/authResult';\nimport { SymmetricCryptoKey } from '../models/domain/symmetricCryptoKey';\n\nimport { DeviceRequest } from '../models/request/deviceRequest';\nimport { KeysRequest } from '../models/request/keysRequest';\nimport { PreloginRequest } from '../models/request/preloginRequest';\nimport { TokenRequest } from '../models/request/tokenRequest';\n\nimport { ErrorResponse } from '../models/response/errorResponse';\nimport { IdentityTokenResponse } from '../models/response/identityTokenResponse';\nimport { IdentityTwoFactorResponse } from '../models/response/identityTwoFactorResponse';\n\nimport { ApiService } from '../abstractions/api.service';\nimport { AppIdService } from '../abstractions/appId.service';\nimport { CryptoService } from '../abstractions/crypto.service';\nimport { I18nService } from '../abstractions/i18n.service';\nimport { MessagingService } from '../abstractions/messaging.service';\nimport { PlatformUtilsService } from '../abstractions/platformUtils.service';\nimport { TokenService } from '../abstractions/token.service';\nimport { UserService } from '../abstractions/user.service';\n\nexport const TwoFactorProviders = {\n    [TwoFactorProviderType.Authenticator]: {\n        type: TwoFactorProviderType.Authenticator,\n        name: null as string,\n        description: null as string,\n        priority: 1,\n        sort: 1,\n        premium: false,\n    },\n    [TwoFactorProviderType.Yubikey]: {\n        type: TwoFactorProviderType.Yubikey,\n        name: null as string,\n        description: null as string,\n        priority: 3,\n        sort: 2,\n        premium: true,\n    },\n    [TwoFactorProviderType.Duo]: {\n        type: TwoFactorProviderType.Duo,\n        name: 'Duo',\n        description: null as string,\n        priority: 2,\n        sort: 3,\n        premium: true,\n    },\n    [TwoFactorProviderType.OrganizationDuo]: {\n        type: TwoFactorProviderType.OrganizationDuo,\n        name: 'Duo (Organization)',\n        description: null as string,\n        priority: 10,\n        sort: 4,\n        premium: false,\n    },\n    [TwoFactorProviderType.U2f]: {\n        type: TwoFactorProviderType.U2f,\n        name: null as string,\n        description: null as string,\n        priority: 4,\n        sort: 5,\n        premium: true,\n    },\n    [TwoFactorProviderType.Email]: {\n        type: TwoFactorProviderType.Email,\n        name: null as string,\n        description: null as string,\n        priority: 0,\n        sort: 6,\n        premium: false,\n    },\n};\n\nexport class AuthService {\n    email: string;\n    masterPasswordHash: string;\n    twoFactorProviders: Map<TwoFactorProviderType, { [key: string]: string; }>;\n    selectedTwoFactorProviderType: TwoFactorProviderType = null;\n\n    private key: SymmetricCryptoKey;\n    private kdf: KdfType;\n    private kdfIterations: number;\n\n    constructor(private cryptoService: CryptoService, private apiService: ApiService,\n        private userService: UserService, private tokenService: TokenService,\n        private appIdService: AppIdService, private i18nService: I18nService,\n        private platformUtilsService: PlatformUtilsService, private messagingService: MessagingService,\n        private setCryptoKeys = true) { }\n\n    init() {\n        TwoFactorProviders[TwoFactorProviderType.Email].name = this.i18nService.t('emailTitle');\n        TwoFactorProviders[TwoFactorProviderType.Email].description = this.i18nService.t('emailDesc');\n\n        TwoFactorProviders[TwoFactorProviderType.Authenticator].name = this.i18nService.t('authenticatorAppTitle');\n        TwoFactorProviders[TwoFactorProviderType.Authenticator].description =\n            this.i18nService.t('authenticatorAppDesc');\n\n        TwoFactorProviders[TwoFactorProviderType.Duo].description = this.i18nService.t('duoDesc');\n\n        TwoFactorProviders[TwoFactorProviderType.OrganizationDuo].name =\n            'Duo (' + this.i18nService.t('organization') + ')';\n        TwoFactorProviders[TwoFactorProviderType.OrganizationDuo].description =\n            this.i18nService.t('duoOrganizationDesc');\n\n        TwoFactorProviders[TwoFactorProviderType.U2f].name = this.i18nService.t('u2fTitle');\n        TwoFactorProviders[TwoFactorProviderType.U2f].description = this.i18nService.t('u2fDesc');\n\n        TwoFactorProviders[TwoFactorProviderType.Yubikey].name = this.i18nService.t('yubiKeyTitle');\n        TwoFactorProviders[TwoFactorProviderType.Yubikey].description = this.i18nService.t('yubiKeyDesc');\n    }\n\n    async logIn(email: string, masterPassword: string): Promise<AuthResult> {\n        this.selectedTwoFactorProviderType = null;\n        const key = await this.makePreloginKey(masterPassword, email);\n        const hashedPassword = await this.cryptoService.hashPassword(masterPassword, key);\n        return await this.logInHelper(email, hashedPassword, key);\n    }\n\n    async logInTwoFactor(twoFactorProvider: TwoFactorProviderType, twoFactorToken: string,\n        remember?: boolean): Promise<AuthResult> {\n        return await this.logInHelper(this.email, this.masterPasswordHash, this.key, twoFactorProvider,\n            twoFactorToken, remember);\n    }\n\n    async logInComplete(email: string, masterPassword: string, twoFactorProvider: TwoFactorProviderType,\n        twoFactorToken: string, remember?: boolean): Promise<AuthResult> {\n        this.selectedTwoFactorProviderType = null;\n        const key = await this.makePreloginKey(masterPassword, email);\n        const hashedPassword = await this.cryptoService.hashPassword(masterPassword, key);\n        return await this.logInHelper(email, hashedPassword, key, twoFactorProvider, twoFactorToken, remember);\n    }\n\n    logOut(callback: Function) {\n        callback();\n        this.messagingService.send('loggedOut');\n    }\n\n    getSupportedTwoFactorProviders(win: Window): any[] {\n        const providers: any[] = [];\n        if (this.twoFactorProviders == null) {\n            return providers;\n        }\n\n        if (this.twoFactorProviders.has(TwoFactorProviderType.OrganizationDuo) &&\n            this.platformUtilsService.supportsDuo()) {\n            providers.push(TwoFactorProviders[TwoFactorProviderType.OrganizationDuo]);\n        }\n\n        if (this.twoFactorProviders.has(TwoFactorProviderType.Authenticator)) {\n            providers.push(TwoFactorProviders[TwoFactorProviderType.Authenticator]);\n        }\n\n        if (this.twoFactorProviders.has(TwoFactorProviderType.Yubikey)) {\n            providers.push(TwoFactorProviders[TwoFactorProviderType.Yubikey]);\n        }\n\n        if (this.twoFactorProviders.has(TwoFactorProviderType.Duo) && this.platformUtilsService.supportsDuo()) {\n            providers.push(TwoFactorProviders[TwoFactorProviderType.Duo]);\n        }\n\n        if (this.twoFactorProviders.has(TwoFactorProviderType.U2f) && this.platformUtilsService.supportsU2f(win)) {\n            providers.push(TwoFactorProviders[TwoFactorProviderType.U2f]);\n        }\n\n        if (this.twoFactorProviders.has(TwoFactorProviderType.Email)) {\n            providers.push(TwoFactorProviders[TwoFactorProviderType.Email]);\n        }\n\n        return providers;\n    }\n\n    getDefaultTwoFactorProvider(u2fSupported: boolean): TwoFactorProviderType {\n        if (this.twoFactorProviders == null) {\n            return null;\n        }\n\n        if (this.selectedTwoFactorProviderType != null &&\n            this.twoFactorProviders.has(this.selectedTwoFactorProviderType)) {\n            return this.selectedTwoFactorProviderType;\n        }\n\n        let providerType: TwoFactorProviderType = null;\n        let providerPriority = -1;\n        this.twoFactorProviders.forEach((value, type) => {\n            const provider = (TwoFactorProviders as any)[type];\n            if (provider != null && provider.priority > providerPriority) {\n                if (type === TwoFactorProviderType.U2f && !u2fSupported) {\n                    return;\n                }\n\n                providerType = type;\n                providerPriority = provider.priority;\n            }\n        });\n\n        return providerType;\n    }\n\n    async makePreloginKey(masterPassword: string, email: string): Promise<SymmetricCryptoKey> {\n        email = email.trim().toLowerCase();\n        this.kdf = null;\n        this.kdfIterations = null;\n        try {\n            const preloginResponse = await this.apiService.postPrelogin(new PreloginRequest(email));\n            if (preloginResponse != null) {\n                this.kdf = preloginResponse.kdf;\n                this.kdfIterations = preloginResponse.kdfIterations;\n            }\n        } catch (e) {\n            if (e == null || e.statusCode !== 404) {\n                throw e;\n            }\n        }\n        return this.cryptoService.makeKey(masterPassword, email, this.kdf, this.kdfIterations);\n    }\n\n    private async logInHelper(email: string, hashedPassword: string, key: SymmetricCryptoKey,\n        twoFactorProvider?: TwoFactorProviderType, twoFactorToken?: string, remember?: boolean): Promise<AuthResult> {\n        const storedTwoFactorToken = await this.tokenService.getTwoFactorToken(email);\n        const appId = await this.appIdService.getAppId();\n        const deviceRequest = new DeviceRequest(appId, this.platformUtilsService);\n\n        let request: TokenRequest;\n        if (twoFactorToken != null && twoFactorProvider != null) {\n            request = new TokenRequest(email, hashedPassword, twoFactorProvider, twoFactorToken, remember,\n                deviceRequest);\n        } else if (storedTwoFactorToken != null) {\n            request = new TokenRequest(email, hashedPassword, TwoFactorProviderType.Remember,\n                storedTwoFactorToken, false, deviceRequest);\n        } else {\n            request = new TokenRequest(email, hashedPassword, null, null, false, deviceRequest);\n        }\n\n        const response = await this.apiService.postIdentityToken(request);\n\n        this.clearState();\n        const result = new AuthResult();\n        result.twoFactor = !(response as any).accessToken;\n\n        if (result.twoFactor) {\n            // two factor required\n            const twoFactorResponse = response as IdentityTwoFactorResponse;\n            this.email = email;\n            this.masterPasswordHash = hashedPassword;\n            this.key = this.setCryptoKeys ? key : null;\n            this.twoFactorProviders = twoFactorResponse.twoFactorProviders2;\n            result.twoFactorProviders = twoFactorResponse.twoFactorProviders2;\n            return result;\n        }\n\n        const tokenResponse = response as IdentityTokenResponse;\n        if (tokenResponse.twoFactorToken != null) {\n            this.tokenService.setTwoFactorToken(tokenResponse.twoFactorToken, email);\n        }\n\n        await this.tokenService.setTokens(tokenResponse.accessToken, tokenResponse.refreshToken);\n        await this.userService.setInformation(this.tokenService.getUserId(), this.tokenService.getEmail(),\n            this.kdf, this.kdfIterations);\n        if (this.setCryptoKeys) {\n            await this.cryptoService.setKey(key);\n            await this.cryptoService.setKeyHash(hashedPassword);\n            await this.cryptoService.setEncKey(tokenResponse.key);\n\n            // User doesn't have a key pair yet (old account), let's generate one for them\n            if (tokenResponse.privateKey == null) {\n                try {\n                    const keyPair = await this.cryptoService.makeKeyPair();\n                    await this.apiService.postAccountKeys(new KeysRequest(keyPair[0], keyPair[1].encryptedString));\n                    tokenResponse.privateKey = keyPair[1].encryptedString;\n                } catch (e) {\n                    // tslint:disable-next-line\n                    console.error(e);\n                }\n            }\n\n            await this.cryptoService.setEncPrivateKey(tokenResponse.privateKey);\n        }\n\n        this.messagingService.send('loggedIn');\n        return result;\n    }\n\n    private clearState(): void {\n        this.email = null;\n        this.masterPasswordHash = null;\n        this.twoFactorProviders = null;\n        this.selectedTwoFactorProviderType = null;\n    }\n}\n","import { UriMatchType } from '../../enums/uriMatchType';\n\nimport { View } from './view';\n\nimport { LoginUri } from '../domain/loginUri';\n\nimport { PlatformUtilsService } from '../../abstractions/platformUtils.service';\n\nimport { Utils } from '../../misc/utils';\n\nexport class LoginUriView implements View {\n    match: UriMatchType = null;\n\n    // tslint:disable\n    private _uri: string;\n    private _domain: string;\n    private _hostname: string;\n    // tslint:enable\n\n    constructor(u?: LoginUri) {\n        if (!u) {\n            return;\n        }\n\n        this.match = u.match;\n    }\n\n    get uri(): string {\n        return this._uri;\n    }\n    set uri(value: string) {\n        this._uri = value;\n        this._domain = null;\n    }\n\n    get domain(): string {\n        if (this._domain == null && this.uri != null) {\n            const containerService = (Utils.global as any).bitwardenContainerService;\n            if (containerService) {\n                const platformUtilsService: PlatformUtilsService = containerService.getPlatformUtilsService();\n                this._domain = platformUtilsService.getDomain(this.uri);\n                if (this._domain === '') {\n                    this._domain = null;\n                }\n            } else {\n                throw new Error('global bitwardenContainerService not initialized.');\n            }\n        }\n\n        return this._domain;\n    }\n\n    get hostname(): string {\n        if (this._hostname == null && this.uri != null) {\n            this._hostname = Utils.getHostname(this.uri);\n            if (this._hostname === '') {\n                this._hostname = null;\n            }\n        }\n\n        return this._hostname;\n    }\n\n    get hostnameOrUri(): string {\n        return this.hostname != null ? this.hostname : this.uri;\n    }\n\n    get isWebsite(): boolean {\n        return this.uri != null && (this.uri.indexOf('http://') === 0 || this.uri.indexOf('https://') === 0);\n    }\n\n    get canLaunch(): boolean {\n        return this.uri != null && this.uri.indexOf('://') > -1;\n    }\n}\n","import { I18nService } from '../abstractions/i18n.service';\n\n// tslint:disable-next-line\nconst nodeURL = typeof window === 'undefined' ? require('url') : null;\n\nexport class Utils {\n    static inited = false;\n    static isNativeScript = false;\n    static isNode = false;\n    static isBrowser = true;\n    static isMobileBrowser = false;\n    static global: any = null;\n\n    static init() {\n        if (Utils.inited) {\n            return;\n        }\n\n        Utils.inited = true;\n        Utils.isNode = typeof process !== 'undefined' && (process as any).release != null &&\n            (process as any).release.name === 'node';\n        Utils.isBrowser = typeof window !== 'undefined';\n        Utils.isNativeScript = !Utils.isNode && !Utils.isBrowser;\n        Utils.isMobileBrowser = Utils.isBrowser && this.isMobile(window);\n        Utils.global = Utils.isNativeScript ? new Object() : (Utils.isNode && !Utils.isBrowser ? global : window);\n    }\n\n    static fromB64ToArray(str: string): Uint8Array {\n        if (Utils.isNode || Utils.isNativeScript) {\n            return new Uint8Array(Buffer.from(str, 'base64'));\n        } else {\n            const binaryString = window.atob(str);\n            const bytes = new Uint8Array(binaryString.length);\n            for (let i = 0; i < binaryString.length; i++) {\n                bytes[i] = binaryString.charCodeAt(i);\n            }\n            return bytes;\n        }\n    }\n\n    static fromHexToArray(str: string): Uint8Array {\n        if (Utils.isNode || Utils.isNativeScript) {\n            return new Uint8Array(Buffer.from(str, 'hex'));\n        } else {\n            const bytes = new Uint8Array(str.length / 2);\n            for (let i = 0; i < str.length; i += 2) {\n                bytes[i / 2] = parseInt(str.substr(i, 2), 16);\n            }\n            return bytes;\n        }\n    }\n\n    static fromUtf8ToArray(str: string): Uint8Array {\n        if (Utils.isNode || Utils.isNativeScript) {\n            return new Uint8Array(Buffer.from(str, 'utf8'));\n        } else {\n            const strUtf8 = unescape(encodeURIComponent(str));\n            const arr = new Uint8Array(strUtf8.length);\n            for (let i = 0; i < strUtf8.length; i++) {\n                arr[i] = strUtf8.charCodeAt(i);\n            }\n            return arr;\n        }\n    }\n\n    static fromByteStringToArray(str: string): Uint8Array {\n        const arr = new Uint8Array(str.length);\n        for (let i = 0; i < str.length; i++) {\n            arr[i] = str.charCodeAt(i);\n        }\n        return arr;\n    }\n\n    static fromBufferToB64(buffer: ArrayBuffer): string {\n        if (Utils.isNode || Utils.isNativeScript) {\n            return Buffer.from(buffer).toString('base64');\n        } else {\n            let binary = '';\n            const bytes = new Uint8Array(buffer);\n            for (let i = 0; i < bytes.byteLength; i++) {\n                binary += String.fromCharCode(bytes[i]);\n            }\n            return window.btoa(binary);\n        }\n    }\n\n    static fromBufferToUtf8(buffer: ArrayBuffer): string {\n        if (Utils.isNode || Utils.isNativeScript) {\n            return Buffer.from(buffer).toString('utf8');\n        } else {\n            const bytes = new Uint8Array(buffer);\n            const encodedString = String.fromCharCode.apply(null, bytes);\n            return decodeURIComponent(escape(encodedString));\n        }\n    }\n\n    static fromBufferToByteString(buffer: ArrayBuffer): string {\n        return String.fromCharCode.apply(null, new Uint8Array(buffer));\n    }\n\n    // ref: https://stackoverflow.com/a/40031979/1090359\n    static fromBufferToHex(buffer: ArrayBuffer): string {\n        if (Utils.isNode || Utils.isNativeScript) {\n            return Buffer.from(buffer).toString('hex');\n        } else {\n            const bytes = new Uint8Array(buffer);\n            return Array.prototype.map.call(bytes, (x: number) => ('00' + x.toString(16)).slice(-2)).join('');\n        }\n    }\n\n    static fromUrlB64ToUtf8(b64Str: string): string {\n        let output = b64Str.replace(/-/g, '+').replace(/_/g, '/');\n        switch (output.length % 4) {\n            case 0:\n                break;\n            case 2:\n                output += '==';\n                break;\n            case 3:\n                output += '=';\n                break;\n            default:\n                throw new Error('Illegal base64url string!');\n        }\n\n        return Utils.fromB64ToUtf8(output);\n    }\n\n    static fromB64ToUtf8(b64Str: string): string {\n        if (Utils.isNode || Utils.isNativeScript) {\n            return Buffer.from(b64Str, 'base64').toString('utf8');\n        } else {\n            return decodeURIComponent(escape(window.atob(b64Str)));\n        }\n    }\n\n    // ref: http://stackoverflow.com/a/2117523/1090359\n    static newGuid(): string {\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n            // tslint:disable-next-line\n            const r = Math.random() * 16 | 0;\n            // tslint:disable-next-line\n            const v = c === 'x' ? r : (r & 0x3 | 0x8);\n            return v.toString(16);\n        });\n    }\n\n    static getHostname(uriString: string): string {\n        const url = Utils.getUrl(uriString);\n        try {\n            return url != null ? url.hostname : null;\n        } catch {\n            return null;\n        }\n    }\n\n    static getHost(uriString: string): string {\n        const url = Utils.getUrl(uriString);\n        try {\n            return url != null ? url.host : null;\n        } catch {\n            return null;\n        }\n    }\n\n    static getQueryParams(uriString: string): Map<string, string> {\n        const url = Utils.getUrl(uriString);\n        if (url == null || url.search == null || url.search === '') {\n            return null;\n        }\n        const map = new Map<string, string>();\n        const pairs = (url.search[0] === '?' ? url.search.substr(1) : url.search).split('&');\n        pairs.forEach((pair) => {\n            const parts = pair.split('=');\n            if (parts.length < 1) {\n                return;\n            }\n            map.set(decodeURIComponent(parts[0]).toLowerCase(), parts[1] == null ? '' : decodeURIComponent(parts[1]));\n        });\n        return map;\n    }\n\n    static getSortFunction(i18nService: I18nService, prop: string) {\n        return (a: any, b: any) => {\n            if (a[prop] == null && b[prop] != null) {\n                return -1;\n            }\n            if (a[prop] != null && b[prop] == null) {\n                return 1;\n            }\n            if (a[prop] == null && b[prop] == null) {\n                return 0;\n            }\n\n            return i18nService.collator ? i18nService.collator.compare(a[prop], b[prop]) :\n                a[prop].localeCompare(b[prop]);\n        };\n    }\n\n    private static isMobile(win: Window) {\n        let mobile = false;\n        ((a) => {\n            // tslint:disable-next-line\n            if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) {\n                mobile = true;\n            }\n        })(win.navigator.userAgent || win.navigator.vendor || (win as any).opera);\n        return mobile || win.navigator.userAgent.match(/iPad/i) != null;\n    }\n\n    private static getUrl(uriString: string): URL {\n        if (uriString == null) {\n            return null;\n        }\n\n        uriString = uriString.trim();\n        if (uriString === '') {\n            return null;\n        }\n\n        const hasProtocol = uriString.indexOf('://') > -1;\n        if (!hasProtocol && uriString.indexOf('.') > -1) {\n            uriString = 'http://' + uriString;\n        } else if (!hasProtocol) {\n            return null;\n        }\n\n        try {\n            if (nodeURL != null) {\n                return nodeURL.URL ? new nodeURL.URL(uriString) : nodeURL.parse(uriString);\n            } else if (typeof URL === 'function') {\n                return new URL(uriString);\n            } else if (window != null) {\n                const anchor = window.document.createElement('a');\n                anchor.href = uriString;\n                return anchor as any;\n            }\n        } catch (e) { }\n\n        return null;\n    }\n}\n\nUtils.init();\n"],"sourceRoot":""}